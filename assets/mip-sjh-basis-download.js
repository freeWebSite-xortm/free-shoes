(window.MIP=window.MIP||[]).push({name:"mip-sjh-basis-download",func:function(){var e=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://c.mipcdn.com/static/v2/fc-platform/mip-sjh-basis-download-269/",n(n.s=69)}([function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_an-object"]},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_wks"]},function(e,t){e.exports=__mipComponentsWebpackHelpers__["@babel/runtime/helpers/esm/defineProperty"]},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_object-dp"]},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_descriptors"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DOWNLOADSTATUS=void 0;t.DOWNLOADSTATUS={NOTDOWNLOAD:"0",DOWNLOADING:"1",SUSPEND:"2",DOWNLOADED:"3",FAIL:"4",PENDING:"5",OPEN:"6"}},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_fails"]},function(e,t){e.exports=__mipComponentsWebpackHelpers__["@babel/runtime/regenerator/index"]},function(e,t,n){var o=n(15),r=n(56),i=n(3).f,a=n(48).f,c=n(54),s=n(20),u=o.RegExp,d=u,p=u.prototype,l=/a/g,f=/a/g,b=new u(l)!==l;if(n(4)&&(!b||n(6)(function(){return f[n(1)("match")]=!1,u(l)!=l||u(f)==f||"/a/i"!=u(l,"i")}))){u=function(e,t){var n=this instanceof u,o=c(e),i=void 0===t;return!n&&o&&e.constructor===u&&i?e:r(b?new d(o&&!i?e.source:e,t):d((o=e instanceof u)?e.source:e,o&&i?s.call(e):t),n?this:p,u)};for(var h=function(e){e in u||i(u,e,{configurable:!0,get:function(){return d[e]},set:function(t){d[e]=t}})},m=a(d),g=0;m.length>g;)h(m[g++]);p.constructor=u,u.prototype=p,n(13)(o,"RegExp",u)}n(79)("RegExp")},function(e,t,n){"use strict";var o=n(0),r=n(24),i=n(32),a=n(21);n(19)("match",1,function(e,t,n,c){return[function(n){var o=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,o):new RegExp(n)[t](String(o))},function(e){var t=c(n,e,this);if(t.done)return t.value;var s=o(e),u=String(this);if(!s.global)return a(s,u);var d=s.unicode;s.lastIndex=0;for(var p,l=[],f=0;null!==(p=a(s,u));){var b=String(p[0]);l[f]=b,""===b&&(s.lastIndex=i(u,r(s.lastIndex),d)),f++}return 0===f?null:l}]})},function(e,t,n){"use strict";var o=n(0),r=n(80),i=n(21);n(19)("search",1,function(e,t,n,a){return[function(n){var o=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,o):new RegExp(n)[t](String(o))},function(e){var t=a(n,e,this);if(t.done)return t.value;var c=o(e),s=String(this),u=c.lastIndex;r(u,0)||(c.lastIndex=0);var d=i(c,s);return r(c.lastIndex,u)||(c.lastIndex=u),null===d?-1:d.index}]})},function(e,t,n){"use strict";var o=n(54),r=n(0),i=n(85),a=n(32),c=n(24),s=n(21),u=n(31),d=n(6),p=Math.min,l=[].push,f=!d(function(){RegExp(4294967295,"y")});n(19)("split",2,function(e,t,n,d){var b;return b="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!o(e))return n.call(r,e,t);for(var i,a,c,s=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,f=void 0===t?4294967295:t>>>0,b=new RegExp(e.source,d+"g");(i=u.call(b,r))&&!((a=b.lastIndex)>p&&(s.push(r.slice(p,i.index)),i.length>1&&i.index<r.length&&l.apply(s,i.slice(1)),c=i[0].length,p=a,s.length>=f));)b.lastIndex===i.index&&b.lastIndex++;return p===r.length?!c&&b.test("")||s.push(""):s.push(r.slice(p)),s.length>f?s.slice(0,f):s}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,o){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r,o):b.call(String(r),n,o)},function(e,t){var o=d(b,e,this,t,b!==n);if(o.done)return o.value;var u=r(e),l=String(this),h=i(u,RegExp),m=u.unicode,g=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(f?"y":"g"),v=new h(f?u:"^(?:"+u.source+")",g),w=void 0===t?4294967295:t>>>0;if(0===w)return[];if(0===l.length)return null===s(v,l)?[l]:[];for(var y=0,O=0,k=[];O<l.length;){v.lastIndex=f?O:0;var P,D=s(v,f?l:l.slice(O));if(null===D||(P=p(c(v.lastIndex+(f?0:O)),l.length))===y)O=a(l,O,m);else{if(k.push(l.slice(y,O)),k.length===w)return k;for(var _=1;_<=D.length-1;_++)if(k.push(D[_]),k.length===w)return k;O=y=P}}return k.push(l.slice(y)),k}]})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSmartProgram=t.isSafari=t.isMobads=t.isHaokanApp=t.isBaiduApp=t.isIOS=t.isAndroid=void 0;t.isAndroid=function(){return/android/i.test(navigator.userAgent)};t.isIOS=function(){return/iPad|iPhone|iPod/i.test(navigator.userAgent)};t.isBaiduApp=function(){return/baiduboxapp/i.test(navigator.userAgent)};t.isHaokanApp=function(){return/haokan/i.test(navigator.userAgent)};t.isMobads=function(){return/Mobads/i.test(navigator.userAgent)};t.isSafari=function(){return!/android/i.test(navigator.userAgent)&&/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//i.test(navigator.userAgent)};t.isSmartProgram=function(){return/swan/i.test(navigator.userAgent)}},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_redefine"]},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/web.dom.iterable"]},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_global"]},function(e,t,n){var o=n(132),r=n(25);e.exports=function(e){return o(r(e))}},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_has"]},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_export"]},function(e,t,n){"use strict";n(81);var o=n(13),r=n(22),i=n(6),a=n(25),c=n(1),s=n(31),u=c("species"),d=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),p=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var l=c(e),f=!i(function(){var t={};return t[l]=function(){return 7},7!=""[e](t)}),b=f?!i(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[l](""),!t}):void 0;if(!f||!b||"replace"===e&&!d||"split"===e&&!p){var h=/./[l],m=n(a,l,""[e],function(e,t,n,o,r){return t.exec===s?f&&!r?{done:!0,value:h.call(t,n,o)}:{done:!0,value:e.call(n,t,o)}:{done:!1}}),g=m[0],v=m[1];o(String.prototype,e,g),r(RegExp.prototype,l,2==t?function(e,t){return v.call(e,this,t)}:function(e){return v.call(e,this)})}}},function(e,t,n){"use strict";var o=n(0);e.exports=function(){var e=o(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var o=n(82),r=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==o(e))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_hide"]},function(e,t,n){"use strict";var o=n(61),r=n(126),i=n(60),a=n(16);e.exports=n(125)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_to-length"]},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_defined"]},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var o=n(18),r=n(133),i=n(16),a=n(44),c=n(127);o(o.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,o=i(e),s=a.f,u=r(o),d={},p=0;u.length>p;)void 0!==(n=s(o,t=u[p++]))&&c(d,t,n);return d}})},function(e,t){e.exports=__mipComponentsWebpackHelpers__["@babel/runtime/helpers/esm/asyncToGenerator"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DownloadSDK",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"DOWNLOADSTATUS",{enumerable:!0,get:function(){return r.DOWNLOADSTATUS}});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(105)),r=n(5)},function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty,r=Array.isArray,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)void 0!==e[o]&&(n[o]=e[o]);return n};e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],o=0;o<t.length;++o)for(var i=t[o],a=i.obj[i.prop],c=Object.keys(a),s=0;s<c.length;++s){var u=c[s],d=a[u];"object"==typeof d&&null!==d&&-1===n.indexOf(d)&&(t.push({obj:a,prop:u}),n.push(d))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(r(n)){for(var o=[],i=0;i<n.length;++i)void 0!==n[i]&&o.push(n[i]);t.obj[t.prop]=o}}}(t),e},decode:function(e,t,n){var o=e.replace(/\+/g," ");if("iso-8859-1"===n)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(e){return o}},encode:function(e,t,n){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var r="",a=0;a<o.length;++a){var c=o.charCodeAt(a);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?r+=o.charAt(a):c<128?r+=i[c]:c<2048?r+=i[192|c>>6]+i[128|63&c]:c<55296||c>=57344?r+=i[224|c>>12]+i[128|c>>6&63]+i[128|63&c]:(a+=1,c=65536+((1023&c)<<10|1023&o.charCodeAt(a)),r+=i[240|c>>18]+i[128|c>>12&63]+i[128|c>>6&63]+i[128|63&c])}return r},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(r(e)){for(var n=[],o=0;o<e.length;o+=1)n.push(t(e[o]));return n}return t(e)},merge:function e(t,n,i){if(!n)return t;if("object"!=typeof n){if(r(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(i&&(i.plainObjects||i.allowPrototypes)||!o.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var c=t;return r(t)&&!r(n)&&(c=a(t,i)),r(t)&&r(n)?(n.forEach(function(n,r){if(o.call(t,r)){var a=t[r];a&&"object"==typeof a&&n&&"object"==typeof n?t[r]=e(a,n,i):t.push(n)}else t[r]=n}),t):Object.keys(n).reduce(function(t,r){var a=n[r];return o.call(t,r)?t[r]=e(t[r],a,i):t[r]=a,t},c)}}},function(e,t,n){"use strict";var o=n(20),r=RegExp.prototype.exec,i=String.prototype.replace,a=r,c=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),s=void 0!==/()??/.exec("")[1];(c||s)&&(a=function(e){var t,n,a,u,d=this;return s&&(n=new RegExp("^"+d.source+"$(?!\\s)",o.call(d))),c&&(t=d.lastIndex),a=r.call(d,e),c&&a&&(d.lastIndex=d.global?a.index+a[0].length:t),s&&a&&a.length>1&&i.call(a[0],n,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(a[u]=void 0)}),a}),e.exports=a},function(e,t,n){"use strict";var o=n(83)(!0);e.exports=function(e,t,n){return t+(n?o(e,t).length:1)}},function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.isSafari=void 0;var a=n(34),c=n(96).MACRO_LIST,s=a.checkHostName,u=a.versionCompare,d=a.clientInfo,p=d.OS,l=d.packageName,f=d.deviceId,b=d.appVer,h=d.isBoxapp,m=d.isMobads,g={defaultPage:"padownload",pages:{},changePage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"padownload";if(!e||!Object.keys(e).length)return this.defaultPage;var n=e.docId,o=e.appStoreId,r="iOS"===p?o:n,i=this.pages[r];return i||(i=r?"".concat(t,"_").concat(r):t,this.pages[r]=i,i)}},v=function(e){var t=e.header,n=e.params,o=e.callback,i=t+encodeURIComponent(JSON.stringify(r({},n)))+(o||"");return s("wejianzhan.com")&&u(b,"11.15")<0&&(i+="&oauthType=wejianzhan"),i};t.isSafari=function(){return!/android/i.test(navigator.userAgent)&&/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//i.test(navigator.userAgent)};var w=function(e){e&&(m||h?k(e):y(e))},y=function(e){window.top.location.href=e},O=null,k=function(e){O||((O=document.createElement("iframe")).frameBorder="0",O.style.cssText="display:none;border:0;width:0;height:0;",(document.body||document.getElementsByTagName("body")[0]).appendChild(O));O.src=e},P=function(e){for(var t=p.toLowerCase(),n=0,o=Object.keys(c);n<o.length;n++){var r=o[n],i=new RegExp(r,"g");"{{DEEPLINK_KEPLERID}}"===r||"{{DEEPLINK_KEPLERID_M}}"===r?l&&(e=e.replace(i,c[r][t][l])):e="{{DEVICE_ID}}"===r?e.replace(i,f):e.replace(i,c[r][t])}return e=(e=e.replace(/\{/g,encodeURIComponent("{"))).replace(/\}/g,encodeURIComponent("}"))},D=function(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=g.changePage(i);return v({header:"baiduboxapp://v7/vendor/ad/deeplink?params=",params:r({appUrl:P(e),webUrl:n||"",pkgName:o||"",source:"feedna",exemption:1},i,{extInfo:t,autoInvoke:1}),callback:'&callback=window["'+a+'"].deeplinkCb'})},_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4?arguments[4]:void 0;return w(D(e,t,n,o,r))};e.exports={BTNTEXTMAP:{DOWNLOAD:"立即下载",CONTINUE:"继续下载",INSTALL:"立即安装",OPEN:"立即打开"},buildBoxScheme:v,execScheme:w,buildDeeplinkScheme:D,deeplink:_,execThirdPartAuthenticate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;return w(function(e,t,n,o){var r=g.changePage(o);return v({header:"baiduboxapp://v16/public/thirdPart/config?params=",params:{type:e,schemeList:t,ext:n},callback:'&callback=window["'+r+'"].thirdPartAuthenticateCb'})}(e,t,n,o))},openH5:function(e){return w(function(e){return"baiduboxapp://v1/easybrowse/open?showtitlebar=1&newbrowser=1&append=0&url="+encodeURIComponent(e)}(e))},deeplinkWithCb:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return new Promise(function(i,a){if(h||m){var c=g.changePage(r);window[c]=window[c]||{},window[c].deeplinkCb=function(e){"string"==typeof e?(e=JSON.parse(e),i(e)):a("deeplink",!1)},_(e,t,n,o,r)}else i({status:201})})},commontUtils:g,exchangeNaUrl:P}},function(e,t,n){"use strict";function o(){return/android/i.test(navigator.userAgent)?"Android":/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?"iOS":"Unknown"}function r(){return/baiduboxapp/.exec(navigator.userAgent)}e.exports={clientInfo:{IP:"",UA:navigator.userAgent||"",OS:o(),isBoxapp:r(),isMobads:/Mobads/.exec(navigator.userAgent),packageName:"",appVer:function(){var e=/([\d+.]+)_(?:diordna|enohpi)_/.exec(navigator.userAgent),t=/baiduboxapp\/([\d+.]+)/.exec(navigator.userAgent);return t?t[1]:e?e[1].split(".").reverse().join("."):""}(),deviceId:""},versionCompare:function(e,t){for(var n=e.toString().split("."),o=t.toString().split("."),r=Math.max(n.length,o.length),i=0;i<r;i++){if(n[i]&&!o[i]&&parseInt(n[i],10)>0||parseInt(n[i],10)>parseInt(o[i],10))return 1;if(o[i]&&!n[i]&&parseInt(o[i],10)>0||parseInt(n[i],10)<parseInt(o[i],10))return-1}return 0},sniffer:function(){var e,t=o(),n=r();switch(t){case"Android":e=n?"BoxAdr":"WiseAdr";break;case"iOS":e=n?"BoxiOS":"WiseiOS";break;default:e="Unknown"}return e},checkHostName:function(e){return window.location.hostname.indexOf(e)>-1}}},function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(34),c=n(33),s=c.BTNTEXTMAP,u=c.execScheme,d=c.deeplink,p=c.openH5,l=c.execThirdPartAuthenticate,f=c.deeplinkWithCb,b=c.commontUtils,h=c.exchangeNaUrl,m=n(95),g=n(94),v={};v.Android=r({BTNTEXTMAP:s,execScheme:u,deeplink:d},m),v.iOS=r({BTNTEXTMAP:s,execScheme:u,deeplink:d,openH5:p},g),e.exports=r({deeplinkWithCb:f,execThirdPartAuthenticate:l},a,{},v,{commontUtils:b,exchangeNaUrl:h})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.jumpUrl=void 0;var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e&&function(e){window.top.location.href=e}(e)};t.jumpUrl=o;var r=o;t.default=r},function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.isSafari=void 0;var a=n(38),c=n(111).MACRO_LIST,s=a.checkHostName,u=a.versionCompare,d=a.clientInfo,p=d.OS,l=d.packageName,f=d.deviceId,b=d.appVer,h=d.isBoxapp,m=d.isMobads,g={defaultPage:"padownload",pages:{},changePage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"padownload";if(!e||!Object.keys(e).length)return this.defaultPage;var n=e.docId,o=e.appStoreId,r="iOS"===p?o:n,i=this.pages[r];return i||(i=r?"".concat(t,"_").concat(r):t,this.pages[r]=i,i)}},v=function(e){var t=e.header,n=e.params,o=e.callback,i=t+encodeURIComponent(JSON.stringify(r({},n)))+(o||"");return s("wejianzhan.com")&&u(b,"11.15")<0&&(i+="&oauthType=wejianzhan"),i};t.isSafari=function(){return!/android/i.test(navigator.userAgent)&&/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//i.test(navigator.userAgent)};var w=function(e){e&&(m||h?k(e):y(e))},y=function(e){window.top.location.href=e},O=null,k=function(e){O||((O=document.createElement("iframe")).frameBorder="0",O.style.cssText="display:none;border:0;width:0;height:0;",(document.body||document.getElementsByTagName("body")[0]).appendChild(O));O.src=e},P=function(e){for(var t=p.toLowerCase(),n=0,o=Object.keys(c);n<o.length;n++){var r=o[n],i=new RegExp(r,"g");"{{DEEPLINK_KEPLERID}}"===r||"{{DEEPLINK_KEPLERID_M}}"===r?l&&(e=e.replace(i,c[r][t][l])):e="{{DEVICE_ID}}"===r?e.replace(i,f):e.replace(i,c[r][t])}return e=(e=e.replace(/\{/g,encodeURIComponent("{"))).replace(/\}/g,encodeURIComponent("}"))},D=function(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=g.changePage(i);return v({header:"baiduboxapp://v7/vendor/ad/deeplink?params=",params:r(r({appUrl:P(e),webUrl:n||"",pkgName:o||"",source:"feedna",exemption:1},i),{},{extInfo:t,autoInvoke:1}),callback:'&callback=window["'+a+'"].deeplinkCb'})},_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4?arguments[4]:void 0;return w(D(e,t,n,o,r))};e.exports={BTNTEXTMAP:{DOWNLOAD:"立即下载",CONTINUE:"继续下载",INSTALL:"立即安装",OPEN:"立即打开"},buildBoxScheme:v,execScheme:w,buildDeeplinkScheme:D,deeplink:_,execThirdPartAuthenticate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;return w(function(e,t,n,o){var r=g.changePage(o);return v({header:"baiduboxapp://v16/public/thirdPart/config?params=",params:{type:e,schemeList:t,ext:n},callback:'&callback=window["'+r+'"].thirdPartAuthenticateCb'})}(e,t,n,o))},openH5:function(e){return w(function(e){return"baiduboxapp://v1/easybrowse/open?showtitlebar=1&newbrowser=1&append=0&url="+encodeURIComponent(e)}(e))},deeplinkWithCb:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return new Promise(function(i,a){if(h||m){var c=g.changePage(r);window[c]=window[c]||{},window[c].deeplinkCb=function(e){"string"==typeof e?(e=JSON.parse(e),i(e)):a("deeplink",!1)},_(e,t,n,o,r)}else i({status:201})})},launchWechatXcx:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(t,n){var o=g.changePage({});if(h||m)return window[o]=window[o]||{},window[o].launchCallback=function(e){"string"==typeof e?(e=JSON.parse(e),t(e)):n("deeplink",!1)},w(v({header:"baiduboxapp://v7/vendor/ad/openWXMnProgram?params=",params:e,callback:'&callback=window["'+o+'"].launchCallback'}));t({status:201,message:"端外不调起"})})},commontUtils:g,exchangeNaUrl:P}},function(e,t,n){"use strict";function o(){return/android/i.test(navigator.userAgent)?"Android":/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?"iOS":"Unknown"}function r(){return/baiduboxapp/.exec(navigator.userAgent)}e.exports={clientInfo:{IP:"",UA:navigator.userAgent||"",OS:o(),isBoxapp:r(),isMobads:/Mobads/.exec(navigator.userAgent),packageName:"",appVer:function(){var e=/([\d+.]+)_(?:diordna|enohpi)_/.exec(navigator.userAgent),t=/baiduboxapp\/([\d+.]+)/.exec(navigator.userAgent);return t?t[1]:e?e[1].split(".").reverse().join("."):""}(),deviceId:""},versionCompare:function(e,t){for(var n=e.toString().split("."),o=t.toString().split("."),r=Math.max(n.length,o.length),i=0;i<r;i++){if(n[i]&&!o[i]&&parseInt(n[i],10)>0||parseInt(n[i],10)>parseInt(o[i],10))return 1;if(o[i]&&!n[i]&&parseInt(o[i],10)>0||parseInt(n[i],10)<parseInt(o[i],10))return-1}return 0},sniffer:function(){var e,t=o(),n=r();switch(t){case"Android":e=n?"BoxAdr":"WiseAdr";break;case"iOS":e=n?"BoxiOS":"WiseiOS";break;default:e="Unknown"}return e},checkHostName:function(e){return window.location.hostname.indexOf(e)>-1}}},function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(38),c=n(37),s=c.BTNTEXTMAP,u=c.execScheme,d=c.deeplink,p=c.openH5,l=c.execThirdPartAuthenticate,f=c.deeplinkWithCb,b=c.commontUtils,h=c.exchangeNaUrl,m=n(110),g=n(109),v={};v.Android=r({BTNTEXTMAP:s,execScheme:u,deeplink:d},m),v.iOS=r({BTNTEXTMAP:s,execScheme:u,deeplink:d,openH5:p},g),e.exports=r(r(r({deeplinkWithCb:f,execThirdPartAuthenticate:l},a),v),{},{commontUtils:b,exchangeNaUrl:h})},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_is-object"]},function(e,t,n){"use strict";var o=n(15),r=n(17),i=n(26),a=n(56),c=n(62),s=n(6),u=n(48).f,d=n(44).f,p=n(3).f,l=n(114).trim,f=o.Number,b=f,h=f.prototype,m="Number"==i(n(59)(h)),g="trim"in String.prototype,v=function(e){var t=c(e,!1);if("string"==typeof t&&t.length>2){var n,o,r,i=(t=g?t.trim():l(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+t}for(var a,s=t.slice(2),u=0,d=s.length;u<d;u++)if((a=s.charCodeAt(u))<48||a>r)return NaN;return parseInt(s,o)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof f&&(m?s(function(){h.valueOf.call(n)}):"Number"!=i(n))?a(new b(v(t)),n,f):v(t)};for(var w,y=n(4)?u(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;y.length>O;O++)r(b,w=y[O])&&!r(f,w)&&p(f,w,d(b,w));f.prototype=h,h.constructor=f,n(13)(o,"Number",f)}},function(e,t,n){"use strict";var o=n(18),r=n(63)(!0);o(o.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(61)("includes")},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_property-desc"]},function(e,t,n){var o=n(129),r=n(43),i=n(16),a=n(62),c=n(17),s=n(128),u=Object.getOwnPropertyDescriptor;t.f=n(4)?u:function(e,t){if(e=i(e),t=a(t,!0),s)try{return u(e,t)}catch(e){}if(c(e,t))return r(!o.f.call(e,t),e[t])}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_shared-key"]},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_to-integer"]},function(e,t,n){var o=n(64),r=n(45).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,r)}},function(e,t,n){(function(n){var o;!function(n,r){e.exports=function(n){"use strict";var r,i=(n=n||{}).Base64,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=function(e){for(var t={},n=0,o=e.length;n<o;n++)t[e.charAt(n)]=n;return t}(a),s=String.fromCharCode,u=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?s(192|t>>>6)+s(128|63&t):s(224|t>>>12&15)+s(128|t>>>6&63)+s(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return s(240|t>>>18&7)+s(128|t>>>12&63)+s(128|t>>>6&63)+s(128|63&t)},d=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,p=function(e){return e.replace(d,u)},l=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),o=[a.charAt(n>>>18),a.charAt(n>>>12&63),t>=2?"=":a.charAt(n>>>6&63),t>=1?"=":a.charAt(63&n)];return o.join("")},f=n.btoa&&"function"==typeof n.btoa?function(e){return n.btoa(e)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,l)},b=function(e){return f(p(String(e)))},h=function(e){return e.replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,"")},m=function(e,t){return t?h(b(e)):b(e)};n.Uint8Array&&(r=function(e,t){for(var n="",o=0,r=e.length;o<r;o+=3){var i=e[o],c=e[o+1],s=e[o+2],u=i<<16|c<<8|s;n+=a.charAt(u>>>18)+a.charAt(u>>>12&63)+(void 0!==c?a.charAt(u>>>6&63):"=")+(void 0!==s?a.charAt(63&u):"=")}return t?h(n):n});var g,v=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,w=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return s(55296+(n>>>10))+s(56320+(1023&n));case 3:return s((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return s((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},y=function(e){return e.replace(v,w)},O=function(e){var t=e.length,n=t%4,o=(t>0?c[e.charAt(0)]<<18:0)|(t>1?c[e.charAt(1)]<<12:0)|(t>2?c[e.charAt(2)]<<6:0)|(t>3?c[e.charAt(3)]:0),r=[s(o>>>16),s(o>>>8&255),s(255&o)];return r.length-=[0,0,2,1][n],r.join("")},k=n.atob&&"function"==typeof n.atob?function(e){return n.atob(e)}:function(e){return e.replace(/\S{1,4}/g,O)},P=function(e){return k(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},D=function(e){return String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,"")},_=function(e){return function(e){return y(k(e))}(D(e))};n.Uint8Array&&(g=function(e){return Uint8Array.from(P(D(e)),function(e){return e.charCodeAt(0)})});if(n.Base64={VERSION:"2.6.4",atob:P,btoa:f,fromBase64:_,toBase64:m,utob:p,encode:m,encodeURI:function(e){return m(e,!0)},btou:y,decode:_,noConflict:function(){var e=n.Base64;return n.Base64=i,e},fromUint8Array:r,toUint8Array:g},"function"==typeof Object.defineProperty){var I=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};n.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",I(function(){return _(this)})),Object.defineProperty(String.prototype,"toBase64",I(function(e){return m(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",I(function(){return m(this,!0)}))}}n.Meteor&&(Base64=n.Base64);void 0!==e&&e.exports?e.exports.Base64=n.Base64:void 0===(o=function(){return n.Base64}.apply(t,[]))||(e.exports=o);return{Base64:n.Base64}}(n)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:this)}).call(this,n(76))},function(e,t,n){var o=n(72);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n(70).default)("77d57252",o,!0,{})},function(e,t,n){"use strict";var o=String.prototype.replace,r=/%20/g,i=n(30),a={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=i.assign({default:a.RFC3986,formatters:{RFC1738:function(e){return o.call(e,r,"+")},RFC3986:function(e){return String(e)}}},a)},function(e,t){e.exports=__mipComponentsWebpackHelpers__["regenerator-runtime/runtime"]},function(e,t,n){"use strict";var o=n(0),r=n(57),i=n(24),a=n(47),c=n(32),s=n(21),u=Math.max,d=Math.min,p=Math.floor,l=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,b=function(e){return void 0===e?e:String(e)};n(19)("replace",2,function(e,t,n,h){return[function(o,r){var i=e(this),a=void 0==o?void 0:o[t];return void 0!==a?a.call(o,i,r):n.call(String(i),o,r)},function(e,t){var r=h(n,e,this,t);if(r.done)return r.value;var p=o(e),l=String(this),f="function"==typeof t;f||(t=String(t));var g=p.global;if(g){var v=p.unicode;p.lastIndex=0}for(var w=[];;){var y=s(p,l);if(null===y)break;if(w.push(y),!g)break;""===String(y[0])&&(p.lastIndex=c(l,i(p.lastIndex),v))}for(var O="",k=0,P=0;P<w.length;P++){y=w[P];for(var D=String(y[0]),_=u(d(a(y.index),l.length),0),I=[],S=1;S<y.length;S++)I.push(b(y[S]));var x=y.groups;if(f){var A=[D].concat(I,_,l);void 0!==x&&A.push(x);var j=String(t.apply(void 0,A))}else j=m(D,l,_,I,x,t);_>=k&&(O+=l.slice(k,_)+j,k=_+D.length)}return O+l.slice(k)}];function m(e,t,o,i,a,c){var s=o+e.length,u=i.length,d=f;return void 0!==a&&(a=r(a),d=l),n.call(c,d,function(n,r){var c;switch(r.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,o);case"'":return t.slice(s);case"<":c=a[r.slice(1,-1)];break;default:var d=+r;if(0===d)return n;if(d>u){var l=p(d/10);return 0===l?n:l<=u?void 0===i[l-1]?r.charAt(1):i[l-1]+r.charAt(1):n}c=i[d-1]}return void 0===c?"":c})}})},function(e,t,n){var o=n(40),r=n(26),i=n(1)("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==r(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextMap=void 0;var o,r=n(5);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(i(o={},r.DOWNLOADSTATUS.NOTDOWNLOAD,"立即下载"),i(o,r.DOWNLOADSTATUS.DOWNLOADED,"正在下载"),i(o,r.DOWNLOADSTATUS.SUSPEND,"继续下载"),i(o,r.DOWNLOADSTATUS.DOWNLOADED,"立即安装"),i(o,r.DOWNLOADSTATUS.FAIL,"重新下载"),i(o,r.DOWNLOADSTATUS.PENDING,"再次下载"),i(o,r.DOWNLOADSTATUS.OPEN,"立即打开"),o);t.TextMap=a},function(e,t,n){var o=n(40),r=n(116).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&o(i)&&r&&r(e,i),e}},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_to-object"]},function(e,t,n){var o=n(3).f,r=n(17),i=n(1)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,i)&&o(e,i,{configurable:!0,value:t})}},function(e,t,n){var o=n(0),r=n(122),i=n(45),a=n(46)("IE_PROTO"),c=function(){},s=function(){var e,t=n(120)("iframe"),o=i.length;for(t.style.display="none",n(119).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;o--;)delete s.prototype[i[o]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(c.prototype=o(e),n=new c,c.prototype=null,n[a]=e):n=s(),void 0===t?n:r(n,t)}},function(e,t){e.exports={}},function(e,t,n){var o=n(1)("unscopables"),r=Array.prototype;void 0==r[o]&&n(22)(r,o,{}),e.exports=function(e){r[o][e]=!0}},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_to-primitive"]},function(e,t,n){var o=n(16),r=n(24),i=n(131);e.exports=function(e){return function(t,n,a){var c,s=o(t),u=r(s.length),d=i(a,u);if(e&&n!=n){for(;u>d;)if((c=s[d++])!=c)return!0}else for(;u>d;d++)if((e||d in s)&&s[d]===n)return e||d||0;return!e&&-1}}},function(e,t,n){var o=n(17),r=n(16),i=n(63)(!1),a=n(46)("IE_PROTO");e.exports=function(e,t){var n,c=r(e),s=0,u=[];for(n in c)n!=a&&o(c,n)&&u.push(n);for(;t.length>s;)o(c,n=t[s++])&&(~i(u,n)||u.push(n));return u}},function(e,t){e.exports=__mipComponentsWebpackHelpers__["vue-loader/lib/runtime/componentNormalizer"]},function(e,t,n){"use strict";var o=n(75),r=n(74),i=n(51);e.exports={formats:i,parse:r,stringify:o}},function(e,t,n){"use strict";function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.downSdk=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var c=r?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(n,a,c):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(112));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var a={Base:r.default,deeplink:r.deeplink,execScheme:r.execScheme,buildDyV14Scheme:r.buildDyV14Scheme,unregisterDownloadProcess:r.unregisterDownloadProcess,registerDeeplink:r.registerDeeplink,exchangeNaUrl:r.exchangeNaUrl,updateAppStatus:r.updateAppStatus};t.downSdk=a},function(e,t){e.exports=__mipComponentsWebpackHelpers__["@babel/runtime/helpers/esm/classCallCheck"]},function(e,t,n){"use strict";n.r(t);n(27),n(14),n(23),n(42);var o=n(2),r=n.n(o),i=(n(117),n(68)),a=n.n(i),c=(n(41),n(67)),s=n(29),u="mip-sjh-common",d={UTILS:"".concat(u,"-utils")},p=("".concat(u,"-event-cache"),"".concat(u,"-download-appData"),"".concat(u,"-download-process"),n(11),n(10),n(9),n(8),function(e){var t,n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),o=new RegExp("(^|/?|&)"+e+"=([^&]*)(&|$)","i");try{t=window.MIP.sandbox.window.top.location.search.substr(1).match(n)||window.MIP.sandbox.window.top.location.hash.substr(1).match(o)}catch(e){t=window.MIP.sandbox.window.location.search.substr(1).match(n)||window.MIP.sandbox.window.location.hash.substr(1).match(o)}return null!=t?unescape(t[2]):null}),l=p,f=(n(53),n(78),n(7)),b=n.n(f),h=(n(52),n(28)),m=n.n(h);var g=function(e,t,n){return window.MIP.sandbox.MIP.Services.getServicePromise(d.UTILS).then(function(o){return o.sdk.mAjax(e,t,n)})};n(49);var v=n(66),w=n.n(v);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}window.MIP.sandbox.MIP.Services.getServicePromise(d.UTILS);var k={0:"hao",1:"hao",2:"hao",3:"feed",4:"fc",5:"baiyi",6:"feed",7:"other",255:"other"},P=(window.MIP.sandbox.MIP.getData("pageid"),function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.MIP.sandbox.window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null}),D=function(e){var t={};if(!e)return t;var n=e;return e.indexOf("?")>-1&&(n=e.split("?")[1]),n.split("&").forEach(function(e){var n=e.split("=");t[n[0]]=n[1]}),t},_=function(e){for(var t=[],n=0;n<e;n++)t.push("0123456789abcdef".charAt(Math.floor(16*Math.random())));return t.join("")},I=(function(){var e=m()(b.a.mark(function e(t,n){var o,r,i,a,c,s,u,d,p,l,f,h,m,v,w,y,O,S,x;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=window.MIP.sandbox.MIP.getData("pageInfo")&&window.MIP.sandbox.MIP.getData("pageInfo").llp||0,r=0,i=n||{},a=270,c=287,s=269,u=t.split("?")[0],d=t.split("?")[1],p=D(d),l=(new Date).getTime()+_(23),f=u+"?imid="+p.imid,h=window.MIP.sandbox.MIP.getData("appid"),m=window.MIP.sandbox.MIP.getData("userid"),v=window.MIP.sandbox.MIP.getData("pageid"),w=i.shopid,y=D(location.search).ch,O={level1:p.exUserId,level2:p.siteId,level3:p.groupId,adviceType:p.adviceType,im_type:p.adviceType,imlpAccessId:l,channel:y?k[y]||"other":"",imUrl:f,appid:h,ucid:m},h!==a&&h!==c&&(h!==s||+o===r)||!w){e.next=26;break}return e.next=20,I(w,m);case 20:return(S=e.sent).shopid=w,S.clientSource=v,S.pageId=v,O.setting=S,e.abrupt("return",Promise.resolve(O));case 26:if(y){e.next=29;break}return x={stat:P("stat")||"",path:"/cip-golfr/ChannelService/getChannelValue"},e.abrupt("return",g("/cip-golfr/ChannelService/getChannelValue",{method:"POST",query:x,timer:2e3},{cache:"no-cache"}).then(function(e){if(200===e.status&&e.data){var t=e.data.channelType;O.channel=void 0!==t?k[t]||"other":""}return O}).catch(function(e){return console.error("get channel error: ",e),O}));case 29:return e.abrupt("return",Promise.resolve(O));case 30:case"end":return e.stop()}},e)}))}(),function(e,t){var n=w.a.parse(D(decodeURIComponent(window.MIP.sandbox.window.location.search))),o=JSON.parse(n.cWParams||"{}")||{},r=o.path,i=o.scene,a=o.indexPath,c=window.MIP.sandbox.MIP.getData("pageid"),s="".concat(window.MIP.sandbox.window.location.origin).concat(window.MIP.sandbox.window.location.pathname),u="".concat(r,"?pageId=").concat(c,"&url=").concat(encodeURIComponent(s)),d=window.MIP.sandbox.MIP.getData("pageInfo"),p={appKey:d?d.xcxAppKey:"",scene:i,path:encodeURIComponent(u),indexPath:a};return fetch("/tpsp-gtr/rest/shopInfo",{method:"POST",body:JSON.stringify({shopId:e,ucId:t}),headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){return e.json()}).then(function(e){var t=e.data.appInfo||{},n=t.title,o=void 0===n?"":n,r=t.pic,i=void 0===r?"":r,a=t.ucPhone,c=void 0===a?"":a,s=t.ucLandPage,u=void 0===s?"":s;return p=O(O({},p),{},{title:o,landPageUrl:u,contactNumber:c,logo:i})}).catch(function(){return p=O(O({},n),{},{title:"",landPageUrl:"",contactNumber:"",logo:""})})}),S=function(){return window.MIP.sandbox.MIP.getData("env")&&"editor"===window.MIP.sandbox.MIP.getData("env").platform};/Mobads/.test(navigator.userAgent),window.MIP.sandbox.MIP.util.platform.isIOS();var x=window.MIP.sandbox.MIP.util.platform.isAndroid(),A=(window.MIP.sandbox.MIP.Services.getServicePromise(d.UTILS),window.MIP.sandbox.MIP.Services.getServicePromise("mip-sjh-basis-download-utils")),j=("".concat("mip-download","-sdk-error"),"".concat("mip-download","-pageckage-error"),"".concat("mip-download","-pageckage-empty"),function(e){for(var t=e||{sjhDownload:window.MIP.sandbox.document.getElementsByTagName("mip-sjh-download")||[],sjhNewDownload:window.MIP.sandbox.document.getElementsByTagName("mip-sjh-new-download")||[],sjhDynamicGood:window.MIP.sandbox.document.getElementsByTagName("mip-sjh-dynamic-goods"),sjhDynamicVideo:window.MIP.sandbox.document.getElementsByTagName("mip-sjh-dynamic-goods-video")},n=t.sjhDownload,o=t.sjhNewDownload,r=t.sjhDynamicGood,i=t.sjhDynamicVideo,a=[],c=0;c<n.length;c++){var s=n[c],u=(JSON.parse(s.getAttribute("system-info"))||{}).docid;!a.includes(u)&&u&&a.push(u)}for(var d=0;d<o.length;d++){var p=o[d],l=(JSON.parse(p.getAttribute("system-info"))||{}).docid;!a.includes(l)&&l&&a.push(l)}if(r.length){var f=(JSON.parse(r[0].getAttribute("system-info"))||{}).docid;!a.includes(f)&&f&&a.push(f)}if(i.length){var b=(JSON.parse(i[0].getAttribute("system-info"))||{}).docid;!a.includes(b)&&b&&a.push(b)}return a}),N=(function(){var e=m()(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.next=3,A.then(function(e){return e.DownloadSDK.directLaunchAppIDs.length>0});case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}},e)}))}(),function(){return window.MIP.sandbox.window.navigator&&window.MIP.sandbox.window.navigator.userAgent&&-1!==window.MIP.sandbox.window.navigator.userAgent.indexOf("swan-baiduboxapp")}),E=window.MIP.sandbox.MIP.Services.getServicePromise(d.UTILS);var L=function(e,t){E.then(function(n){var o=n.sdk;!N()||t?(o.swanSDK({api:"navigateTo",apiParams:{url:t},h5Callback:function(){window.MIP.sandbox.window.location.href=o.getJumpUrl({targetUrl:e})}}),o.swanSDK({api:"switchTab",apiParams:{url:t},h5Callback:function(){}})):window.MIP.sandbox.window.location.href=o.getJumpUrl({targetUrl:e})})};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var T=!(void 0===window.MIP.sandbox.window||!window.MIP.sandbox.window)&&/Mobads/i.test(window.MIP.sandbox.window.navigator.userAgent),U=window.MIP.sandbox.MIP.util.platform.isAndroid(),R=S(),W=!0,H={1:"https://isite.baidu.com/site/baidu.com/9cc6d45f-66cd-46a7-b347-8c8f91989784",2:"https://isite.baidu.com/site/baidu.com/e6d2129f-7d75-4686-b292-0f299aeca231",3:"https://isite.baidu.com/site/baidu.com/e081d430-e7c9-4c08-82f7-6dd5815aad6d"},B={name:"MipSjhBasisDownload",props:{__id__:{type:String,default:""},__type__:{type:String,default:""},__name__:{type:String,default:""},__title__:{type:String,default:""},customFooter:{type:Number,default:1}},data:function(){return{docIds:[],developmentInfo:{},netError:!1}},computed:{showFooterInfo:function(){var e=U||!window.MIP.sandbox.MIP.util.platform.isAndroid()&&!window.MIP.sandbox.MIP.util.platform.isIos();return W&&!R&&!window.MIP.sandbox.this(this).customFooter&&e&&window.MIP.sandbox.this(this).docIds.length&&!function(){var e=!window.MIP.sandbox.MIP.util.platform.isAndroid()&&!window.MIP.sandbox.MIP.util.platform.isIos();return x||e}()},isMultiPkg:function(){return window.MIP.sandbox.this(this).docIds.length>1}},prerenderAllowed:function(){return!0},beforeCreate:function(){window.MIP.sandbox.MIP.Services.registerService("mip-sjh-basis-download-utils",function e(){a()(window.MIP.sandbox.this(this),e),window.MIP.sandbox.this(this).downSdk=c.downSdk,window.MIP.sandbox.this(this).downloadStatus=s.DOWNLOADSTATUS,window.MIP.sandbox.this(this).DownloadSDK=s.DownloadSDK,window.MIP.sandbox.this(this).downloadSdk=function(e){var t=e.el,n=e.ios,o=void 0===n?{}:n,r=e.android,i=void 0===r?{}:r,a=e.options,c=void 0===a?{}:a,u=e.gamePlayConfig,d=void 0===u?{}:u,p=e.instanceInfo,l=void 0===p?{}:p;return new s.DownloadSDK({el:t,appData:{ios:o,android:i},instanceInfo:l,gamePlayConfig:d,options:c})},window.MIP.sandbox.this(this).customizeLog=function(e){var t=l("imei"),n=l("idfa"),o=e.generalParams,r=e.userExtra,i=e.compTargetId,a=e.actionId,c={type:o.type,id:o.id,name:o.name,title:o.title,actionId:a,compTargetId:i,userExtra:M(M(M({solution_id:"",solution_type:""},["mip-sjh-download","mip-sjh-dynamic-goods","mip-sjh-dynamic-goods-video"].includes(i)>0?{imei:t}:""),["mip-sjh-download","mip-sjh-dynamic-goods","mip-sjh-dynamic-goods-video"].includes(i)>0?{idfa:n}:""),{},{downloadEnv:T?"mobads":""},r)};window.MIP.sandbox.MIP.Services.getServicePromise(d.UTILS).then(function(e){e.sdk.logActions.addUserDefinedLog(c)})}})},mounted:function(){window.MIP.sandbox.this(this).insertDevelopmentInfo()},methods:{handleInfoClick:function(e){var t=window.MIP.sandbox.this(this);window.MIP.sandbox.MIP.Services.getServicePromise(d.UTILS).then(function(n){var o=n.sdk,r={type:t.__type__,id:t.__id__,name:t.__name__,title:t.__title__,actionId:"site_bar_click",compTargetId:"mip-sjh-basis-download",userExtra:{solution_id:"",solution_type:"",type:"download",pageType:e}};o.logActions.addUserDefinedLog(r)});var n=H[e];n&&L("".concat(n,"?docId=").concat(window.MIP.sandbox.this(this).docIds.join(","),"&type=0"))},insertDevelopmentInfo:function(){if(window.MIP.sandbox.this(this).docIds=j(),W&&window.MIP.sandbox.this(this).showFooterInfo){1===window.MIP.sandbox.this(this).docIds.length&&window.MIP.sandbox.this(this).fetchData([window.MIP.sandbox.this(this).docIds[0]],0);var e=window.MIP.sandbox.document.getElementsByClassName("body-wrapper")[0];e&&e.appendChild(window.MIP.sandbox.this(this).$refs.downloadDevelopmentInfo),W=!1}},fetchData:function(e,t){var n=window.MIP.sandbox.this(this);g("/hummer/developer/getDeveloperInfo",{method:"POST"},{body:JSON.stringify({packageIds:e,type:t})}).then(function(e){n.netError=!1,!e.status&&e.data&&e.data.length>0&&(n.developmentInfo=e.data[0]||{})}).catch(function(e){n.netError=!0})}},beforeDestroy:function(){if(!W){var e=window.MIP.sandbox.document.getElementsByClassName("body-wrapper")[0];e&&e.removeChild(window.MIP.sandbox.this(this).$refs.downloadDevelopmentInfo),W=!0}}},V=(n(73),n(65)),F=n.n(V)()(B,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mip-sjh-basis-download"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showFooterInfo,expression:"showFooterInfo"}],ref:"downloadDevelopmentInfo",staticClass:"footer-development-info-wrapper"},[n("div",{staticClass:"footer-app-development-name"},[e._v("\n            "+e._s(e.developmentInfo.developerName?"开发者："+e.developmentInfo.developerName:"")+"\n        ")]),e._v(" "),n("div",{staticClass:"footer-app-development-info-show"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.isMultiPkg||e.netError,expression:"isMultiPkg || netError"}],on:{click:function(t){e.handleInfoClick(1)}}},[e._v("开发者信息")]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.isMultiPkg&&!e.netError,expression:"!isMultiPkg && !netError"}],staticClass:"development-info"},[e._v(e._s(e.developmentInfo.sname)+" V"+e._s(e.developmentInfo.versionName))]),e._v(" "),n("span",{on:{click:function(t){e.handleInfoClick(2)}}},[e._v("应用权限")]),e._v(" "),n("span",{on:{click:function(t){e.handleInfoClick(3)}}},[e._v("隐私协议")])])])])},[],!1,null,"19931788",null);t.default=F.exports},function(e,t){e.exports=__mipComponentsWebpackHelpers__["vue-style-loader/lib/addStylesClient"]},function(e,t){e.exports=__mipComponentsWebpackHelpers__["css-loader/lib/css-base"]},function(e,t,n){(e.exports=n(71)(!1)).push(["72875ee3ab7f9d6c",".footer-development-info-wrapper[data-v-19931788]{padding:.28306159rem 0;background-color:#fafafa;color:#999;text-align:center;min-height:3.0625rem;-webkit-box-sizing:border-box;box-sizing:border-box}.footer-app-development-name[data-v-19931788]{margin-bottom:.16983696rem;font-size:.67934783rem;line-height:1.01902174rem;height:1.01902174rem}.footer-app-development-info-show[data-v-19931788]{width:100%;line-height:1.01902174rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.footer-app-development-info-show>span[data-v-19931788]{font-size:.67934783rem;color:#4974b1;padding:0 .57574728rem}.footer-app-development-info-show .development-info[data-v-19931788]{color:#999}",""])},function(e,t,n){"use strict";n(50)},function(e,t,n){"use strict";var o=n(30),r=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},c=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},s=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,n,o){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,c=n.depth>0&&/(\[[^[\]]*])/.exec(i),u=c?i.slice(0,c.index):i,d=[];if(u){if(!n.plainObjects&&r.call(Object.prototype,u)&&!n.allowPrototypes)return;d.push(u)}for(var p=0;n.depth>0&&null!==(c=a.exec(i))&&p<n.depth;){if(p+=1,!n.plainObjects&&r.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(c[1])}return c&&d.push("["+i.slice(c.index)+"]"),function(e,t,n,o){for(var r=o?t:s(t,n),i=e.length-1;i>=0;--i){var a,c=e[i];if("[]"===c&&n.parseArrays)a=[].concat(r);else{a=n.plainObjects?Object.create(null):{};var u="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,d=parseInt(u,10);n.parseArrays||""!==u?!isNaN(d)&&c!==u&&String(d)===u&&d>=0&&n.parseArrays&&d<=n.arrayLimit?(a=[])[d]=r:a[u]=r:a={0:r}}r=a}return r}(d,t,n,o)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||o.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null===e||void 0===e)return n.plainObjects?Object.create(null):{};for(var d="string"==typeof e?function(e,t){var n,u={},d=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,p=t.parameterLimit===1/0?void 0:t.parameterLimit,l=d.split(t.delimiter,p),f=-1,b=t.charset;if(t.charsetSentinel)for(n=0;n<l.length;++n)0===l[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===l[n]?b="utf-8":"utf8=%26%2310003%3B"===l[n]&&(b="iso-8859-1"),f=n,n=l.length);for(n=0;n<l.length;++n)if(n!==f){var h,m,g=l[n],v=g.indexOf("]="),w=-1===v?g.indexOf("="):v+1;-1===w?(h=t.decoder(g,a.decoder,b,"key"),m=t.strictNullHandling?null:""):(h=t.decoder(g.slice(0,w),a.decoder,b,"key"),m=o.maybeMap(s(g.slice(w+1),t),function(e){return t.decoder(e,a.decoder,b,"value")})),m&&t.interpretNumericEntities&&"iso-8859-1"===b&&(m=c(m)),g.indexOf("[]=")>-1&&(m=i(m)?[m]:m),r.call(u,h)?u[h]=o.combine(u[h],m):u[h]=m}return u}(e,n):e,p=n.plainObjects?Object.create(null):{},l=Object.keys(d),f=0;f<l.length;++f){var b=l[f],h=u(b,d[b],n,"string"==typeof e);p=o.merge(p,h,n)}return o.compact(p)}},function(e,t,n){"use strict";var o=n(30),r=n(51),i=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,s=Array.prototype.push,u=function(e,t){s.apply(e,c(t)?t:[t])},d=Date.prototype.toISOString,p=r.default,l={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:p,formatter:r.formatters[p],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},f=function e(t,n,r,i,a,s,d,p,f,b,h,m,g){var v=t;if("function"==typeof d?v=d(n,v):v instanceof Date?v=b(v):"comma"===r&&c(v)&&(v=o.maybeMap(v,function(e){return e instanceof Date?b(e):e}).join(",")),null===v){if(i)return s&&!m?s(n,l.encoder,g,"key"):n;v=""}if(function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e}(v)||o.isBuffer(v))return s?[h(m?n:s(n,l.encoder,g,"key"))+"="+h(s(v,l.encoder,g,"value"))]:[h(n)+"="+h(String(v))];var w,y=[];if(void 0===v)return y;if(c(d))w=d;else{var O=Object.keys(v);w=p?O.sort(p):O}for(var k=0;k<w.length;++k){var P=w[k],D=v[P];if(!a||null!==D){var _=c(v)?"function"==typeof r?r(n,P):n:n+(f?"."+P:"["+P+"]");u(y,e(D,_,r,i,a,s,d,p,f,b,h,m,g))}}return y};e.exports=function(e,t){var n,o=e,s=function(e){if(!e)return l;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||l.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=r.default;if(void 0!==e.format){if(!i.call(r.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var o=r.formatters[n],a=l.filter;return("function"==typeof e.filter||c(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:l.addQueryPrefix,allowDots:void 0===e.allowDots?l.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:l.charsetSentinel,delimiter:void 0===e.delimiter?l.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:l.encode,encoder:"function"==typeof e.encoder?e.encoder:l.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:l.encodeValuesOnly,filter:a,formatter:o,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:l.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:l.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:l.strictNullHandling}}(t);"function"==typeof s.filter?o=(0,s.filter)("",o):c(s.filter)&&(n=s.filter);var d,p=[];if("object"!=typeof o||null===o)return"";d=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var b=a[d];n||(n=Object.keys(o)),s.sort&&n.sort(s.sort);for(var h=0;h<n.length;++h){var m=n[h];s.skipNulls&&null===o[m]||u(p,f(o[m],m,b,s.strictNullHandling,s.skipNulls,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.formatter,s.encodeValuesOnly,s.charset))}var g=p.join(s.delimiter),v=!0===s.addQueryPrefix?"?":"";return s.charsetSentinel&&("iso-8859-1"===s.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),g.length>0?v+g:""}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){n(4)&&"g"!=/./g.flags&&n(3).f(RegExp.prototype,"flags",{configurable:!0,get:n(20)})},function(e,t,n){"use strict";n(77);var o=n(0),r=n(20),i=n(4),a=/./.toString,c=function(e){n(13)(RegExp.prototype,"toString",e,!0)};n(6)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?c(function(){var e=o(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?r.call(e):void 0)}):"toString"!=a.name&&c(function(){return a.call(this)})},function(e,t,n){"use strict";var o=n(15),r=n(3),i=n(4),a=n(1)("species");e.exports=function(e){var t=o[e];i&&t&&!t[a]&&r.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var o=n(31);n(18)({target:"RegExp",proto:!0,forced:o!==/./.exec},{exec:o})},function(e,t,n){var o=n(26),r=n(1)("toStringTag"),i="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:i?o(t):"Object"==(a=o(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var o=n(47),r=n(25);e.exports=function(e){return function(t,n){var i,a,c=String(r(t)),s=o(n),u=c.length;return s<0||s>=u?e?"":void 0:(i=c.charCodeAt(s))<55296||i>56319||s+1===u||(a=c.charCodeAt(s+1))<56320||a>57343?e?c.charAt(s):i:e?c.slice(s,s+2):a-56320+(i-55296<<10)+65536}}},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_a-function"]},function(e,t,n){var o=n(0),r=n(84),i=n(1)("species");e.exports=function(e,t){var n,a=o(e).constructor;return void 0===a||void 0==(n=o(a)[i])?t:r(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.h5CallApp=void 0;var o=n(36);function r(e,t){var n=function(){var e;return void 0!==document.hidden?e="visibilitychange":void 0!==document.msHidden?e="msvisibilitychange":void 0!==document.webkitHidden&&(e="webkitvisibilitychange"),e}(),o=!1;setTimeout(function(){o||e()},t),void 0!==n?document.addEventListener(n,function(){o=!0}):window.addEventListener("pagehide",function(){o=!0})}t.h5CallApp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;(0,o.jumpUrl)(e),void 0===t||r(t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.h5Download=void 0;var o=n(12),r=function(e){var t=e.ios,n=void 0===t?{}:t,r=e.android,i=void 0===r?{}:r;(0,o.isIOS)()&&n.appStoreId&&(location.href="https://itunes.apple.com/cn/app/id"+n.appStoreId),(0,o.isAndroid)()&&i.downloadUrl&&(location.href=i.downloadUrl)};t.h5Download=r;var i=r;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIosData=t.DEFAULT_SCHEME=t.IOS_DEEPLINK_MAP=void 0;var o={414245413:{deeplinkHead:"openapp.jdmobile://virtual",packageName:"com.jingdong.app.mall"},417200582:{deeplinkHead:"vipshop://",packageName:"com.achievo.vipshop"},387682726:{deeplinkHead:"tbopen://",packageName:"com.taobao.taobao"},424598114:{deeplinkHead:"suning://",packageName:"com.suning.mobile.ebuy"},379395415:{deeplinkHead:"ctrip://",packageName:"ctrip.android.view"},395096736:{deeplinkHead:"qunariphone://",packageName:"com.Qunar"},423084029:{deeplinkHead:"imeituan://",packageName:"com.sankuai.meituan"},351091731:{deeplinkHead:"dianping://",packageName:"com.dianping.v1"},405882753:{deeplinkHead:"lianjiaapp://",packageName:"com.homelink.android"},1347663353:{deeplinkHead:"lianjiabeike://",packageName:"com.lianjia.beike"},1044283059:{deeplinkHead:"pddopen://",packageName:"com.xunmeng.pinduoduo"},741292507:{deeplinkHead:"xhsdiscover://",packageName:"com.xingin.xhs"},1092031003:{deeplinkHead:"baiduhaokan://",packageName:""},1329385145:{deeplinkHead:"bdminivideo://",packageName:""},1281873118:{deeplinkHead:"baiduboxlite://",packageName:""},1441531415:{deeplinkHead:"baiduboxmission://",packageName:""},477927812:{deeplinkHead:"com.baidu.tieba://",packageName:""},432274380:{deeplinkHead:"zhihu://",packageName:""},507097717:{deeplinkHead:"wireless1688://",packageName:"com.alibaba.wireless"},393765873:{deeplinkHead:"iqiyi://mobile/player",packageName:"com.qiyi.video"},414478124:{deeplinkHead:"weixin://",packageName:""},1178856715:{deeplinkHead:"qihooloan://360.cn",packageName:""},691828408:{deeplinkHead:"weishi://",packageName:""},406596432:{deeplinkHead:"travelguide://",packageName:""},480079300:{deeplinkHead:"wbmain://",packageName:"com.wuba"},453691481:{deeplinkHead:"taobaotravel://",packageName:""},452176796:{deeplinkHead:"mogujie://",packageName:"com.mogujie"},973366293:{deeplinkHead:"miyabaobei://",packageName:"com.mia.miababy"},440948110:{deeplinkHead:"kwai://",packageName:"com.smile.gifmaker"}};t.IOS_DEEPLINK_MAP=o;t.DEFAULT_SCHEME="1";t.getIosData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appStoreId,n=e.deeplinkUrl,r="",i="",a="",c=o[t];return c&&(i=c.packageName||"",r=c.deeplinkHead||"",a=i&&r?r:""),n&&(r=n),{appStoreId:t,scheme:(r=r.slice(0,r.indexOf("://")))||"1",deeplinkUrl:n||a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPTIONS_DEFAULT=t.COMMON_DEFAULT=void 0;var o=n(5),r=n(55),i={config:{source:"jmy",type:"jmyDownload"},statusInfo:{install:!1,status:o.DOWNLOADSTATUS.NOTDOWNLOAD,progress:0,text:r.TextMap[o.DOWNLOADSTATUS.NOTDOWNLOAD]}};t.COMMON_DEFAULT=i;t.OPTIONS_DEFAULT={isActionQueue:!1,isDirectLaunch:!1,isAutoDownload:!1,autoDownloadTime:0,isAutoDirectLaunch:!1,autoDirectLaunchTime:5e3,isGamePlay:!1,isShowProgress:!0}},function(e,t,n){!function(t,n){e.exports=n()}(window,function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/index.js")}({"./src/config.js":
/*!***********************!*\
  !*** ./src/config.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ERROR_LOG_URL="https://cover.baidu.com/cover/api/lp/lpErrorCatch",t.ALS_LOG_URL="https://als.baidu.com/elog/glog",t.SCHEME_PREFIX_HEAD_MAP={baiduboxapp:"baiduboxapp://v7/","lite baiduboxapp":"baiduboxapp://v7/",baiduhaokan:"baiduhaokan://"},t.SCHEME_PREFIX="vendor/ad/download?params=",t.DEEPLINK_SCHEME_PREFIX="vendor/ad/deeplink?params=",t.LINK_SCHEME_PREFIX="baiduboxapp://v1/easybrowse/open?newbrowser=0&url=",t.HAOKAN_DEEPLINK_SCHEME_PREFIX="baiduhaokan://deeplink?mode=ad&tab=ad&tag=ad&source=ad&",t.HAOKAN_LINK_SCHEME_PREFIX="baiduhaokan://webview/?url_key=",t.QUANMIN_DEEPLINK_SCHEME_PREFIX="bdminivideo://deeplink/?",t.QUANMIN_LINK_SCHEME_PREFIX="bdminivideo://webview?params=",t.REGISTER_DEEPLINK_SCHEME_PREFIX="vendor/ad/registerDeeplink?params=",t.MARKET_PACKAGENAME_MAP={oppo:"com.oppo.market",vivo:"com.bbk.appstore",huawei:"com.huawei.appmarket",xiaomi:"com.xiaomi.market"}},"./src/detector.js":
/*!*************************!*\
  !*** ./src/detector.js ***!
  \*************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function r(e){return function(t){return Object.prototype.toString.call(t)==="[object "+e+"]"}}var i=new(t.Detector=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._rules=t}return o(e,[{key:"detect",value:function(e,t,n){var o=r("Function")(t)?t.call(null,n):t;if(!o)return null;var i={name:e,version:"0",codename:""};if(!0===o)return i;if(r("String")(o)){if(-1!==n.indexOf(o))return i}else{if(r("Object")(o))return o.hasOwnProperty("version")&&(i.version=o.version),i;if(r("RegExp")(o)){var a=o.exec(n);if(a)return a.length>=2&&a[1]&&(i.version=a[1].replace(/_/g,".")),i}}}},{key:"parseItem",value:function(e,t,n,o){var r=this,i={name:"na",version:"0"};!function(e,t){for(var n=0,o=e.length;n<o&&!1!==t.call(e,e[n],n);n++);}(t,function(t){var n=r.detect(t[0],t[1],e);if(n)return i=n,!1}),n.call(o,i.name,i.version)}},{key:"parse",value:function(e){e=(e||"").toLowerCase();var t={};return this.parseItem(e,this._rules.os,function(e,n){var o=parseFloat(n);t.os={name:e,version:o,fullVersion:n},t.os[e]=o},t),this.parseItem(e,this._rules.mobile,function(e){"ios"===t.os.name&&(e="na"),t.mobile={name:e}},t),this.parseItem(e,this._rules.browser,function(e,n){var o=n,r=parseFloat(n);t.browser={name:e,version:r,fullVersion:n,mode:parseFloat(o),fullMode:o},t.browser[e]=r},t),t}}]),e}())({os:[["ios",function(e){return/\bcpu(?: iphone)? os /.test(e)?/\bcpu(?: iphone)? os ([0-9._]+)/:-1!==e.indexOf("iph os ")?/\biph os ([0-9_]+)/:/\bios\b/}],["android",function(e){return e.indexOf("android")>=0?/\bandroid[ \/-]?([0-9.x]+)?/:e.indexOf("adr")>=0?e.indexOf("mqqbrowser")>=0?/\badr[ ]\(linux; u; ([0-9.]+)?/:/\badr(?:[ ]([0-9.]+))?/:"android"}]],mobile:[["vivo",/vivo|v1730da|v1730dt|v1730ea|v1730ga|v1731ca|v1732a|v1732ba|v1732bt|v1732t|v1801a0|v1803ba|v1809a|v1809t|v1813a|v1813ba|v1813bt|v1813t|v1814a|v1814t|v1816a|v1816t|v1818a|v1818ba|v1818bt|v1818ca|v1818ct|v1818ea|v1818et|v1818t|v1821a|v1821t|v1824a|v1824ba|v1829a|v1829t|v1831a|v1831t|v1832a|v1832t|v1836a|v1836t|v1838a|v1838t|v1901a|v1901t|v1911a|v1911t|v1913a|v1913t|v1914a|v1914t|v1816a|v1916t|v1919a|v1921a|v1921t|v1922a|v1922t|v1923a|v1923t|v1924a|v1924t|v1928t|v1930a|v1930t|v1932a|v1932t|v1934a|v1934t|v1936a|v1936al|v1936t|v1936a|v1938ca|v1938ct|v1938t|v1941a|v1941t|v1945t|v1950a/],["oppo",/oppo|paam00|paat00|pacm00|pact00|padm00|padt00|pafm00|paft00|paft10|pagm00|pagt00|pahm00|pbam00|pbat00|pbbm00|pbbm30|pbbt00|pbbt30|pbcm00|pbcm10|pbcm30|pbct00|pbct10|pbdm00|pbdt00|pbem00|pbet00|pbfm00|pbfm30|pbft00|pcam00|pcam10|pcat00|pcat10|pccm00|pcct00|pcdm00|pcdm10|pcdt00|pcdt10|pcem00|pcet00|pcgm00|pcgt00|pchm00|pchm10|pchm30|pcht00|pcht10|pcht30|pckm00|pckm70|pckm80|pckm90|pckt00|pckt80|pclm10|pclm50|pcnm00|pcnt00|pcpm00|pcpt00|pcrm00|pcrt00|pdbm00|pdcm00|pdct00/],["huawei",/huawei|honor/],["xiaomi",/xiaomi/]],browser:[["micromessenger",/\bmicromessenger\/([\d.]+)/],["qq",/\bm?qqbrowser\/([0-9.]+)/],["tt",/\btencenttraveler ([0-9.]+)/],["weibo",/weibo__([0-9.]+)/],["uc",function(e){return e.indexOf("ucbrowser/")>=0?/\bucbrowser\/([0-9.]+)/:e.indexOf("ubrowser/")>=0?/\bubrowser\/([0-9.]+)/:/\buc\/[0-9]/.test(e)?/\buc\/([0-9.]+)/:e.indexOf("ucweb")>=0?/\bucweb([0-9.]+)?/:/\b(?:ucbrowser|uc)\b/}],["bdminivideo",/bdminivideo\/([0-9.]+)/],["baiduboxapp",function(e){var t=0,n=void 0;return!!/ baiduboxapp\//i.test(e)&&((n=/([\d+.]+)_(?:diordna|enohpi)_/.exec(e))?t=(n=n[1].split(".")).reverse().join("."):(n=/baiduboxapp\/([\d+.]+)/.exec(e))&&(t=n[1]),{version:t})}],["haokanapp",/haokan\/([\d+.]+)/],["samsung",/\bsamsungbrowser\/([0-9.]+)/],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["android",function(e){if(-1!==e.indexOf("android"))return/\bversion\/([0-9.]+(?: beta)?)/}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//]]}),a=navigator.userAgent+" "+navigator.appVersion+" "+navigator.vendor;t.default=i.parse(a)},"./src/event.js":
/*!**********************!*\
  !*** ./src/event.js ***!
  \**********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventListMap={}}return o(e,[{key:"on",value:function(e,t){this.eventListMap[e]||(this.eventListMap[e]=[]),this.eventListMap[e].push(t)}},{key:"emit",value:function(e,t){var n=this;this.eventListMap[e]&&this.eventListMap[e].forEach(function(e){e.call(n,t)})}}]),e}();t.default=r},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UAD=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(/*! ./event */"./src/event.js")),i=a(n(/*! ./utils */"./src/utils.js"));function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=Promise.resolve(),u=t.UAD=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);try{var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.progress="0",n.status=-1,n.uri="",n.el=e.el,n.os=i.default.getOS(),n.deeplinkRegisterLock=!1,n.nadDwnloadInited=!1;var o=e.data[n.os];if(!o)return i.default.alsLog({f1:"init-error"}),c(n,{});n.appStoreId=o.appStoreId,n.appId=o.appId||o.downloadUrl,n.downloadUrl=o.downloadUrl,n.packageName=o.packageName,n.deeplinkUrl=o.deeplinkUrl,n.appName=o.appName,n.config={business:"feedna",page:"UAD",source:"feedna"},e.config&&Object.assign(n.config,{business:e.config.source,source:e.config.source,page:e.config.type}),n.logInfo=Object.assign({planId:"",unitId:"",ideaId:"",cpid:"",placeId:"",cmatch:"",searchId:"",rank:"",ext:{}},e.logInfo),n.logInfo.btInfo=n.logInfo.ext.extInfo||i.default.encode({plan_id:n.logInfo.planId,unit_id:n.logInfo.unitId,idea_id:n.logInfo.ideaId,cpid:n.logInfo.cpid,place_id:n.logInfo.placeId,cmatch:n.logInfo.cmatch,search_id:n.logInfo.searchId,rank:n.logInfo.rank,ext1:n.config.source,ext2:n.config.page}),n.option=Object.assign({isVirtualDownDownload:!0,isAutoOpenApp:!1,isActionQueue:!1,actionDuration:1e3},e.option),n.deeplinkUrl&&(n.deeplinkData={appUrl:n.deeplinkUrl,webUrl:"",extInfo:n.logInfo.btInfo,adName:n.appName,source:n.config.source,exemption:1}),"ios"===n.os?p(n):n.option.isActionQueue?p(n):i.default.isSupportNADownload()?s=s.then(function(){return f(n)}):function(e,t){try{e.el&&e.el.addEventListener("click",function(){i.default.localJump(e.downloadUrl)})}catch(e){t(e)}}(n,function(e){i.default.errorReport(e)})}catch(e){i.default.errorReport(e)}return n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"start",value:function(e){if(this.option.isActionQueue&&!this.closeActionQueue)l(this);else if(i.default.isSupportNADownload()){if(e){var t=e[this.os];t&&t.deeplinkUrl&&this.deeplinkUrl!==t.deeplinkUrl&&(this.deeplinkRegisterLock=!1,this.deeplinkUrl=t.deeplinkUrl,this.deeplinkData={appUrl:this.deeplinkUrl,webUrl:"",extInfo:this.logInfo.btInfo,adName:this.appName,source:this.config.source,exemption:1})}b(this)}else i.default.localJump(this.downloadUrl)}},{key:"pause",value:function(){i.default.isSupportNADownload()&&v(this)}},{key:"continue",value:function(){i.default.isSupportNADownload()&&w(this)}},{key:"install",value:function(){i.default.isSupportNADownload()&&y(this)}},{key:"openApp",value:function(){i.default.isSupportNADownload()&&O(this)}},{key:"registerDeeplink",value:function(){i.default.isSupportNADownload()&&i.default.registerDeeplink({appData:this,logInfo:this.logInfo,config:this.config,option:this.option})}},{key:"switchToNADownload",value:function(){var e=this;this.closeActionQueue=!0,i.default.isSupportNADownload()?f(this).then(function(){b(e)}):i.default.localJump(this.downloadUrl)}}]),t}(),d=!1;function p(e){i.default.initUADCallback(),e.deeplinkUrl&&i.default.hasApp({scheme:e.deeplinkUrl.match(/(.*):\/\/.*/,"")[1]}).then(function(t){t&&h({uadObj:e,newStatus:"6"})}),e.actionQueueHandler=l.bind(null,e),e.el&&e.el.addEventListener("click",e.actionQueueHandler)}function l(e){if(!e.closeActionQueue)try{var t=e.os,n=i.default.getBrowserName();if(!d){d=!0;var o=e.option.actionDuration,r="",a="",c="";"ios"===t?(r=e.deeplinkUrl,a="https://itunes.apple.com/cn/app/id"+e.appStoreId):(r=e.deeplinkUrl,a=i.default.getMarketUrl(e.packageName),c=e.downloadUrl);var s=i.default.isDeeplinkAvailable(),u=(i.default.isInNA()||"ios"===t)&&"bdminivideo"!==n,p=i.default.getActionPromise({actionName:"deeplink",shouldAct:s,url:i.default.getDeeplinkSchema({appUrl:r,webUrl:{appUrl:a,webUrl:c,extInfo:e.logInfo.btInfo,adName:e.appName,source:e.config.source,exemption:1,pkgName:i.default.getMarketPackageName()},extInfo:e.logInfo.btInfo,adName:e.appName,source:e.config.source,exemption:1}),duration:o}),l=i.default.getActionPromise({actionName:"jumpApp",shouldAct:u,url:r,duration:o}),f=i.default.getActionPromise({actionName:"jumpMarket",shouldAct:!0,url:a,duration:o});i.default.alsLog({f1:"action-starting"}),new Promise(function(t){p().then(l).then(f).then(function(){e.emit("error",{code:"1001",description:"Action Queue Error!"}),t()}).catch(function(n){e.emit("actionQueue",{type:n}),t()})}).then(function(){d=!1}).catch(function(e){i.default.errorReport(e)})}}catch(e){i.default.errorReport(e)}}function f(e){return e.nadDwnloadInited?Promise.resolve():new Promise(function(t){function n(e){i.default.errorReport(e),t()}function o(){e.el&&e.el.addEventListener("click",function(){b(e)}),window.addEventListener("pageshow",function(){s=s.then(function(){return new Promise(function(t){i.default.hasApp({packageName:e.packageName}).then(function(n){n?(h({uadObj:e,newStatus:"6"}),t()):m(e,function(){t()})})})})}),i.default.alsLog({f1:"init-success"}),e.nadDwnloadInited=!0,t()}try{i.default.initUADCallback(),function(e,t,n){i.default.triggerNAFeature("register",{action:"com.baidu.channel.aladdin.downloadapk",file_id:e.appId,packageName:e.packageName,url:e.downloadUrl,ext_info:Object.assign({bt_info:e.logInfo.btInfo,source:e.config.source,close_v_dl:+!e.option.isVirtualDownDownload},e.logInfo.ext)},e.config,function(o){"0"===(o=JSON.parse(o)).status?o.data?function(t){t&&t.file_id===e.appId&&(e.uri=t.uri,h({uadObj:e,newStatus:t.downStatus,progress:t.process}))}(o.data):t&&t():n&&n("Register NativeAdsDownload Error")})}(e,function(){i.default.hasApp({packageName:e.packageName}).then(function(t){t?(h({uadObj:e,newStatus:"6"}),o()):m(e,o)})},n)}catch(e){n(e)}})}function b(e){var t={0:function(){m(e,function(){"0"===e.status?i.default.registerDeeplink({appData:e,logInfo:e.logInfo,config:e.config,option:e.option},function(){g(e)}):b(e)})},1:function(){v(e)},2:function(){i.default.registerDeeplink({appData:e,logInfo:e.logInfo,config:e.config,option:e.option},function(){w(e)})},3:function(){i.default.registerDeeplink({appData:e,logInfo:e.logInfo,config:e.config,option:e.option},function(){y(e)})},4:function(){i.default.registerDeeplink({appData:e,logInfo:e.logInfo,config:e.config,option:e.option},function(){g(e)})},6:function(){O(e)}};t[e.status]&&t[e.status]()}function h(e){var t=e.uadObj,n=e.newStatus,o=e.progress,r=t.status;t.progress=o||t.progress,t.status=n,t.emit("status",{oldStatus:r,newStatus:t.status,progress:t.progress})}function m(e,t){i.default.triggerNAFeature("batchgetdownloadstatus",{query:[{url:e.downloadUrl,file_id:e.appId,packageName:e.packageName,ext_info:Object.assign({bt_info:e.logInfo.btInfo,source:e.config.source,close_v_dl:+!e.option.isVirtualDownDownload},e.logInfo.ext)}]},e.config,function(n){var o={0:function(e){},1:function(t){i.default.registerDeeplink({appData:e,logInfo:e.logInfo,config:e.config,option:e.option})},2:function(){},3:function(e){},4:function(e){},6:function(e){}};if("0"===(n=JSON.parse(n)).status){var r=n.data.result[0],a=o[r.downStatus];a&&(e.uri=r.uri,h({uadObj:e,newStatus:r.downStatus,progress:r.process}),a(n))}else i.default.errorReport("Get Download Status Error");t&&t()})}function g(e){i.default.triggerNAFeature("startdownload",{packageName:e.packageName,url:e.downloadUrl,uri:e.uri||"",file_id:e.appId,ext_info:Object.assign({bt_info:e.logInfo.btInfo,source:e.config.source,close_v_dl:+!e.option.isVirtualDownDownload},e.logInfo.ext)},e.config,function(){h({uadObj:e,newStatus:"1"})})}function v(e){i.default.triggerNAFeature("pausedownload",{packageName:e.packageName,url:e.downloadUrl,uri:e.uri||"",file_id:e.appId,ext_info:Object.assign({bt_info:e.logInfo.btInfo,source:e.config.source,close_v_dl:+!e.option.isVirtualDownDownload},e.logInfo.ext)},e.config,function(){})}function w(e){i.default.triggerNAFeature("resumedownload",{packageName:e.packageName,url:e.downloadUrl,uri:e.uri||"",file_id:e.appId,ext_info:Object.assign({bt_info:e.logInfo.btInfo,source:e.config.source,close_v_dl:+!e.option.isVirtualDownDownload},e.logInfo.ext)},e.config,function(){})}function y(e){i.default.triggerNAFeature("installapk",{packageName:e.packageName,uri:e.uri||"",file_id:e.appId,ext_info:Object.assign({bt_info:e.logInfo.btInfo,source:e.config.source,close_v_dl:+!e.option.isVirtualDownDownload},e.logInfo.ext)},e.config,function(e){})}function O(e){e.deeplinkData&&i.default.isSupportDeeplink()?i.default.triggerDeeplink(e.deeplinkData):i.default.triggerNAFeature("openapk",{file_id:e.appId,packageName:e.packageName,ext_info:Object.assign({bt_info:e.logInfo.btInfo,source:e.config.source,close_v_dl:+!e.option.isVirtualDownDownload},e.logInfo.ext)},e.config,function(e){})}window&&(window.UAD=u)},"./src/utils.js":
/*!**********************!*\
  !*** ./src/utils.js ***!
  \**********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(/*! ./config */"./src/config.js"),r=function(e){return e&&e.__esModule?e:{default:e}}(n(/*! ./detector */"./src/detector.js"));var i=o.SCHEME_PREFIX_HEAD_MAP[p()],a=!1;function c(){var e=+new Date,t=Math.floor(Math.random()*e);return window.__UADCALLBACK__[t]?c():"u"+t}function s(e){return encodeURIComponent(JSON.stringify(e))}function u(){var e=l(),t=p();return e&&f(e,{"lite baiduboxapp":"99999",baiduboxapp:"11.3","lite baiduhaokan":"99999",baiduhaokan:"5.11.0"}[t])>=0}function d(e){var t=e.webUrl,n=m();return e.webUrl="string"!=typeof t?d(t):function(e){var t="";switch(m()){case"haokanapp":t=o.HAOKAN_LINK_SCHEME_PREFIX+encodeURIComponent(e);break;default:t=o.LINK_SCHEME_PREFIX+encodeURIComponent(e)}return t}(t),["haokanapp"].indexOf(n)>-1?("haokanapp"===n?o.HAOKAN_DEEPLINK_SCHEME_PREFIX:o.QUANMIN_DEEPLINK_SCHEME_PREFIX)+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&"):i+o.DEEPLINK_SCHEME_PREFIX+s(e)}function p(){var e=window.navigator.userAgent.toLowerCase(),t={"lite baiduboxapp":/lite baiduboxapp/,baiduboxapp:/baiduboxapp/,"lite baiduhaokan":/lite_haokan/,baiduhaokan:/haokan/};return Object.keys(t).find(function(n){return e.match(t[n])?n:""})}function l(){var e=window.navigator.userAgent.toLowerCase().match(/(baiduboxapp|haokan)\/\s*([0-9,.]+)/);return!!e&&e[2]}function f(e,t){for(var n=e.split("."),o=t.split("."),r=Math.max(n.length,o.length),i=0;i<r;i++){var a=n[i]?parseInt(n[i],10):0,c=o[i]?parseInt(o[i],10):0;if(a!==c)return a>c?1:-1;if(i===r-1)return 0}}function b(){return["baiduboxapp","haokanapp"].indexOf(r.default.browser.name)>=0}function h(){return"ios"===r.default.os.name?"ios":"android"}function m(){return r.default.browser.name}function g(e){var t=String(r.default.os.version),n=h();/^http|s:\/\//.test(e)||"ios"===n&&f(t,"9.0")>=0?function(e){location.href=e}(e):function(e){var t=window.OppoWebPage||window.heytapWebPage;if(t)t.openDeepLink(e);else{var n=document.createElement("iframe");n.setAttribute("src",e),n.setAttribute("style","display:none"),document.body.appendChild(n),setTimeout(function(){document.body.removeChild(n)},200)}}(e)}function v(e){setTimeout(function(){w(Object.assign({},e,{f4:location.href,c_id:1022,rand:(new Date).getTime()+Math.random()}),o.ALS_LOG_URL)},0)}function w(e,t){var n=document.createElement("img"),o=[];Object.keys(e).forEach(function(t){e[t]&&o.push(t+"="+encodeURIComponent(e[t]))}),n.onload=n.onerror=function(){n=n.onload=n.onerror=null},n.src=t+(t.indexOf("?")<0?"?":"&")+o.join("&")}t.default={initUADCallback:function(){window.__UADCALLBACK__||(window.__UADCALLBACK__={})},triggerNAFeature:function(e,t,n,r){if(a)return;a=!0;var u=c();window.__UADCALLBACK__[u]=function(){a=!1,r.apply(this,arguments)},g(i+o.SCHEME_PREFIX+s(Object.assign({type:e,business:n.business,page:n.page,callback:"window.__UADCALLBACK__."+u},t)))},hasApp:function(e){var t=e.packageName,n=e.scheme,o=l(),r=p();return o&&f(o,{"lite baiduboxapp":"4.7",baiduboxapp:"10.0","lite baiduhaokan":"99999",baiduhaokan:"99999"}[r])>=0?new Promise(function(e,o){var r=c();g("baiduboxapp://v16/utils/queryScheme?params="+s({pkg:t,scheme:n})+"&callback=window.__UADCALLBACK__."+r),window.__UADCALLBACK__[r]=function(t){t=JSON.parse(t),e("0"===t.data.result),delete window.__UADCALLBACK__[r]}}).catch(function(e){return Promise.resolve(!1)}):Promise.resolve(!1)},triggerDeeplink:function(e){g(d(e))},registerDeeplink:function(e,t){var n=e.appData,r=e.logInfo,a=e.config,c=e.option,p=n.packageName,l=n.deeplinkData;if(n.deeplinkRegisterLock||!u())return void(t&&t());var f=void 0;l?f=d(Object.assign({},l,{autoInvoke:1})):c.isAutoOpenApp&&(f=i+o.SCHEME_PREFIX+s({type:"openapk",business:a.business,page:a.page,file_id:n.appId,packageName:n.packageName,ext_info:{bt_info:r.btInfo}}));f&&g(i+o.REGISTER_DEEPLINK_SCHEME_PREFIX+s({packageName:p,deeplinkUrl:f}));n.deeplinkRegisterLock=!0,setTimeout(function(){t&&t()},200)},isSupportDeeplink:u,isSupportNADownload:function(){var e=l(),t=p();return e&&f(e,{"lite baiduboxapp":"4.7",baiduboxapp:"11.8.0.3","lite baiduhaokan":"99999",baiduhaokan:"5.11.0"}[t])>=0},encode:function(e){return btoa(JSON.stringify(e))},decode:function(e){try{return JSON.parse(atob(e))}catch(e){return{}}},errorReport:function(e){return setTimeout(function(){var t=(e.stack||e).split("\n"),n=t[0]?t[0].trim():"",r=t[1]?t[1].trim():"";w({errInfo:["LPERR_ID[UAD_SDK_ERROR]","LPERR_MESSAGE["+n+"]","LPERR_STACK["+r+"]","LPERR_URL["+location.href+"]"].join(" "),rand:(new Date).getTime()+Math.random()},o.ERROR_LOG_URL),v({f1:"error-report",f2:n,f3:r,f4:location.href})},0),!1},imgReport:w,alsLog:v,isInNA:b,getOS:h,getMarketUrl:function(e){var t=r.default.mobile.name,n=m();return"baiduboxapp"===n||"bdminivideo"===n?"market://details?id="+e:"oppo"===t?"oppomarket://details?packagename="+e:"vivo"===t?"vivomarket://details?id="+e:"huawei"===t?"appmarket://details?id="+e:"market://details?id="+e},getBrowserName:m,getDeeplinkSchema:d,isDeeplinkAvailable:function(){var e=m();if("haokanapp"===e)return!0;if("baiduboxapp"===e){var t=/http(s)?:\/\/([^(\:|\/)]+)/i.exec(location.href);return!(!t||!t.length)&&(t[2]||"").trim().toLowerCase().endsWith(".baidu.com")}return!1},getMarketPackageName:function(){var e=r.default.mobile.name;return o.MARKET_PACKAGENAME_MAP[e]||""},getActionPromise:function(e){var t=e.actionName,n=e.shouldAct,o=e.url,r=e.duration;return n&&o?function(e,t,n){return function(){return new Promise(function(o,r){var i=!1,a=h(),c=function(){var e="hidden",t="visibilitychange";void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange");return{property:e,eventName:t}}(),s=(c.property,c.eventName),u=b()&&"android"===a?n:Math.max(n,2500);function d(t){i=!0,r(e),document.removeEventListener(s,d),document.removeEventListener("baiduboxappvisibilitychange",d)}g(t),document.addEventListener(s,d,!1),document.addEventListener("baiduboxappvisibilitychange",d,!1),setTimeout(function(){i||(document.removeEventListener(s,d),document.removeEventListener("baiduboxappvisibilitychange",d),v({f1:"action-failure",f2:e}),o(e),i=!0)},u)})}}(t,o,r):function(){return new Promise(function(e){e()})}},localJump:g}}})})},function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(35),a=i.clientInfo,c=i.iOS,s=i.deeplinkWithCb,u=c.BTNTEXTMAP,d=c.execScheme,p=c.buildSchemeMap,l=c.hasInstalledApp,f=c.deeplink,b=c.openH5,h={},m="https://itunes.apple.com/cn/app/id";h.initAppStatus=function(e){if(a.isBoxapp){var t=p(e);return e.schemeMap=t,new Promise(function(n,o){l(t.hasInstalledApp,{appStoreId:e.appStoreId}).then(function(o){e.install=o,o?(e.btnText=u.OPEN,e.buttonLink=t.openStore):e.buttonLink=t.openStore,n(e)}).catch(function(e,t){})})}return function(e){return new Promise(function(t,n){e.buttonLink=m+e.appStoreId,t(e)})}(e)},h.download=function(e){a.isBoxapp?h.initAppStatus(e).then(function(t){e.install=t.install,e.install?e.deeplinkUrl?s(e.deeplinkUrl,e.alsLog,"","",{appStoreId:e.appStoreId}).then(function(t){+t.status&&d(e.buttonLink)}):e.WebUrl?b(e.WebUrl):e.firstDeepLinkUrl?f(e.firstDeepLinkUrl,e.alsLog):d(e.buttonLink):d(e.buttonLink)}):e.firstDeepLinkUrl?(d(e.firstDeepLinkUrl),setTimeout(function(){d(e.buttonLink),d(e.buttonLink)},500)):d(e.buttonLink)},e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},h)},function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(35),a=i.versionCompare,c=i.clientInfo,s=i.Android,u=s.BTNTEXTMAP,d=s.DOWNLOADSTATUS,p=s.buildV14Scheme,l=s.buildDyV14Scheme,f=(s.buildDeeplinkScheme,s.execScheme),b=s.hasInstalledApk,h=s.getDownloadStatus,m=s.registerV7,g=(s.startDownload,s.registerDownloadProcess),v=s.unregisterDownloadProcess,w=s.installApk,y=s.openApk,O=s.registerDeeplink,k=s.deeplink,P={},D=c.isMobads;function _(e){var t=p(e),n=e.status,o=e.uri;n===d.DOWNLOADED&&w(t.installApk,{docId:e.docId}),n===d.SUSPEND&&o&&f(t.resumedownload),n===d.DOWNLOADING&&o&&f(t.pausedownload),n===d.NOTDOWNLOAD&&f(t.startDownload)}P.initAppStatus=function(e){return e.isBoxApp=c.isBoxapp,a(c.appVer,"11.8")>=0||D?(e.downloadVer="v7",function(e){var t=p(e);return e.schemeMap=t,new Promise(function(n,o){m(t.registerV7,e.registerCbHandler,{docId:e.docId}).then(function(n){return b(t.hasInstalledApk,{docId:e.docId})}).then(function(o){if(e.install=o,!o)return e.invoke=0,e.autoInvoke=0,h(t.getDownloadStatus,{docId:e.docId});e.invoke=1,e.autoInvoke=1,e.btnText=u.OPEN,e.buttonLink=t.openApk,n(e)}).then(function(o){e.status=o.status,e.uri=o.uri,e.process=o.process,o.status===d.DOWNLOADED&&(e.btnText=u.INSTALL,e.buttonLink=l("installApk",e),n(e)),o.status===d.SUSPEND&&o.uri&&(e.btnText=u.CONTINUE,e.buttonLink=t.resumedownload,n(e)),o.status===d.DOWNLOADING&&o.uri&&(e.btnText=u.CONTINUE,e.buttonLink=t.pausedownload,n(e)),o.status===d.NOTDOWNLOAD&&(e.buttonLink=t.startDownload,n(e))}).catch(function(e,t){})})}(e)):a(c.appVer,"9.3")>=0&&a(c.appVer,"11.8")<0?(a(c.appVer,"11.0")<0&&(e.appVerLTv11=!0),e.downloadVer="v14",function(e){var t=p(e);return e.schemeMap=t,new Promise(function(n,o){b(t.hasInstalledApk,{docId:e.docId}).then(function(o){if(e.install=o,!o)return e.invoke=0,e.autoInvoke=0,h(t.getDownloadStatus,{docId:e.docId});e.invoke=1,e.autoInvoke=1,e.btnText=u.OPEN,e.buttonLink=t.openApk,n(e)}).then(function(o){e.status=o.status,e.uri=o.uri,o.status===d.DOWNLOADED&&(e.btnText=u.INSTALL,e.buttonLink=l("installApk",e),n(e)),o.status===d.SUSPEND&&o.uri&&(e.btnText=u.CONTINUE,e.buttonLink=l("startDownload",e),n(e)),e.buttonLink=t.startDownload,g(e.registerCbHandler,{docId:e.docId}),n(e)}).catch(function(e,t){})})}(e)):function(e){return new Promise(function(t,n){e.buttonLink=e.downloadUrl,t(e)})}(e)},P.download=function(e){if(e.install)e.deeplinkUrl?k(e.deeplinkUrl,e.alsLog):f(e.buttonLink);else if(a(c.appVer,"9.3")>=0||D){if(a(c.appVer,"11.3")>=0||D)return O(e).then(function(t){_(e)}).catch(function(t){_(e)});_(e)}else f(e.buttonLink)},P.updateAppStatus=function(e){b(e.schemeMap.hasInstalledApk,{docId:e.docId}).then(function(t){if(t)return e.deeplinkUrl?k(e.deeplinkUrl,e.alsLog):y(e.schemeMap.openApk,{docId:e.docId})}).catch(function(e,t){})},e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({execScheme:f,buildDyV14Scheme:l,unregisterDownloadProcess:v,deeplink:k,registerDeeplink:O},P)},function(e,t,n){"use strict";var o={paramsValidate:function(e,t){return"Android"===e?t.docId&&t.packageName&&t.downloadUrl&&t.alsLog:"iOS"===e&&(t.appStoreId&&t.scheme&&t.alsLog)}};e.exports=o},function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(34),a=i.versionCompare,c=i.clientInfo,s=n(33),u=s.buildBoxScheme,d=s.execScheme,p=s.commontUtils,l={hasInstalledApp:function(e,t){return new Promise(function(n,o){var r=p.changePage(t);window[r]=window[r]||{},window[r].hasInstalledAppCb=function(e){"string"==typeof e?(e=JSON.parse(e),n(e.data&&"0"===e.data.result)):o("hasInstalledApp",!1)},d(e)})}};e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({buildSchemeMap:function(e){var t=e.scheme,n=e.appStoreId,o=e.alsLog,r=p.changePage(e);a(c.appVer,"11.3")<0&&"pddopen"===t&&(t="pinduoduo");var i=o?{extInfo:o}:null;return{hasInstalledApp:u({header:"baiduboxapp://v16/utils/queryScheme?params=",params:{scheme:t},callback:'&callback=window["'+r+'"].hasInstalledAppCb'}),openAppStore:u({header:"baiduboxapp://v7/vendor/ad/deeplink?params=",params:Object.assign({},{appUrl:"itms-appss://itunes.apple.com/cn/app/id".concat(n),webUrl:"baiduboxapp://v1/easybrowse/open?showtitlebar=1&newbrowser=1&append=0&url="+encodeURIComponent("baiduboxapp://V7/utils/openStore?appid=".concat(n)),source:"feedna",exemption:1,autoInvoke:1},i)}),openStore:"baiduboxapp://V7/utils/openStore?appid=".concat(n)}}},l)},function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(33),a=i.buildBoxScheme,c=i.execScheme,s=i.buildDeeplinkScheme,u=i.commontUtils,d={v14:"baiduboxapp://v14/download/app?params=",v7:"baiduboxapp://v7/vendor/ad/download?params="},p="pa_feed_lp",l={hasInstalledApk:function(e,t){return new Promise(function(n,o){var r=u.changePage(t);window[r]=window[r]||{},window[r].hasInstalledApkCb=function(e){"string"==typeof e?(e=JSON.parse(e),n(e.data&&"0"===e.data.result)):o("hasInstalledApk",!1)},c(e)})},getDownloadStatus:function(e,t){return new Promise(function(n,o){var r=u.changePage(t);window[r]=window[r]||{},window[r].getDownloadStatusCb=function(e){if("string"==typeof e){var t=JSON.parse(e)&&JSON.parse(e).data||{},r=t.result[0].downStatus,i=t.result[0].uri,a=t.result[0].process;n({status:r,uri:i,process:a})}else o("getDownloadStatus",{status:0,uri:""})},c(e)})},startDownload:function(e,t){return new Promise(function(n,o){var r=u.changePage(t);window[r]=window[r]||{},window[r].startDownloadCb=function(e){JSON.parse(e)&&JSON.parse(e).status},c(e)})},registerDownloadProcess:function(e,t){var n=u.changePage(t);return window[n]=window[n]||{},window[n].registerDownloadProcessCb=function(t,n){e&&e(n)},c("baiduboxapp://v5/datachannel/register?action=com.baidu.channel.aladdin.downloadapk&page="+n+'&jscallback=window["'+n+'"].registerDownloadProcessCb')},unregisterDownloadProcess:function(e){var t=u.changePage(e);c("baiduboxapp://v5/datachannel/unregister?action=com.baidu.channel.aladdin.downloadapk&page="+t)},installApk:function(e,t){return new Promise(function(n,o){var r=u.changePage(t);window[r]=window[r]||{},window[r].installApkCb=function(e){JSON.parse(e)&&JSON.parse(e).status},c(e)})},openApk:function(e,t){return new Promise(function(n,o){var r=u.changePage(t);window[r]=window[r]||{},window[r].openApkCb=function(e){JSON.parse(e)&&JSON.parse(e).status},c(e)})},registerDeeplink:function(e){return new Promise(function(t,n){e.deeplinkUrl&&e.alsLog||n();var o=a({header:"baiduboxapp://v7/vendor/ad/registerDeeplink?params=",params:{packageName:e.packageName,deeplinkUrl:s(e.deeplinkUrl,e.alsLog)}});c(o),setTimeout(function(){t()},200)})},registerV7:function(e,t,n){var o=u.changePage(n);return window[o]=window[o]||{},new Promise(function(n,r){window[o].registerV7Cb=function(e){if("string"==typeof e){if("0"===(e=JSON.parse(e)).status){var o=e.status;e.data?t(e):n({status:o})}}else r("registerV7Cb",!1)},c(e)})},pausedownload:function(e,t){return new Promise(function(n,o){var r=u.changePage(t);window[r]=window[r]||{},window[r].pausedownloadCb=function(e){"string"==typeof e?(e=JSON.parse(e),n(e)):o("pausedownloadCb",!1)},c(e)})},resumedownload:function(e,t){return new Promise(function(n,o){var r=u.changePage(t);window[r]=window[r]||{},window[r].resumedownloadCb=function(e){"string"==typeof e?(e=JSON.parse(e),n(e)):o("resumedownloadCb",!1)},c(e)})}};e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({DOWNLOADSTATUS:{NOTDOWNLOAD:"0",DOWNLOADING:"1",SUSPEND:"2",DOWNLOADED:"3",FAIL:"4",PENDING:"5"},buildV14Scheme:function(e){var t=e.downloadVer,n=e.docId,o=e.packageName,r=e.downloadUrl,i=e.docName,c=e.docIcon,s=e.alsLog,l=e.uri,f=u.changePage(e);window[f]=window[f]||{};var b={bt_type:"10002",bt_info:s};return e.deepLinkFlag&&Object.assign(b,{hide_install_complete:1}),{hasInstalledApk:a({header:"baiduboxapp://v16/utils/queryScheme?params=",params:{pkg:o},callback:'&callback=window["'+f+'"].hasInstalledApkCb'}),getDownloadStatus:a({header:d[t],params:{type:"batchgetdownloadstatus",business:"pa_landing",query:[{url:r,file_id:n,ext_info:b}],callback:'window["'+f+'"].getDownloadStatusCb',page:p}}),startDownload:a({header:d[t],params:{type:"startdownload",business:"pa_landing",url:r,uri:l||"",file_id:n,packageName:o,ext_info:b,callback:'window["'+f+'"].startDownloadCb',page:p}}),installApk:a({header:d[t],params:{type:"installapk",business:"pa_landing",uri:l,url:r,file_id:n,callback:'window["'+f+'"].installApkCb',packageName:o,ext_info:b,page:p}}),openApk:a({header:d[t],params:{type:"openapk",business:"pa_landing",packageName:o,ext_info:b,callback:'window["'+f+'"].openApkCb',page:p}}),registerV7:a({header:d[t],params:{type:"register",business:"pa_landing",url:r,action:"com.baidu.channel.aladdin.downloadapk",file_id:n,packageName:o,appName:i,packageImg:c,ext_info:b,callback:'window["'+f+'"].registerV7Cb',page:p}}),pausedownload:a({header:d[t],params:{type:"pausedownload",business:"pa_landing",uri:l,url:r,file_id:n,callback:'window["'+f+'"].pausedownloadCb',ext_info:b,page:p,packageName:o}}),resumedownload:a({header:d[t],params:{type:"resumedownload",business:"pa_landing",uri:l,url:r,file_id:n,callback:'window["'+f+'"].resumedownloadCb',ext_info:b,page:p,packageName:o}})}},buildDyV14Scheme:function(e,t){var n=t.downloadVer,o=t.docId,r=t.downloadUrl,i=t.packageName,c=t.uri,s=t.alsLog,l=u.changePage({docId:o}),f={bt_type:"10002",bt_info:s};switch(t.deepLinkFlag&&Object.assign(f,{hide_install_complete:1}),e){case"startDownload":return a({header:d[n],params:{type:"startdownload",business:"pa_landing",url:r,uri:c,file_id:o,packageName:i,ext_info:f,callback:'window["'+l+'"].startDownloadCb',page:p}});case"installApk":return a({header:d[n],params:{type:"installapk",business:"pa_landing",uri:c,url:r,file_id:o,callback:'window["'+l+'"].installApkCb',packageName:i,ext_info:f,page:p}})}},buildDeeplinkScheme:s},l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MACRO_LIST=void 0;var o={"{{DEVICE_ID_TYPE}}":{ios:"128",android:"64"},"{{DEEPLINK_BACKTEXT}}":{ios:encodeURIComponent("返回百度"),android:encodeURIComponent("返回百度")},"{{DEEPLINK_BACKURL}}":{ios:encodeURIComponent("baiduboxapp://donothing"),android:encodeURIComponent("baiduboxapp://donothing")},"{{DEEPLINK_APPNAME}}":{ios:encodeURIComponent("百度"),android:encodeURIComponent("百度")},"{{DEEPLILNK_APPNAME}}":{ios:encodeURIComponent("百度"),android:encodeURIComponent("百度")},"{{DEEPLINK_APPNANE_EN}}":{ios:"baidu.ios",android:"baidu.android"},"{{DEEPLINK_APPNAME_EN}}":{ios:"baidu.ios",android:"baidu.android"},"{{DEEPLINK_PACKAGENAME}}":{ios:"com.baidu.BaiduMobile",android:"com.baidu.searchbox"},"{{DEEPLINK_APPKEY}}":{ios:"",android:""},"{{DEVICE_ID}}":{ios:"",android:""},"{{DEEPLINK_KEPLERID}}":{ios:{"com.baidu.BaiduMobile":"jd20170401iphsjbd",default:"jd20170401iphsjbd","com.baidu.searchbox.lite":"jd20170802sjbdlite"},android:{"com.baidu.searchbox":"jd20170401adrsjbd","com.baidu.searchbox_bbk":"jd170412sjbdbbk","com.baidu.searchbox_tcl":"jd170412sjbdtcl","com.baidu.searchbox_coolpad":"jd170412sjbdcoolpad","com.baidu.searchbox_gionee":"jd170412sjbdgionee","com.baidu.searchbox_haier":"jd170412sjbdhaier","com.baidu.searchbox_hisense":"jd170412sjbdhisense","com.baidu.searchbox_htc":"jd170412sjbdhtc","com.baidu.searchbox_ktouch":"jd170412sjbdktouch","com.baidu.searchbox_lenovo":"jd170412sjbdlenovo","com.baidu.searchbox_oppo":"jd170412sjbdoppo","com.baidu.searchbox_huawei":"jd170412sjbdhuawei","com.baidu.searchbox_spreadtrum":"jd0412sjbdspreadtrum","com.baidu.searchbox_tianyi":"jd170412sjbdtianyi","com.baidu.searchbox_zte":"jd170412sjbdzte","com.baidu.searchbox_AndroidM":"jd170412sjbdAndroidM","com.baidu.searchbox_sj":"jd170412sjbdsj","com.baidu.searchbox_samsung":"jd170412sjbdsamsung","com.baidu.searchbox.info":"jd20180315sjbdinfo","com.baidu.searchbox_sony":"jd20180315sjbdsony"}},"{{DEEPLINK_KEPLERID_M}}":{ios:{"com.baidu.BaiduMobile":"jd20170310sjbd1"},android:{"com.baidu.searchbox":"jd20170310sjbd1"}}};t.MACRO_LIST=o},function(e,t,n){"use strict";var o=n(35),r=n(93),i=function(e){if(e&&e.__esModule)return e;var t=c();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}}n.default=e,t&&t.set(e,n);return n}(n(92)),a=function(e){return e&&e.__esModule?e:{default:e}}(n(91));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=o.clientInfo.OS,p=o.clientInfo.appVer,l={init:function(e,t){return new Promise(function(n,c){e.includes(d)?("Android"===d&&((0,r.paramsValidate)(d,t)?(o.commontUtils.changePage({docId:t.docId}),n(i.default.initAppStatus(t))):console.log("必备参数缺失或环境异常")),"iOS"===d&&((0,r.paramsValidate)(d,t)?n(a.default.initAppStatus(t)):console.log("必备参数缺失或环境异常"))):console.log("当前设备环境与投放目标不匹配")})},handleClick:function(e){"Android"===d&&i.default.download(e),"iOS"===d&&a.default.download(e),"Unknown"===d&&e.pcLink&&(0,i.execScheme)(e.pcLink)},unregisterDownloadProcess:function(e){if("Android"===d&&(0,o.versionCompare)(p,"11.3")>=0)return(0,i.unregisterDownloadProcess)(e)},updateAppStatus:function(e){if("Android"===d)return(0,i.updateAppStatus)(e)},thirdPartAuthenticate:function(e,t,n,r){return new Promise(function(i,a){var c=o.commontUtils.changePage(r);window[c]=window[c]||{},window[c].thirdPartAuthenticateCb=function(e){"string"==typeof e?(e=JSON.parse(e),i(e)):a("thirdPartAuthenticateCb",!1)},(0,o.execThirdPartAuthenticate)(e,t,n,r)})}};e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({execScheme:i.execScheme,buildDyV14Scheme:i.buildDyV14Scheme,deeplink:i.deeplink,deeplinkWithCb:o.deeplinkWithCb,registerDeeplink:i.registerDeeplink,exchangeNaUrl:o.exchangeNaUrl},l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.downSdk=void 0;var o=function(e){if(e&&e.__esModule)return e;var t=r();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}}n.default=e,t&&t.set(e,n);return n}(n(97));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}var i={Base:o.default,deeplink:o.deeplink,execScheme:o.execScheme,buildDyV14Scheme:o.buildDyV14Scheme,unregisterDownloadProcess:o.unregisterDownloadProcess,registerDeeplink:o.registerDeeplink,exchangeNaUrl:o.exchangeNaUrl,updateAppStatus:o.updateAppStatus};t.downSdk=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(98),r=n(90),i=n(55),a=n(5),c=n(89),s=n(12),u=n(88),d=n(87),p=n(86);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={isAndroid:(0,s.isAndroid)(),isIOS:(0,s.isIOS)(),isSmartProgram:(0,s.isSmartProgram)(),isMobads:(0,s.isMobads)(),isBaiduApp:(0,s.isBaiduApp)(),isHaokanApp:(0,s.isHaokanApp)(),isBaiduEnv:(0,s.isBaiduApp)()||(0,s.isMobads)()},g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t.el||null,this.appData=t.appData||{},this.iosAppData=this.appData.ios||{},this.androidAppData=this.appData.android||{},this.appId=m.isIOS?this.iosAppData.appStoreId:this.androidAppData.docId||Date.now()+Math.random(),this.statusInfo=c.COMMON_DEFAULT.statusInfo,this.options=t.options||{},this.initOptions(),this.config=t.config||c.COMMON_DEFAULT.config,this.multiApp=!1,this.uadEnv=!1,this.uad=null,this.downSdk=o.downSdk,this.isAuto=!1,this.instanceInfo=t.instanceInfo||{};var n=this.instanceInfo.__id__;n&&!e.instance.has(n)&&e.instance.set(n,f(f({},this.instanceInfo),this.appData)),this.initStatus=!1,this.initAppData(),this.initDownload(),this.autoDownloadTimer=null}return function(e,t,n){t&&b(e.prototype,t),n&&b(e,n)}(e,[{key:"initAppData",value:function(){this.androidAppData=f({alsLog:"alsLog"},this.androidAppData),this.iosAppData=f({alsLog:"alsLog"},(0,u.getIosData)(this.iosAppData));var e=this.androidAppData.deeplinkUrl;if(m.isAndroid&&m.isBaiduApp&&e){var t=this.downSdk.exchangeNaUrl;this.androidAppData.deeplinkUrl=t(e)}}},{key:"initDownload",value:function(){var t=this.androidAppData.docId,n=this.iosAppData.appStoreId;m.isIOS&&n?(e.downloadAppIDs.push(n),this.initDownSdkDownload("iOS",this.iosAppData)):t&&(e.downloadAppIDs.push(t),m.isBaiduApp||m.isHaokanApp?this.initUADDownload():(Object.assign(this.androidAppData,{registerCbHandler:this.registerCbHandler.bind(this)}),this.initDownSdkDownload("Android",this.androidAppData)))}},{key:"registerCbHandler",value:function(e){var t=this,n=function(e){if("[object String]"===Object.prototype.toString.call(e))return JSON.parse(e);return e}(e),r=this.androidAppData;try{var i=n.data,c=i.process,s=i.file_id,u=i.downStatus;if(s!==r.docId)return;if("0"!==n.status)return void this.emitEvents("error",n);r=function(e,t){var n=e,r=t.uri,i=t.process;r&&(n.uri=r,n.process=i);"100"===i&&(n.btnText="立即安装",n.buttonLink=o.downSdk.buildDyV14Scheme("installApk",n),n.appVerLTv11&&o.downSdk.execScheme(e.buttonLink));return f({},n)}(r,i),u===a.DOWNLOADSTATUS.OPEN?this.downSdk.Base.init("Android",r).then(function(e){t.updateStatus(u,e.process),t.downSdk.Base.handleClick(r)}):this.updateStatus(u,c)}catch(e){this.emitEvents("error",e)}}},{key:"startDownload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isAuto=!1,m.isSmartProgram?this.download(e):(clearTimeout(this.autoDownloadTimer),this.download(e))}},{key:"download",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(m.isSmartProgram)(0,d.h5Download)(this.appData);else if(this.uadEnv){var t=e.deeplinkUrl;if(m.isAndroid&&m.isBaiduApp&&t){var n=this.downSdk.exchangeNaUrl;e.deeplinkUrl=n(t)}!this.el&&this.uad.start({android:{deeplinkUrl:e.deeplinkUrl||""}})}else{var o=m.isIOS?this.iosAppData:this.androidAppData;Object.assign(o,e),this.downSdk.Base.handleClick(o)}}},{key:"pauseDownload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.statusInfo.status===a.DOWNLOADSTATUS.DOWNLOADING?this.startDownload(e):this.emitEvents("error",{message:"当前状态不能暂停下载!"})}},{key:"continueDownload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.statusInfo.status===a.DOWNLOADSTATUS.SUSPEND?this.startDownload(e):this.emitEvents("error",{message:"当前状态不能继续下载!"})}},{key:"install",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.statusInfo.status===a.DOWNLOADSTATUS.DOWNLOADED?this.startDownload(e):this.emitEvents("error",{message:"当前状态不能安装app!"})}},{key:"openApp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.statusInfo.status===a.DOWNLOADSTATUS.SUSPEND?this.startDownload(e):this.emitEvents("error",{message:"当前状态不能打开app!"})}},{key:"destroy",value:function(){this.downSdk.unregisterDownloadProcess()}},{key:"autoOperate",value:function(){var e=this,t=this.options,n=t.isAutoDownload,o=t.autoDownloadTime;n&&(this.isAuto=!0,this.autoDownloadTimer=setTimeout(function(){clearTimeout(e.autoDownloadTimer),e.download()},o))}},{key:"initUADDownload",value:function(){var e=this;this.uadEnv=!0,this.uad=new r.UAD({el:this.el,data:{ios:{appStoreId:this.iosAppData.appStoreId||"",deeplinkUrl:this.iosAppData.deeplinkUrl||""},android:{appId:this.androidAppData.docId||"",downloadUrl:this.androidAppData.downloadUrl||"",packageName:this.androidAppData.packageName||"",deeplinkUrl:this.androidAppData.deeplinkUrl||""}},options:{isActionQueue:this.options.isActionQueue},logInfo:{ext:{app_name:this.androidAppData.docName||"",app_icon:this.androidAppData.docIcon||""}},config:this.config}),this.uad.on("status",function(t){t.oldStatus;var n=t.newStatus,o=t.progress;e.updateStatus(n,o)}),this.uad.on("error",function(t){e.emitEvents("error",t)})}},{key:"initDownSdkDownload",value:function(e,t){var n=this;try{this.downSdk.Base.init([e],t).then(function(e){var t=e.install,o=e.process,r=e.status;if(n.updateStatus(t?a.DOWNLOADSTATUS.OPEN:r,o),m.isMobads){var i=e.status,c=e.schemeMap,s=n.downSdk.execScheme;i===a.DOWNLOADSTATUS.DOWNLOADING&&s(c.startDownload)}})}catch(e){this.emitEvents("error",e)}}},{key:"initOptions",value:function(){var e=this;Object.keys(c.OPTIONS_DEFAULT).map(function(t){void 0===e.options[t]&&(e.options[t]=c.OPTIONS_DEFAULT[t])})}},{key:"updateStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.DOWNLOADSTATUS.NOTDOWNLOAD,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.initStatus||(this.initStatus=!0,this.el&&this.el.addEventListener("click",this.startDownload.bind(this)),this.autoOperate(e));var n=String(e);this.statusInfo={install:n===a.DOWNLOADSTATUS.OPEN,status:n,progress:t,text:this.getBtnText(n,t)},this.el&&(this.el.innerText=this.statusInfo.text),this.emitEvents("status")}},{key:"emitEvents",value:function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e.events[this.appId]||{})[t]||[];r&&r.forEach(function(e){e(f(f({},o),{},{appData:n.appData,statusInfo:n.statusInfo,instance:n.instanceInfo,isAuto:n.isAuto}))})}},{key:"on",value:function(t,n){if(!n||"function"==typeof n){var o=e.events[this.appId];e.events[this.appId]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=f({},e);if(!t)return o;o[t]||(o[t]=n?new Set([n]):new Set);return n&&o[t].add(n),o}(o,t,n)}}},{key:"getBtnText",value:function(e,t){return e===a.DOWNLOADSTATUS.NOTDOWNLOAD?this.canGamePlay&&this.canGamePlay()?this.gamePlayConfig.btnText||"立即试玩":m.isIOS&&this.iosAppData.btnText?this.iosAppData.btnText:this.androidAppData.btnText||i.TextMap[e]:e===a.DOWNLOADSTATUS.DOWNLOADING&&this.options.isShowProgress?"已下载".concat(t,"%"):i.TextMap[e]}}]),e}();h(g,"instance",new Map),h(g,"events",{}),h(g,"downloadAppIDs",[]),h(g,"callApp",function(e,t,n){(0,p.h5CallApp)(e,t,n)});var v=g;t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProtocol=t.judgeMobileManufacturer=t.appStoreObj=t.launchProtocolObj=t.mobileManufacturersReg=t.mobileManufacturers=void 0;var o=n(12),r=["huawei","mi","vivo","oppo","samsung","meizu"];t.mobileManufacturers=r;var i={huawei:/huawei|honor/,mi:/mi\s|mix\s|redmi/,vivo:/vivo|v1821a/,oppo:/oppo|pacm00|pafm00/,samsung:/sm-/,meizu:/meizu/};t.mobileManufacturersReg=i;var a={huawei:"appmarket://details?id=",mi:"mimarket://details?id=",vivo:"vivomarket://details?id=",oppo:"oppomarket://details?packagename=",samsung:"samsungapps://productDetail/",meizu:"mstore://details?package_name=",default:"market://details?id="};t.launchProtocolObj=a;var c={huawei:"com.huawei.appmarket",mi:"com.xiaomi.market",vivo:"com.bbk.appstore",oppo:"com.oppo.market",samsung:"com.sec.android.app.samsungapps",meizu:"com.meizu.mstore",default:""};t.appStoreObj=c;var s=function(e){if("undefined"!=typeof window&&window){var t=window.navigator.userAgent;return new RegExp(e,"gi").test(t)}return!1};t.judgeMobileManufacturer=s;t.getProtocol=function(){var e=a.default,t=c.default;return r.forEach(function(n){s(i[n])&&(e=a[n],t=c[n])}),{protocol:(0,o.isBaiduApp)()?a.default:e,appStore:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(5),r=n(12),i=n(100),a=n(36),c=function(e){return e&&e.__esModule?e:{default:e}}(n(99));function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=f(e);if(t){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={isAndroid:(0,r.isAndroid)(),isIOS:(0,r.isIOS)(),isSmartProgram:(0,r.isSmartProgram)(),isMobads:(0,r.isMobads)(),isBaiduApp:(0,r.isBaiduApp)(),isHaokanApp:(0,r.isHaokanApp)(),isBaiduEnv:(0,r.isBaiduApp)()||(0,r.isMobads)()},m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,c.default);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=t.call(this,o)).autoDirectLaunchTimer=null,e.initDirectLaunch(),e}return function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(n,[{key:"initDirectLaunch",value:function(){var e=this.androidAppData.docId;this.canDirectLaunch()&&!n.directLaunchAppIDs.includes(e)&&n.directLaunchAppIDs.push(e)}},{key:"startDownload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isAuto=!1,h.isSmartProgram?this.download(e):this.canDirectLaunch()?(clearTimeout(this.autoDirectLaunchTimer),this.directLaunch({isActiveStoreDirectLaunch:!0})):(clearTimeout(this.autoDownloadTimer),this.download(e))}},{key:"directLaunch",value:function(e){var t=this,n=this.androidAppData,o=n.docId,r=n.packageName,c=n.downloadUrl,s=(0,i.getProtocol)(),d=s.protocol,p=s.appStore,l="".concat(d).concat(r);if(h.isBaiduEnv){var f=this.downSdk.registerDeeplink;this.downSdk.Base.deeplinkWithCb(l,"","",p,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({isStoreDirectLaunch:!0,isActiveStoreDirectLaunch:!0,downloadUrl:c,packageName:r,docId:o},e)).then(function(e){t.emitEvents("directLaunch",{type:"na_direct_launch",data:e}),h.isMobads&&f&&f(t.androidAppData),+e.status&&t.downSdk.Base.handleClick(t.androidAppData)})}else this.emitEvents("directLaunch",{type:"h5_direct_launch",data:{protocolUrl:l}}),(0,a.jumpUrl)(l)}},{key:"autoOperate",value:function(e){var t=this,n=this.options,r=n.isAutoDownload,i=n.autoDownloadTime,a=n.isAutoDirectLaunch,c=n.autoDirectLaunchTime;a&&(!h.isBaiduEnv||h.isBaiduEnv&&e!==o.DOWNLOADSTATUS.OPEN)?(this.isAuto=!0,this.autoDirectLaunchTimer=setTimeout(function(){clearTimeout(t.autoDirectLaunchTimer),t.directLaunch({isActiveStoreDirectLaunch:!1})},c)):r&&(this.isAuto=!0,this.autoDownloadTimer=setTimeout(function(){clearTimeout(t.autoDownloadTimer),t.download()},i))}},{key:"canDirectLaunch",value:function(){var e=this.statusInfo.status;return this.options.isDirectLaunch&&h.isAndroid&&(!h.isBaiduEnv||h.isBaiduEnv&&e!==o.DOWNLOADSTATUS.OPEN)}}]),n}();b(m,"directLaunchAppIDs",[]);var g=m;t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.parseSearch=void 0;var o=function(e){var t={};if(!e)return t;var n=e;return e.indexOf("?")>-1&&(n=e.split("?")[1]),n.split("&").forEach(function(e){var n=e.split("=");t[n[0]]=n[1]}),t};t.parseSearch=o;var r=o;t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.jsonToStringify=void 0;var o=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"&",o=[],r=0,i=Object.keys(e);r<i.length;r++){var a=i[r],c=e[a];"[object Object]"===Object.prototype.toString.call(c)&&(c=JSON.stringify(c)),c&&o.push("".concat(a).concat(t).concat(c))}return o.join(n)};t.jsonToStringify=o;var r=o;t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.gamePlay=void 0;var o=a(n(103)),r=a(n(36)),i=a(n(102));function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=function(e){var t=e.gameConfig,n=void 0===t?{}:t,a=d(e,["gameConfig"]);if(a.pkg){var c,u=encodeURIComponent(JSON.stringify(s({oa_module:"comad"},n))),p=(0,i.default)(window.location.href),l=(0,o.default)(s(s({fid:p.fid||"",ak:"7qAtgubUPZnde54hXGTSrRYk",sk:"OS2j56IWuMsYDNK9GBQcVhnPrpELy4XkFRx1lCiU"},a),{},{gameConfig:u}));c="//youbangbang.baidu.com/jump.html?".concat(l),(0,r.default)(c)}};t.gamePlay=p;var l=p;t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(5),r=n(12),i=n(104),a=function(e){return e&&e.__esModule?e:{default:e}}(n(101));function c(e){"@babel/helpers - typeof";return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=b(e);if(t){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h={isAndroid:(0,r.isAndroid)(),isIOS:(0,r.isIOS)(),isSmartProgram:(0,r.isSmartProgram)(),isMobads:(0,r.isMobads)(),isBaiduApp:(0,r.isBaiduApp)(),isHaokanApp:(0,r.isHaokanApp)(),isBaiduEnv:(0,r.isBaiduApp)()||(0,r.isMobads)()},m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(n,a.default);var t=f(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=t.call(this,o)).gamePlayConfig=o.gamePlayConfig||{},e}return function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(n,[{key:"startDownload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isAuto=!1;var t=this.statusInfo.status;if(h.isSmartProgram)this.download(e);else if(this.canGamePlay()&&t===o.DOWNLOADSTATUS.NOTDOWNLOAD){var n=u(u({},this.gamePlayConfig),{},{gameConfig:u(u({},this.gamePlayConfig.gameConfig||{}),{},{icon_url:this.androidAppData.packageImg,game_name:this.androidAppData.packageName})});(0,i.gamePlay)(n)}else this.canDirectLaunch()?(clearTimeout(this.autoDirectLaunchTimer),this.directLaunch({isActiveStoreDirectLaunch:!0})):(clearTimeout(this.autoDownloadTimer),this.download(e))}},{key:"canGamePlay",value:function(){return this.options.isGamePlay&&h.isBaiduApp&&h.isAndroid&&this.gamePlayConfig.pkg}}]),n}();t.default=m},function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(39),a=i.clientInfo,c=i.iOS,s=i.deeplinkWithCb,u=c.BTNTEXTMAP,d=c.execScheme,p=c.buildSchemeMap,l=c.hasInstalledApp,f=c.deeplink,b=c.openH5,h={},m="https://itunes.apple.com/cn/app/id";h.initAppStatus=function(e){if(a.isBoxapp){var t=p(e);return e.schemeMap=t,new Promise(function(n,o){l(t.hasInstalledApp,{appStoreId:e.appStoreId}).then(function(o){e.install=o,o?(e.btnText=u.OPEN,e.buttonLink=t.openStore):e.buttonLink=t.openStore,n(e)}).catch(function(e,t){})})}return function(e){return new Promise(function(t,n){e.buttonLink=m+e.appStoreId,t(e)})}(e)},h.download=function(e){a.isBoxapp?h.initAppStatus(e).then(function(t){e.install=t.install,e.install?e.deeplinkUrl?s(e.deeplinkUrl,e.alsLog,"","",{appStoreId:e.appStoreId}).then(function(t){+t.status&&d(e.buttonLink)}):e.WebUrl?b(e.WebUrl):e.firstDeepLinkUrl?f(e.firstDeepLinkUrl,e.alsLog):d(e.buttonLink):d(e.buttonLink)}):e.firstDeepLinkUrl?(d(e.firstDeepLinkUrl),setTimeout(function(){d(e.buttonLink),d(e.buttonLink)},500)):d(e.buttonLink)},e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},h)},function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(39),a=i.versionCompare,c=i.clientInfo,s=i.Android,u=s.BTNTEXTMAP,d=s.DOWNLOADSTATUS,p=s.buildV14Scheme,l=s.buildDyV14Scheme,f=(s.buildDeeplinkScheme,s.execScheme),b=s.hasInstalledApk,h=s.getDownloadStatus,m=s.registerV7,g=(s.startDownload,s.registerDownloadProcess),v=s.unregisterDownloadProcess,w=s.installApk,y=s.openApk,O=s.registerDeeplink,k=s.deeplink,P={},D=c.isMobads;function _(e){var t=p(e),n=e.status,o=e.uri;n===d.DOWNLOADED&&w(t.installApk,{docId:e.docId}),n===d.SUSPEND&&o&&f(t.resumedownload),n===d.DOWNLOADING&&o&&f(t.pausedownload),n===d.NOTDOWNLOAD&&f(t.startDownload)}P.initAppStatus=function(e){return e.isBoxApp=c.isBoxapp,a(c.appVer,"11.8")>=0||D?(e.downloadVer="v7",function(e){var t=p(e);return e.schemeMap=t,new Promise(function(n,o){m(t.registerV7,e.registerCbHandler,{docId:e.docId}).then(function(n){return b(t.hasInstalledApk,{docId:e.docId})}).then(function(o){if(e.install=o,!o)return e.invoke=0,e.autoInvoke=0,h(t.getDownloadStatus,{docId:e.docId});e.invoke=1,e.autoInvoke=1,e.btnText=u.OPEN,e.buttonLink=t.openApk,n(e)}).then(function(o){e.status=o.status,e.uri=o.uri,e.process=o.process,o.status===d.DOWNLOADED&&(e.btnText=u.INSTALL,e.buttonLink=l("installApk",e),n(e)),o.status===d.SUSPEND&&o.uri&&(e.btnText=u.CONTINUE,e.buttonLink=t.resumedownload,n(e)),o.status===d.DOWNLOADING&&o.uri&&(e.btnText=u.CONTINUE,e.buttonLink=t.pausedownload,n(e)),o.status===d.NOTDOWNLOAD&&(e.buttonLink=t.startDownload,n(e))}).catch(function(e,t){})})}(e)):a(c.appVer,"9.3")>=0&&a(c.appVer,"11.8")<0?(a(c.appVer,"11.0")<0&&(e.appVerLTv11=!0),e.downloadVer="v14",function(e){var t=p(e);return e.schemeMap=t,new Promise(function(n,o){b(t.hasInstalledApk,{docId:e.docId}).then(function(o){if(e.install=o,!o)return e.invoke=0,e.autoInvoke=0,h(t.getDownloadStatus,{docId:e.docId});e.invoke=1,e.autoInvoke=1,e.btnText=u.OPEN,e.buttonLink=t.openApk,n(e)}).then(function(o){e.status=o.status,e.uri=o.uri,o.status===d.DOWNLOADED&&(e.btnText=u.INSTALL,e.buttonLink=l("installApk",e),n(e)),o.status===d.SUSPEND&&o.uri&&(e.btnText=u.CONTINUE,e.buttonLink=l("startDownload",e),n(e)),e.buttonLink=t.startDownload,g(e.registerCbHandler,{docId:e.docId}),n(e)}).catch(function(e,t){})})}(e)):function(e){return new Promise(function(t,n){e.buttonLink=e.downloadUrl,t(e)})}(e)},P.download=function(e){if(e.install)e.deeplinkUrl?k(e.deeplinkUrl,e.alsLog):f(e.buttonLink);else if(a(c.appVer,"9.3")>=0||D){if(a(c.appVer,"11.3")>=0||D)return O(e).then(function(t){_(e)}).catch(function(t){_(e)});_(e)}else f(e.buttonLink)},P.updateAppStatus=function(e){b(e.schemeMap.hasInstalledApk,{docId:e.docId}).then(function(t){if(t)return e.deeplinkUrl?k(e.deeplinkUrl,e.alsLog):y(e.schemeMap.openApk,{docId:e.docId})}).catch(function(e,t){})},e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({execScheme:f,buildDyV14Scheme:l,unregisterDownloadProcess:v,deeplink:k,registerDeeplink:O},P)},function(e,t,n){"use strict";var o={paramsValidate:function(e,t){return"Android"===e?t.docId&&t.packageName&&t.downloadUrl&&t.alsLog:"iOS"===e&&(t.appStoreId&&t.scheme&&t.alsLog)}};e.exports=o},function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(38),a=i.versionCompare,c=i.clientInfo,s=n(37),u=s.buildBoxScheme,d=s.execScheme,p=s.commontUtils,l={hasInstalledApp:function(e,t){return new Promise(function(n,o){var r=p.changePage(t);window[r]=window[r]||{},window[r].hasInstalledAppCb=function(e){"string"==typeof e?(e=JSON.parse(e),n(e.data&&"0"===e.data.result)):o("hasInstalledApp",!1)},d(e)})}};e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({buildSchemeMap:function(e){var t=e.scheme,n=e.appStoreId,o=e.alsLog,r=p.changePage(e);a(c.appVer,"11.3")<0&&"pddopen"===t&&(t="pinduoduo");var i=o?{extInfo:o}:null;return{hasInstalledApp:u({header:"baiduboxapp://v16/utils/queryScheme?params=",params:{scheme:t},callback:'&callback=window["'+r+'"].hasInstalledAppCb'}),openAppStore:u({header:"baiduboxapp://v7/vendor/ad/deeplink?params=",params:Object.assign({},{appUrl:"itms-appss://itunes.apple.com/cn/app/id".concat(n),webUrl:"baiduboxapp://v1/easybrowse/open?showtitlebar=1&newbrowser=1&append=0&url="+encodeURIComponent("baiduboxapp://V7/utils/openStore?appid=".concat(n)),source:"feedna",exemption:1,autoInvoke:1},i)}),openStore:"baiduboxapp://V7/utils/openStore?appid=".concat(n)}}},l)},function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(37),a=i.buildBoxScheme,c=i.execScheme,s=i.buildDeeplinkScheme,u=i.commontUtils,d={v14:"baiduboxapp://v14/download/app?params=",v7:"baiduboxapp://v7/vendor/ad/download?params="},p="pa_feed_lp",l={hasInstalledApk:function(e,t){return new Promise(function(n,o){var r=u.changePage(t);window[r]=window[r]||{},window[r].hasInstalledApkCb=function(e){"string"==typeof e?(e=JSON.parse(e),n(e.data&&"0"===e.data.result)):o("hasInstalledApk",!1)},c(e)})},getDownloadStatus:function(e,t){return new Promise(function(n,o){var r=u.changePage(t);window[r]=window[r]||{},window[r].getDownloadStatusCb=function(e){if("string"==typeof e){var t=JSON.parse(e)&&JSON.parse(e).data||{},r=t.result[0].downStatus,i=t.result[0].uri,a=t.result[0].process;n({status:r,uri:i,process:a})}else o("getDownloadStatus",{status:0,uri:""})},c(e)})},startDownload:function(e,t){return new Promise(function(n,o){var r=u.changePage(t);window[r]=window[r]||{},window[r].startDownloadCb=function(e){JSON.parse(e)&&JSON.parse(e).status},c(e)})},registerDownloadProcess:function(e,t){var n=u.changePage(t);return window[n]=window[n]||{},window[n].registerDownloadProcessCb=function(t,n){e&&e(n)},c("baiduboxapp://v5/datachannel/register?action=com.baidu.channel.aladdin.downloadapk&page="+n+'&jscallback=window["'+n+'"].registerDownloadProcessCb')},unregisterDownloadProcess:function(e){var t=u.changePage(e);c("baiduboxapp://v5/datachannel/unregister?action=com.baidu.channel.aladdin.downloadapk&page="+t)},installApk:function(e,t){return new Promise(function(n,o){var r=u.changePage(t);window[r]=window[r]||{},window[r].installApkCb=function(e){JSON.parse(e)&&JSON.parse(e).status},c(e)})},openApk:function(e,t){return new Promise(function(n,o){var r=u.changePage(t);window[r]=window[r]||{},window[r].openApkCb=function(e){JSON.parse(e)&&JSON.parse(e).status},c(e)})},registerDeeplink:function(e){return new Promise(function(t,n){e.deeplinkUrl&&e.alsLog||n();var o=a({header:"baiduboxapp://v7/vendor/ad/registerDeeplink?params=",params:{packageName:e.packageName,deeplinkUrl:s(e.deeplinkUrl,e.alsLog)}});c(o),setTimeout(function(){t()},200)})},registerV7:function(e,t,n){var o=u.changePage(n);return window[o]=window[o]||{},new Promise(function(n,r){window[o].registerV7Cb=function(e){if("string"==typeof e){if("0"===(e=JSON.parse(e)).status){var o=e.status;e.data?t(e):n({status:o})}}else r("registerV7Cb",!1)},c(e)})},pausedownload:function(e,t){return new Promise(function(n,o){var r=u.changePage(t);window[r]=window[r]||{},window[r].pausedownloadCb=function(e){"string"==typeof e?(e=JSON.parse(e),n(e)):o("pausedownloadCb",!1)},c(e)})},resumedownload:function(e,t){return new Promise(function(n,o){var r=u.changePage(t);window[r]=window[r]||{},window[r].resumedownloadCb=function(e){"string"==typeof e?(e=JSON.parse(e),n(e)):o("resumedownloadCb",!1)},c(e)})}};e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({DOWNLOADSTATUS:{NOTDOWNLOAD:"0",DOWNLOADING:"1",SUSPEND:"2",DOWNLOADED:"3",FAIL:"4",PENDING:"5"},buildV14Scheme:function(e){var t=e.downloadVer,n=e.docId,o=e.packageName,r=e.downloadUrl,i=e.docName,c=e.docIcon,s=e.alsLog,l=e.uri,f=u.changePage(e);window[f]=window[f]||{};var b={bt_type:"10002",bt_info:s};return e.deepLinkFlag&&Object.assign(b,{hide_install_complete:1}),{hasInstalledApk:a({header:"baiduboxapp://v16/utils/queryScheme?params=",params:{pkg:o},callback:'&callback=window["'+f+'"].hasInstalledApkCb'}),getDownloadStatus:a({header:d[t],params:{type:"batchgetdownloadstatus",business:"pa_landing",query:[{url:r,file_id:n,ext_info:b}],callback:'window["'+f+'"].getDownloadStatusCb',page:p}}),startDownload:a({header:d[t],params:{type:"startdownload",business:"pa_landing",url:r,uri:l||"",file_id:n,packageName:o,ext_info:b,callback:'window["'+f+'"].startDownloadCb',page:p}}),installApk:a({header:d[t],params:{type:"installapk",business:"pa_landing",uri:l,url:r,file_id:n,callback:'window["'+f+'"].installApkCb',packageName:o,ext_info:b,page:p}}),openApk:a({header:d[t],params:{type:"openapk",business:"pa_landing",packageName:o,ext_info:b,callback:'window["'+f+'"].openApkCb',page:p}}),registerV7:a({header:d[t],params:{type:"register",business:"pa_landing",url:r,action:"com.baidu.channel.aladdin.downloadapk",file_id:n,packageName:o,appName:i,packageImg:c,ext_info:b,callback:'window["'+f+'"].registerV7Cb',page:p}}),pausedownload:a({header:d[t],params:{type:"pausedownload",business:"pa_landing",uri:l,url:r,file_id:n,callback:'window["'+f+'"].pausedownloadCb',ext_info:b,page:p,packageName:o}}),resumedownload:a({header:d[t],params:{type:"resumedownload",business:"pa_landing",uri:l,url:r,file_id:n,callback:'window["'+f+'"].resumedownloadCb',ext_info:b,page:p,packageName:o}})}},buildDyV14Scheme:function(e,t){var n=t.downloadVer,o=t.docId,r=t.downloadUrl,i=t.packageName,c=t.uri,s=t.alsLog,l=u.changePage({docId:o}),f={bt_type:"10002",bt_info:s};switch(t.deepLinkFlag&&Object.assign(f,{hide_install_complete:1}),e){case"startDownload":return a({header:d[n],params:{type:"startdownload",business:"pa_landing",url:r,uri:c,file_id:o,packageName:i,ext_info:f,callback:'window["'+l+'"].startDownloadCb',page:p}});case"installApk":return a({header:d[n],params:{type:"installapk",business:"pa_landing",uri:c,url:r,file_id:o,callback:'window["'+l+'"].installApkCb',packageName:i,ext_info:f,page:p}})}},buildDeeplinkScheme:s},l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MACRO_LIST=void 0;var o={"{{DEVICE_ID_TYPE}}":{ios:"128",android:"64"},"{{DEEPLINK_BACKTEXT}}":{ios:encodeURIComponent("返回百度"),android:encodeURIComponent("返回百度")},"{{DEEPLINK_BACKURL}}":{ios:encodeURIComponent("baiduboxapp://donothing"),android:encodeURIComponent("baiduboxapp://donothing")},"{{DEEPLINK_APPNAME}}":{ios:encodeURIComponent("百度"),android:encodeURIComponent("百度")},"{{DEEPLILNK_APPNAME}}":{ios:encodeURIComponent("百度"),android:encodeURIComponent("百度")},"{{DEEPLINK_APPNANE_EN}}":{ios:"baidu.ios",android:"baidu.android"},"{{DEEPLINK_APPNAME_EN}}":{ios:"baidu.ios",android:"baidu.android"},"{{DEEPLINK_PACKAGENAME}}":{ios:"com.baidu.BaiduMobile",android:"com.baidu.searchbox"},"{{DEEPLINK_APPKEY}}":{ios:"",android:""},"{{DEVICE_ID}}":{ios:"",android:""},"{{DEEPLINK_KEPLERID}}":{ios:{"com.baidu.BaiduMobile":"jd20170401iphsjbd",default:"jd20170401iphsjbd","com.baidu.searchbox.lite":"jd20170802sjbdlite"},android:{"com.baidu.searchbox":"jd20170401adrsjbd","com.baidu.searchbox_bbk":"jd170412sjbdbbk","com.baidu.searchbox_tcl":"jd170412sjbdtcl","com.baidu.searchbox_coolpad":"jd170412sjbdcoolpad","com.baidu.searchbox_gionee":"jd170412sjbdgionee","com.baidu.searchbox_haier":"jd170412sjbdhaier","com.baidu.searchbox_hisense":"jd170412sjbdhisense","com.baidu.searchbox_htc":"jd170412sjbdhtc","com.baidu.searchbox_ktouch":"jd170412sjbdktouch","com.baidu.searchbox_lenovo":"jd170412sjbdlenovo","com.baidu.searchbox_oppo":"jd170412sjbdoppo","com.baidu.searchbox_huawei":"jd170412sjbdhuawei","com.baidu.searchbox_spreadtrum":"jd0412sjbdspreadtrum","com.baidu.searchbox_tianyi":"jd170412sjbdtianyi","com.baidu.searchbox_zte":"jd170412sjbdzte","com.baidu.searchbox_AndroidM":"jd170412sjbdAndroidM","com.baidu.searchbox_sj":"jd170412sjbdsj","com.baidu.searchbox_samsung":"jd170412sjbdsamsung","com.baidu.searchbox.info":"jd20180315sjbdinfo","com.baidu.searchbox_sony":"jd20180315sjbdsony"}},"{{DEEPLINK_KEPLERID_M}}":{ios:{"com.baidu.BaiduMobile":"jd20170310sjbd1"},android:{"com.baidu.searchbox":"jd20170310sjbd1"}}};t.MACRO_LIST=o},function(e,t,n){"use strict";function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=n(39),i=n(108),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(107)),c=function(e){return e&&e.__esModule?e:{default:e}}(n(106));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=r.clientInfo.OS,l=r.clientInfo.appVer,f={init:function(e,t){return new Promise(function(n,o){e.includes(p)?("Android"===p&&((0,i.paramsValidate)(p,t)?(r.commontUtils.changePage({docId:t.docId}),n(a.default.initAppStatus(t))):console.log("必备参数缺失或环境异常")),"iOS"===p&&((0,i.paramsValidate)(p,t)?n(c.default.initAppStatus(t)):console.log("必备参数缺失或环境异常"))):console.log("当前设备环境与投放目标不匹配")})},handleClick:function(e){"Android"===p&&a.default.download(e),"iOS"===p&&c.default.download(e),"Unknown"===p&&e.pcLink&&(0,a.execScheme)(e.pcLink)},unregisterDownloadProcess:function(e){if("Android"===p&&(0,r.versionCompare)(l,"11.3")>=0)return(0,a.unregisterDownloadProcess)(e)},updateAppStatus:function(e){if("Android"===p)return(0,a.updateAppStatus)(e)},thirdPartAuthenticate:function(e,t,n,o){return new Promise(function(i,a){var c=r.commontUtils.changePage(o);window[c]=window[c]||{},window[c].thirdPartAuthenticateCb=function(e){"string"==typeof e?(e=JSON.parse(e),i(e)):a("thirdPartAuthenticateCb",!1)},(0,r.execThirdPartAuthenticate)(e,t,n,o)})}};e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({execScheme:a.execScheme,buildDyV14Scheme:a.buildDyV14Scheme,deeplink:a.deeplink,deeplinkWithCb:r.deeplinkWithCb,registerDeeplink:a.registerDeeplink,exchangeNaUrl:r.exchangeNaUrl},f)},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var o=n(18),r=n(25),i=n(6),a=n(113),c="["+a+"]",s=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),d=function(e,t,n){var r={},c=i(function(){return!!a[e]()||"​"!="​"[e]()}),s=r[e]=c?t(p):a[e];n&&(r[n]=s),o(o.P+o.F*c,"String",r)},p=d.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(s,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},function(e,t){if(void 0===__mipComponentsWebpackHelpers__["core-js/modules/_ctx"]){var n=new Error("Cannot find module '__mipComponentsWebpackHelpers__['core-js/modules/_ctx']'");throw n.code="MODULE_NOT_FOUND",n}e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_ctx"]},function(e,t,n){var o=n(40),r=n(0),i=function(e,t){if(r(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,o){try{(o=n(115)(Function.call,n(44).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){var o=n(3).f,r=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in r||n(4)&&o(r,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,n){var o=n(17),r=n(57),i=n(46)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),o(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var o=n(15).document;e.exports=o&&o.documentElement},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_dom-create"]},function(e,t,n){var o=n(64),r=n(45);e.exports=Object.keys||function(e){return o(e,r)}},function(e,t,n){var o=n(3),r=n(0),i=n(121);e.exports=n(4)?Object.defineProperties:function(e,t){r(e);for(var n,a=i(t),c=a.length,s=0;c>s;)o.f(e,n=a[s++],t[n]);return e}},function(e,t,n){"use strict";var o=n(59),r=n(43),i=n(58),a={};n(22)(a,n(1)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=o(a,{next:r(1,n)}),i(e,t+" Iterator")}},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_library"]},function(e,t,n){"use strict";var o=n(124),r=n(18),i=n(13),a=n(22),c=n(60),s=n(123),u=n(58),d=n(118),p=n(1)("iterator"),l=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,n,b,h,m,g){s(n,t,b);var v,w,y,O=function(e){if(!l&&e in _)return _[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",P="values"==h,D=!1,_=e.prototype,I=_[p]||_["@@iterator"]||h&&_[h],S=I||O(h),x=h?P?O("entries"):S:void 0,A="Array"==t&&_.entries||I;if(A&&(y=d(A.call(new e)))!==Object.prototype&&y.next&&(u(y,k,!0),o||"function"==typeof y[p]||a(y,p,f)),P&&I&&"values"!==I.name&&(D=!0,S=function(){return I.call(this)}),o&&!g||!l&&!D&&_[p]||a(_,p,S),c[t]=S,c[k]=f,h)if(v={values:P?S:O("values"),keys:m?S:O("keys"),entries:x},g)for(w in v)w in _||i(_,w,v[w]);else r(r.P+r.F*(l||D),t,v);return v}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var o=n(3),r=n(43);e.exports=function(e,t,n){t in e?o.f(e,t,r(0,n)):e[t]=n}},function(e,t){e.exports=__mipComponentsWebpackHelpers__["core-js/modules/_ie8-dom-define"]},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var o=n(47),r=Math.max,i=Math.min;e.exports=function(e,t){return(e=o(e))<0?r(e+t,0):i(e,t)}},function(e,t,n){var o=n(26);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},function(e,t,n){var o=n(48),r=n(130),i=n(0),a=n(15).Reflect;e.exports=a&&a.ownKeys||function(e){var t=o.f(i(e)),n=r.f;return n?t.concat(n(e)):t}}]);e.__esModule&&(e=e.default),e&&MIP.registerElement("mip-sjh-basis-download",e)}});