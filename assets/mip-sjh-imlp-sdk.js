(window.MIP=window.MIP||[]).push({name:"mip-sjh-imlp-sdk",func:function(){var t=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="https://c.mipcdn.com/static/v2/fc-platform/mip-sjh-imlp-sdk-99/",n(n.s=54)}([function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_an-object"]},function(t,e){t.exports=__mipComponentsWebpackHelpers__["@babel/runtime/helpers/esm/defineProperty"]},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_wks"]},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_export"]},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/web.dom.iterable"]},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_descriptors"]},function(t,e,n){var i=n(89),o=n(13);t.exports=function(t){return i(o(t))}},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_fails"]},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_object-dp"]},function(t,e,n){"use strict";var i=n(28),o=n(0),a=n(67),r=n(27),s=n(20),c=n(17),l=n(26),p=n(7),u=Math.min,d=[].push,h=!p(function(){RegExp(4294967295,"y")});n(16)("split",2,function(t,e,n,p){var f;return f="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var o=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(o,t,e);for(var a,r,s,c=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,h=void 0===e?4294967295:e>>>0,f=new RegExp(t.source,p+"g");(a=l.call(f,o))&&!((r=f.lastIndex)>u&&(c.push(o.slice(u,a.index)),a.length>1&&a.index<o.length&&d.apply(c,a.slice(1)),s=a[0].length,u=r,c.length>=h));)f.lastIndex===a.index&&f.lastIndex++;return u===o.length?!s&&f.test("")||c.push(""):c.push(o.slice(u)),c.length>h?c.slice(0,h):c}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var o=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,o,i):f.call(String(o),n,i)},function(t,e){var i=p(f,t,this,e,f!==n);if(i.done)return i.value;var l=o(t),d=String(this),m=a(l,RegExp),g=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(h?"y":"g"),w=new m(h?l:"^(?:"+l.source+")",v),b=void 0===e?4294967295:e>>>0;if(0===b)return[];if(0===d.length)return null===c(w,d)?[d]:[];for(var y=0,I=0,x=[];I<d.length;){w.lastIndex=h?I:0;var P,k=c(w,h?d:d.slice(I));if(null===k||(P=u(s(w.lastIndex+(h?0:I)),d.length))===y)I=r(d,I,g);else{if(x.push(d.slice(y,I)),x.length===b)return x;for(var S=1;S<=k.length-1;S++)if(x.push(k[S]),x.length===b)return x;I=y=P}}return x.push(d.slice(y)),x}]})},function(t,e,n){"use strict";var i=n(45),o=n(83),a=n(44),r=n(6);t.exports=n(82)(Array,"Array",function(t,e){this._t=r(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_is-object"]},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_global"]},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_defined"]},function(t,e,n){"use strict";var i=n(0),o=n(20),a=n(27),r=n(17);n(16)("match",1,function(t,e,n,s){return[function(n){var i=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=s(n,t,this);if(e.done)return e.value;var c=i(t),l=String(this);if(!c.global)return r(c,l);var p=c.unicode;c.lastIndex=0;for(var u,d=[],h=0;null!==(u=r(c,l));){var f=String(u[0]);d[h]=f,""===f&&(c.lastIndex=a(l,o(c.lastIndex),p)),h++}return 0===h?null:d}]})},function(t,e,n){"use strict";var i=n(0),o=n(63),a=n(17);n(16)("search",1,function(t,e,n,r){return[function(n){var i=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=r(n,t,this);if(e.done)return e.value;var s=i(t),c=String(this),l=s.lastIndex;o(l,0)||(s.lastIndex=0);var p=a(s,c);return o(s.lastIndex,l)||(s.lastIndex=l),null===p?-1:p.index}]})},function(t,e,n){"use strict";n(64);var i=n(22),o=n(19),a=n(7),r=n(13),s=n(2),c=n(26),l=s("species"),p=!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),u=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=s(t),h=!a(function(){var e={};return e[d]=function(){return 7},7!=""[t](e)}),f=h?!a(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[d](""),!e}):void 0;if(!h||!f||"replace"===t&&!p||"split"===t&&!u){var m=/./[d],g=n(r,d,""[t],function(t,e,n,i,o){return e.exec===c?h&&!o?{done:!0,value:m.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),v=g[0],w=g[1];i(String.prototype,t,v),o(RegExp.prototype,d,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}}},function(t,e,n){"use strict";var i=n(65),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var a=n.call(t,e);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,n){var i=n(3),o=n(78),a=n(6),r=n(40),s=n(74);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=a(t),c=r.f,l=o(i),p={},u=0;l.length>u;)void 0!==(n=c(i,e=l[u++]))&&s(p,e,n);return p}})},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_hide"]},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_to-length"]},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_has"]},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_redefine"]},function(t,e,n){"use strict";var i=n(0);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e){t.exports=__mipComponentsWebpackHelpers__["@babel/runtime/helpers/esm/createClass"]},function(t,e){t.exports=__mipComponentsWebpackHelpers__["@babel/runtime/helpers/esm/classCallCheck"]},function(t,e,n){"use strict";var i=n(23),o=RegExp.prototype.exec,a=String.prototype.replace,r=o,s=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=void 0!==/()??/.exec("")[1];(s||c)&&(r=function(t){var e,n,r,l,p=this;return c&&(n=new RegExp("^"+p.source+"$(?!\\s)",i.call(p))),s&&(e=p.lastIndex),r=o.call(p,t),s&&r&&(p.lastIndex=p.global?r.index+r[0].length:e),c&&r&&r.length>1&&a.call(r[0],n,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(r[l]=void 0)}),r}),t.exports=r},function(t,e,n){"use strict";var i=n(66)(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},function(t,e,n){var i=n(11),o=n(34),a=n(2)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==o(t))}},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_property-desc"]},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_a-function"]},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_shared-key"]},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_to-integer"]},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=__mipComponentsWebpackHelpers__["@babel/runtime/regenerator/index"]},function(t,e){t.exports=__mipComponentsWebpackHelpers__["@babel/runtime/helpers/esm/getPrototypeOf"]},function(t,e,n){var i=n(12),o=n(58),a=n(8).f,r=n(41).f,s=n(28),c=n(23),l=i.RegExp,p=l,u=l.prototype,d=/a/g,h=/a/g,f=new l(d)!==d;if(n(5)&&(!f||n(7)(function(){return h[n(2)("match")]=!1,l(d)!=d||l(h)==h||"/a/i"!=l(d,"i")}))){l=function(t,e){var n=this instanceof l,i=s(t),a=void 0===e;return!n&&i&&t.constructor===l&&a?t:o(f?new p(i&&!a?t.source:t,e):p((i=t instanceof l)?t.source:t,i&&a?c.call(t):e),n?this:u,l)};for(var m=function(t){t in l||a(l,t,{configurable:!0,get:function(){return p[t]},set:function(e){p[t]=e}})},g=r(p),v=0;g.length>v;)m(g[v++]);u.constructor=l,l.prototype=u,n(22)(i,"RegExp",l)}n(55)("RegExp")},function(t,e,n){var i=n(3),o=n(7),a=n(13),r=/"/g,s=function(t,e,n,i){var o=String(a(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(r,"&quot;")+'"'),s+">"+o+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),i(i.P+i.F*o(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(39),o=n(29),a=n(6),r=n(76),s=n(21),c=n(75),l=Object.getOwnPropertyDescriptor;e.f=n(5)?l:function(t,e){if(t=a(t),e=r(e,!0),c)try{return l(t,e)}catch(t){}if(s(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(47),o=n(31).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_to-object"]},function(t,e,n){var i=n(8).f,o=n(21),a=n(2)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,a)&&i(t,a,{configurable:!0,value:e})}},function(t,e){t.exports={}},function(t,e,n){var i=n(2)("unscopables"),o=Array.prototype;void 0==o[i]&&n(19)(o,i,{}),t.exports=function(t){o[i][t]=!0}},function(t,e,n){var i=n(6),o=n(20),a=n(88);t.exports=function(t){return function(e,n,r){var s,c=i(e),l=o(c.length),p=a(r,l);if(t&&n!=n){for(;l>p;)if((s=c[p++])!=s)return!0}else for(;l>p;p++)if((t||p in c)&&c[p]===n)return t||p||0;return!t&&-1}}},function(t,e,n){var i=n(21),o=n(6),a=n(46)(!1),r=n(32)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),c=0,l=[];for(n in s)n!=r&&i(s,n)&&l.push(n);for(;e.length>c;)i(s,n=e[c++])&&(~a(l,n)||l.push(n));return l}},function(t,e,n){var i=n(47),o=n(31);t.exports=Object.keys||function(t){return i(t,o)}},function(t,e,n){var i=n(0),o=n(90),a=n(31),r=n(32)("IE_PROTO"),s=function(){},c=function(){var t,e=n(87)("iframe"),i=a.length;for(e.style.display="none",n(86).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;i--;)delete c.prototype[a[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[r]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e){t.exports=__mipComponentsWebpackHelpers__["@babel/runtime/helpers/esm/asyncToGenerator"]},function(t,e,n){"undefined"!=typeof self&&self,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=15)}([function(t,e,n){var i=new(n(1));function o(t){return new function t(e){var n={},i=(e=e||"").indexOf("#"),o="";-1!==i&&(o=e.substring(i),e=e.substring(0,i));for(var a=e.split("?"),r=a[0],s=(a[1]||"").split("&"),c=0;c<s.length;c++){var l=s[c];if(l){var p=l.split("="),u=p[0],d=p[1]||"";try{d=decodeURIComponent(d)}catch(t){d=p[1]||""}n[u]=d}}var h=r.replace(/\?.*/,"").replace(/^(https?:)?\/\//i,"").replace(/\/.*/,""),f=h.replace(/:\d+$/,""),m=r.replace(/:?\/\/.*/,""),g=r.replace(/^(https?:)?\/\/.*?(\/|$)/i,"");function v(){var t=(m?m+":":"")+"//"+h+g,e=this.params;if(e){var n=[];for(var i in e){var a=e[i];if(null!==a&&void 0!==a){var r=typeof a;if("string"!==r&&"number"!==r)try{a=JSON.stringify(a)}catch(t){continue}n.push(i+"="+encodeURIComponent(a))}}n&&n.length&&(t+="?"+n.join("&"))}return o&&(t+=o),t}g&&(g="/"+g),this.params=n,this.url=e,this.removeParam=function(t){delete this.params[t],this.url=v.call(this)},this.addParam=function(t,e){this.params[t]=e,this.url=v.call(this)},this.getHost=function(){return h},this.getHostname=function(){return f},this.getProtocol=function(){return m},this.getPathname=function(){return g},this.removeHash=function(){o="",this.url=v.call(this)},this.setOrigin=function(e){var n=new t(e);m=n.getProtocol(),f=n.getHostname(),h=n.getHost(),this.url=v.call(this)}}(t)}function a(t){return r(s(t))}function r(t){try{return JSON.parse(t)}catch(t){}}function s(t){try{return JSON.stringify(t)}catch(t){}}t.exports={postMessageToWindow:function(t,e){try{t.postMessage(e,"*")}catch(t){}},parseUrl:o,getTradeId:function(t){var e="";for(var n in t){var i=(t[n]||{}).imParam||{};i.tradeid&&(e=i.tradeid)}return e},findTrackXST:function(t){var e=null;if(t instanceof Array)for(var n=0;n<t.length;n++){var i=a(t[n]);i&&(e?i.timestamp>e.timestamp&&(e=i):e=i)}else e=a(t);if(e)return e;function a(t){if("page_entry"===t.type){var e=t.timestamp,n=o(t.payload.refer);if(n.xst)return{data:n.xst,timestamp:e}}}},getXST:function(t,e,n,i,o){if(t)return t;if(o&&o.xst)return o.xst;var a=null,r=(new Date).getTime(),s=[];return e&&s.push(e),n&&s.push(n),i&&s.push(i),s.sort(function(t,e){return e.timestamp-t.timestamp}),s[0]&&r-s[0].timestamp<432e5&&(a=s[0].data),a},filterImData:function(t,e,n){n=n||{},t=t||{};var i={};for(var a in t){var r=p((c=t[a]||{}).imParam||{});i[r]=r}var s=null;for(var a in e){var c=e[a]||{};t[a]||l(c)?n[a]=c:(s=s||{})[a]=e[a]}function l(t){var e=p((t=t||{}).imParam||{});return i[e]}function p(t){return[(t=t||{}).imid||o(t.imUrl).params.imid||"",t.level1||"",t.level2||"",t.level3||"",t.im_type||""].join("_")}return s},mergeObject:function(t,e){if(!e)return t;if(!t)return e;for(var n in e)t[n]=e[n];return t},mergeJson:function(t,e,n){var i=t||{};for(var o in n&&(i=a(i)),e=e||{}){var r=i[o];r||"number"==typeof r||(i[o]=e[o])}return i},filterEmptyStr:function(t){return"undefined"===t&&(t=void 0),t},JSON:{stringify:s,parse:r},createUrlParam:function(t){t=t||{};var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+"="+encodeURIComponent(t[n]));return e.join("&")},createOneKey:function(t){return(t=t||"key")+(new Date).getTime().toString(16)+parseInt(1e5*Math.random()).toString(16)},jsonClone:a,parseCData:function(t){if(t)try{var e=i.decode(t).split("__")||[];return t={channel:e[0]||"",level1:e[1]||"",level2:e[2]||"",level3:e[3]||"",ucid:e[4]||"",imType:e[5]||"",ssid:e[6]||"",appid:e[7]||"",terminal:e[8]||""}}catch(t){}},base64:i}},function(t,e){function n(){this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}n.prototype.encode=function(t){var e,n,i,o,a,r,s,c="",l=0;for(t=this._utf8_encode(t);l<t.length;)o=(e=t.charCodeAt(l++))>>2,a=(3&e)<<4|(n=t.charCodeAt(l++))>>4,r=(15&n)<<2|(i=t.charCodeAt(l++))>>6,s=63&i,isNaN(n)?r=s=64:isNaN(i)&&(s=64),c=c+this._keyStr.charAt(o)+this._keyStr.charAt(a)+this._keyStr.charAt(r)+this._keyStr.charAt(s);return c},n.prototype.decode=function(t){var e,n,i,o,a,r,s="",c=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<t.length;)e=this._keyStr.indexOf(t.charAt(c++))<<2|(o=this._keyStr.indexOf(t.charAt(c++)))>>4,n=(15&o)<<4|(a=this._keyStr.indexOf(t.charAt(c++)))>>2,i=(3&a)<<6|(r=this._keyStr.indexOf(t.charAt(c++))),s+=String.fromCharCode(e),64!==a&&(s+=String.fromCharCode(n)),64!==r&&(s+=String.fromCharCode(i));return s=this._utf8_decode(s)},n.prototype._utf8_encode=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},n.prototype._utf8_decode=function(t){for(var e="",n=0,i=0,o=0,a=0;n<t.length;)(i=t.charCodeAt(n))<128?(e+=String.fromCharCode(i),n++):i>191&&i<224?(o=t.charCodeAt(n+1),e+=String.fromCharCode((31&i)<<6|63&o),n+=2):(o=t.charCodeAt(n+1),a=t.charCodeAt(n+2),e+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a),n+=3);return e},t.exports=n},function(t,e){function n(){for(var t=["jmy_prerender=1"],e=["baiduboxapp",/light.*baiduboxvision/],n=!1,i=navigator.userAgent||"",o=0;o<e.length;o++){var a=e[o];if("string"==typeof a&&-1!==i.indexOf(a)){n=!0;break}if("object"==typeof a&&a.test(i)){n=!0;break}}var r=t.length,s=!1,c=!1;try{c=MIP&&MIP.prerender&&MIP.prerender.getPrerenderState()&&MIP.prerender.getPrerenderState().prerendering}catch(t){c=!1}if(n)if(c)s=!0;else{var l=location.href;for(o=0;o<r;o++){var p=t[o];if(-1!==l.indexOf(p)){s=!0;break}}}else s=!1;return s}t.exports={renderIframe:function(t,e,n){if("init"===e){var i=(n=n||{}).width||480,o=n.height||540,a=n.bottom||0,r=n.height||20;t.style.cssText=["display: block;","background: #FFFFFF;","box-shadow: 0 0 8px 0 rgba(0,0,0,0.24);","border-radius: 4px;","position:fixed;","border:none;","margin:0;","z-index:9999;","width:",i,"px;height:",o,"px;bottom:",a,"px;right:",r,'px;"'].join("")}else t.style.display="visible"===e?"block":"none";return t},addIframe:function(t,e){t=t||"",e=e||"";var n=document.createElement("iframe");return n.src=e,n.style.display="none",document.body?(document.body.appendChild(n),n):(document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t,!1),document.body.appendChild(n)}),n)},getParamsFromUrl:function(t){var e={},n=t=(t=t||"").split("#")[0];-1!==t.indexOf("?")&&(n=t.split("?")[1]||"");for(var i=n.split("&"),o=0;o<i.length;o++){var a=i[o];if(a){var r=a.split("="),s=r[0],c=r[1]||"";try{c=decodeURIComponent(c)}catch(t){c=r[1]||""}e[s]=c}}return e},postMessageToIframe:function(t,e){if(!t)return!1;var n=t.contentWindow;if(!n||!n.postMessage)return!1;try{n.postMessage(e,"*")}catch(t){}return!0},createUrlParam:function(t){t=t||{};var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+"="+encodeURIComponent(t[n]));return e.join("&")},hideDom:function(t){t=t instanceof Array?t:[t];for(var e=0;e<t.length;e++)for(var n=document.querySelectorAll(t[e]),i=0;i<n.length;i++)n[e].style.display="none"},isPrerenderPage:n,getPrerenderUtil:function(){var t={isPrerender:!1},e=!!window&&(window.sjh&&window.sjh.common&&window.sjh.common.clientPrerender||window.MIP&&window.MIP.sjh&&window.MIP.sjh.common&&window.MIP.sjh.common.clientPrerender);return e&&window.MIP&&window.MIP.getData("clientPrerenderSmFlow")?(t.isPrerender=e.isClientPrerender,t.activePromise=e.pageActivePromise.bind(e)):t.isPrerender=n(),t}}},function(t,e){var n=["init","addIM","track","isReady","on","openIM","destroy","showSmartInvite","setSmartInvite","pause","setPopupVisible","changePopupState"];t.exports=function(t){for(var e={},i=0;i<n.length;i++){var o=n[i];t[o]&&(e[o]=function(e){var n=t[e];return function(){n.apply(t,arguments)}}(o))}return e}},function(t,e,n){var i=n(5),o=n(2),a=n(0);function r(t){t=t||{},this.initPrerender(t.clientPrerender),i.apply(this,arguments),this.messageHandlerConf={parant:"hideDom"}}r.prototype=Object.assign(Object.create(i.prototype),{initPageParams:function(){try{this.pageParams=this.pageParams||{},this.pageParams.url=location.href,this.pageParams.referrer=document.referrer,this.pageParams.title=document.title,this.pageParams.userAgent=navigator.userAgent;var t=a.parseUrl(this.pageParams.referrer).params;t.xst&&this.setReferXst(t.xst);var e=a.parseUrl(this.pageParams.url).params;e.sdkdomain&&(this.domain=e.sdkdomain),this.baiduid=this.getCData("baiduid");var n=e.__imparams,i=this.getHnReferrer(n);this.hnReferrer=this.hnReferrer||i}catch(t){}},getHnReferrer(t){if(t&&-1!==(navigator.userAgent||"").indexOf("baiduboxapp"))try{var e=JSON.parse(t),n=[],i=["cdata"];for(var o in e)-1===i.indexOf(o)&&n.push(o+"="+encodeURIComponent(e[o]));var r=a.parseUrl(e.url),s=a.parseCData(e.cdata);return this.cdata=this.cdata||s,r.addParam("cdata",e.cdata),r.addParam("hnSchemeSearch",n.join("&")),r.url}catch(t){}},initTrack:function(){var t="key"+(new Date).getTime(),e=this.getTrackUrl(t);return this.iframe=o.addIframe(t,e),this.iframe},getTrackUrl:function(t){var e="//"+this.domain+"/imlp/track?",n=["bdid=1","data="+encodeURIComponent(t)],i=document.referrer||"";return this.referXST&&(n.push("xst="+encodeURIComponent(this.referXST.data)),i=i.replace(this.referXST.data,"#xst#")),n.push("version=1"),n.push("referrer="+encodeURIComponent(i)),this.baiduid&&n.push("baiduid="+encodeURIComponent(this.baiduid)),e+=n.join("&")},initPrerender:function(t){var e=this,n=t||o.getPrerenderUtil();if(e.isPrerender=n.isPrerender,e.isPrerender){document.addEventListener("visibilitychange",function(){e.postMessageToTrack({type:"visibilityChange",data:document.visibilityState})},!1);var i=function(){e.iframe||e.initTrack()};n.activePromise?n.activePromise().then(i):window.addEventListener("message",function(t){var e=t.data||{};(e.hasOwnProperty("adReferer")||"prerender-page-active"===e.event)&&i()})}},openIM:function(t,e,n,o){this.topIsImlp&&window.self!==window.top?a.postMessageToWindow(window.top,{type:"openIM",from:"sdk"}):i.prototype.openIM.apply(this,arguments)},postMessageToTrack:function(t){return!!this.isReady&&(t.from="sdk",t.validate="",o.postMessageToIframe(this.iframe,t),!0)},hideDom:function(t){o.hideDom(t.data)},initEventExt:function(){this.on("hideDom",this.hideDom),this.on("ready",this.readyRun.bind(this))},openHn:function(t,e){var n=a.parseUrl(t).params.hnSchemeSearch,i="baiduboxapp://imChatHN/entry?";i+=n||"url="+encodeURIComponent(t),this.openScheme(i)},openScheme:function(t){var e=document.createElement("iframe"),n=document.body;e.style.height="0",e.style.width="0",e.src=t,n.appendChild(e),setTimeout(function(){n.removeChild(e),e=null},500)},openUrl:function(t,e){var n=navigator.userAgent||"",i=window.swan,o=-1!==n.indexOf("swan-baiduboxapp");if(i&&i.webView&&o&&e.imlpPath)try{return 0===t.indexOf("//")&&(t="https:"+t),void i.webView.navigateTo({url:e.imlpPath+"?url="+encodeURIComponent(t),fail:function(e){(root.top||root).location.href=t}})}catch(t){}setTimeout(function(){(window.top||window).location.href=t},200)},destroy:function(){i.prototype.destroy.call(this),this.topIsImlp=!1,this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),this.iframe=null),this.initTrack(),this.on("ready",this.readyRun.bind(this))},readyRun:function(){var t=window.screen.availWidth,e=window.screen.availHeight,n={pagetitle:document.title,url:location.href,dpi:t+"x"+e,referrer:this.hnReferrer||document.referrer};this.postMessageToTrack({type:"entry_site",data:n})}}),t.exports=r},function(t,e,n){var i=n(0),o=n(6),a=n(1);function r(){this.hnReferrer=null,this.cdata=null,this.isInit=!1,this.isReady=!1,this.messageHandlerConf={},this.emiter=new o,this.inviteCache={manual:[],auto:[]},this.domain="ada.baidu.com",this.hasPopup=!1,this.initSdk(),this.base64=new a,this.popupEnabled=!0,this.isPreview=!1}r.prototype={initSdk:function(){this.initPageParams(),this.initEvent(),this.isPrerender||this.initTrack(),this.initInvite()},init:function(t,e,n){if(!t)return!1;if(this.isInit)return this.addIM(t,n),!1;e=e||{},!this.isPreview&&e.preview&&(this.isPreview=1);try{e=JSON.parse(JSON.stringify(e))}catch(t){}for(var o in this.pageParams=this.pageParams||{},e)e.hasOwnProperty&&(this.pageParams[o]=e[o]||this.pageParams[o]);return!this.referXST&&this.pageParams.xst&&this.setReferXst(this.pageParams.xst),e&&e.material&&(this.materialData=e.material),this.globalTradeid=i.getTradeId(t),this.initImData=t,this.defOptions=e,this.startHeart(t),this.isInit=!0,this.defImKey=n,this.checkPopupInit(),!0},addIM:function(t,e){this.defImKey||(this.defImKey=e),this.initImData=this.initImData||{};var n={},o=i.filterImData(this.initImData,t,n);for(var a in n){this.emit("error",[{type:"entrySite",errorType:"repeat",data:n}]);break}for(var a in t)this.initImData[a]||(this.initImData[a]=t[a]);return this.checkPopupInit(),o&&this.startHeart(o,!0),t},on:function(t,e){this.emiter.on(t,e,this.isReady)},emit:function(t,e){this.emiter.emit(t,e)},startHeart:function(t,e){var n=this.defOptions||{},o=window.screen.availWidth,a=window.screen.availHeight,r=n.xst||"";this.referXST&&this.referXST.data&&(r=this.referXST.data);var s=n.imlpUrl,c=s||this.pageParams.referrer;s&&(c=s),c=this.hnReferrer||c;var l=0;for(var p in"number"==typeof n.openType?l=n.openType:n.openType&&n.openType.type&&(l=n.openType.type),t){if(!n.pageId)break;var u=t[p];u.options=u.options||{},u.options.pageId=u.options.pageId||n.pageId}var d={isAppendIM:e,imData:t,tradeid:this.globalTradeid||i.getTradeId(t),pagetitle:this.pageParams.title,url:this.pageParams.url,dpi:o+"x"+a,xst:r,referrer:c,openType:l};this.on("ready",function(){this.isPreview||this.postMessageToTrack({type:"entry_site",data:d})}.bind(this))},pause:function(){this.postMessageToTrack({type:"stopheartbeat"})},checkPopupInit:function(){if(this.defImKey&&this.initImData&&!this.isPopupInit&&this.popupEnabled){var t=this.defOptions||{};if(this.initImData[this.defImKey]){var e=t.openType;e&&1===e.type&&["small","open"].indexOf(e.initState)>-1&&this.openIM(this.defImKey,null,null,!0)}}},initPageParams:function(){},initInvite:function(){},setReferXst:function(t){this.referXST||(this.referXST={data:t,timestamp:(new Date).getTime()})},initTrack:function(){},initEvent:function(){var t=this;window.addEventListener("message",function(e){var n=e.data,i=Object.assign({track_page:"trackMessage",popup_page:"popupMessage"},t.messageHandlerConf);i[n.from]&&t[i[n.from]].apply(t,[n])}),this.initEventExt&&this.initEventExt()},getLocalXst:function(t){var e=this.paramsData||{};return e.trackVersion?e["xst_"+t]:e.xst},openIM:function(t,e,n,o){if(!this.isReady||!t)return!1;if(!o||!this.isHnJump()){if(!this.openImUrl&&"string"==typeof t)return this.openIMByImKey(t,e,n,o);t=t||{},e=e||{};var a=(n=n||{}).openType;n=i.mergeJson(n,this.defOptions)||{},void 0!==a&&(n.openType=a),e&&e.material&&(this.materialData=e.material);var r=i.getXST(e.xst,this.referXST,"",this.getLocalXst(t.ucid)),s=e.ext||{};s.url||(s.url=this.pageParams.url),this.postMessageToTrack({type:"save_data",data:{type:"ext",data:s}});var c,l={},p=s&&s.question;p&&("去咨询更多问题"!==p&&(l.preset_message='我想咨询"'+p+'"'),(p.indexOf("？")>-1||p.indexOf("?")>-1)&&(l.preset_message=p));var u=s&&s.disease;u&&(l.preset_message="我想咨询一下"+u);var d=s&&s.doctor;d&&(l.preset_message="我想咨询一下"+d+"大夫的情况");var h=s&&s.init_cards;h instanceof Array&&h.length>0&&(l.init_cards=h);var f=s&&s.init_msg;f&&(l.preset_input={message:f.msg||"",action:f.type||""});var m=n&&n.theme||this.defOptions&&this.defOptions.theme;m&&(l.theme=m);var g=t.fid,v=t.ch,w=t.zjopen;if(this.openImUrl){var b=i.parseUrl(this.openImUrl);return g&&b.addParam("fid",g),v&&b.addParam("ch",v),w&&b.addParam("zjopen",w),this.baiduid&&b.addParam("baiduid",this.baiduid),void this.open(b.url,n,o)}var y=t.appid||"xyl_cip",I=t.channel,x=t.imlpAccessId;l.appid=y,l.ucid=t.ucid,l.channel=I,l.imlpAccessId=x,l.tradeid=t.tradeid||this.globalTradeid,l.im={level1:t.level1,level2:i.filterEmptyStr(t.level2),level3:i.filterEmptyStr(t.level3),im_type:t.im_type};var P=t.inviteType;if("smart"===P)l.inviteType=P,l.inviteData=t.inviteText||"";else if("manual"===P&&this.inviteCache[P]){var k=this.inviteCache[P];l.inviteType=P,l.inviteData=k.content,l.im={level1:k.level1,level2:i.filterEmptyStr(k.level2),level3:i.filterEmptyStr(k.level3)},l.im.im_type=k.imType}else this.inviteCache[P]&&(k=this.inviteCache[P],l.inviteType=P,l.inviteData=k.content);c=i.JSON.stringify(l);var S={};if(t.imid)S.imid=t.imid;else if(t.imUrl){var _=i.parseUrl(t.imUrl).params;_.imid&&(S.imid=_.imid)}if(S.imid){S.config=this.base64.encode(c),S.from="sdk",this.isPreview&&(S.preview=1),g&&(S.fid=g),v&&(S.ch=v),w&&(S.zjopen=w),r&&(S.xst=r),this.baiduid&&(S.baiduid=this.baiduid),this.storage&&(S.storage=this.storage);var M="";this.materialData&&this.materialData.params&&(M="com",this.materialData.key&&(S.key=this.materialData.key),S.params=this.materialData.params);var C=i.jsonClone(S);C.config=l;var T=i.createUrlParam(S),O="//"+this.domain+"/imlp/"+M+"?"+T;this.open(O,n,o,C)}else{var E=o?"popupInit":"openIM";this.emit("error",[{type:E,data:{imParam:t,visitParam:e}}])}}},openIMByImKey:function(t,e,n,o){if(this.initImData){var a=this.initImData[t]||{},r=i.mergeObject(a.visitParam,e),s=i.mergeObject(a.options,n);this.openIM(a.imParam,r,s,o)}},isHnJump:function(){return this.cdata&&"HN"===this.cdata.terminal},open:function(t,e,n,i){if(this.isHnJump())this.openHn(t,e);else if(e.jointExpTag&&"string"==typeof e.jointExpTag&&(t+="&bmw="+encodeURIComponent(e.jointExpTag)),n)this.initPopup(t,e);else{var o=e.openType;o&&"object"==typeof o&&o.type&&(o=o.type),(o=parseInt(o,10))?2===o?this.openNewTab(t,e):1===o&&this.popupEnabled?this.openPopup(t,e,i):this.openUrl(t,e):this.openUrl(t,e)}},openHn:function(t,e){},openUrl:function(t,e){},setPopupVisible:function(t){},changePopupState:function(t){},trackMessage:function(t){var e=t.type,n=(t.from,t.data);if("load"===e){if(this.storage=n.storage,this.topIsImlp=n.topIsImlp,this.isReady=!0,this.popupEnabled=n.popupEnabled,window.parent!==window.self)try{window.parent.postMessage({type:"sdk_init",validate:"",from:"sdk"},"*")}catch(t){}this.referXST&&this.postMessageToTrack({type:"save_data",data:{type:"xst",data:this.referXST.data}}),this.emit("ready",[{popupEnabled:this.popupEnabled}])}else if("param_data"===e)this.cdata=this.cdata||n.cdata,this.paramsData=n,this.openImUrl=null,n.openImUrl&&n.openImUrl.data&&(this.openImUrl=n.openImUrl.data),n.baiduid&&(this.baiduid=n.baiduid,this.saveCData({baiduid:this.baiduid}));else if("event"===e){var o=n.eventName,a=n.data;this.emit(o,[a])}else if("invite"===e){var r=n.inviteName||"inviteMessage",s=n.inviteType;this.inviteCache[s]&&this.inviteCache[s].push(n.data);var c=n.data.content||"";try{"object"==typeof c?c="[图片]":"string"==typeof c&&"object"==typeof(c=JSON.parse(c))&&(c="[图片]")}catch(t){}var l={key:i.createOneKey("invite"),type:s,content:c,delay:n.data.delay||"",abTest:n.abTest};this.invitManager?this.invitManager.getInviteMessage(l):this.emit(r,[l])}else["imlp-popup-loaded","imlp-popup-hide","imlp-popup-close"].indexOf(e)>-1&&this.popupMessage(t)},popupMessage:function(t){},isReady:function(){return this.isReady},track:function(t,e){var n=i.findTrackXST(t);return n&&!this.referXST&&(this.trackXST=n,this.postMessageToTrack({type:"save_data",data:{type:"xst",data:this.trackXST.data,timestamp:this.trackXST.timestamp}})),this.postMessageToTrack({type:"save_track",data:{id:(new Date).getTime(),isFullTrack:!!e,trackData:t}})},saveCData:function(t){},getCData:function(t){},destroy:function(){this.emiter.reset(),this.openImUrl=null,this.isReady=!1,this.isInit=!1,this.globalTradeid="",this.defOptions=null,this.initImData=null,this.materialData=null,this.inviteCache={manual:[],auto:[]},this.defImKey=null,this.isPopupInit=!1}},t.exports=r},function(t,e){function n(){this.events={},this.unInitEventsCache={}}n.prototype.on=function(t,e,n){t&&e&&("ready"===t&&n?e():(this.events[t]=this.events[t]||[],this.events[t].push(e)),this.emitUnInitEventsCache(t))},n.prototype.emitUnInitEventsCache=function(t){if(this.unInitEventsCache[t]){for(var e=this.unInitEventsCache[t],n=0;n<e.lenth;n++)this.emit(t,e[n]);this.unInitEventsCache[t]=null,delete this.unInitEventsCache[t]}},n.prototype.emit=function(t,e){var n=this.events[t];if(n)for(var i=0;i<n.length;i++)n[i].apply(null,e);else"unreadMessage"!==t&&"inviteMessage"!==t||(this.unInitEventsCache[t]=[e])},n.prototype.reset=function(){this.events=this.events.message?{message:this.events.message}:{},this.unInitEventsCache={}},t.exports=n},,function(t,e,n){var i=n(4),o=(n(2),n(0)),a=(n(3),n(9)),r=n(10),s=n(12),c=n(13);function l(t){this.cdataKey="imlp_cdata",i.apply(this,arguments)}l.prototype=Object.assign(Object.create(i.prototype),{popupMessage:function(t){if(t.type&&["popupStateChange","unreadMessage"].indexOf(t.type)>-1)this.emit(t.type,[t.data]);else if("imlpState"===t.type){var e={0:0,1:1,2:2,3:2,4:2,5:2,6:2,7:3},n=t.data,i=void 0===e[n]?4:e[n];this.emit("imlpState",[i]),4===n&&this.pause()}},openPopup:function(t,e,n){this.setPopup();var i=this.getPopupImlpData(t,e,n);this.mobilepopup.openIM(i,e.openType)},initPopup:function(t,e){this.setPopup();var n=this.getPopupImlpData(t,e);this.mobilepopup.initPopup(n,e.openType),this.isPopupInit=!0},initInvite:function(t,e){this.invitManager=new c(this)},getPopupImlpData:function(t,e,n){t&&-1===t.indexOf("plat=hw")&&(t+="&plat=hw"),n&&(n.plat="hw");var i={url:t,referrer:this.pageParams.url||e.url,title:this.pageParams.title,scene:e.scene,openType:e.openType,urlParams:n};return e.openType&&"object"==typeof e.openType&&e.openType.type&&(i.openType=e.openType.type),{pageParams:i,options:Object.assign({host:this.domain},e)}},setPopup:function(t,e,n){if(this.hasPopup=!0,!this.mobilepopup){this.mobilepopup=new r(a,{EventEmitter:s});var i=this;this.mobilepopup.on("imlpPopupEvent",function(t){i.popupMessage(t)})}},setPopupVisible:function(t){this.mobilepopup&&this.mobilepopup.setPopupVisible(t)},changePopupState:function(t){this.mobilepopup&&this.mobilepopup.changePopupState(t,{target:t,trigger:"csdk"})},destroy:function(){i.prototype.destroy.call(this),this.mobilepopup&&this.mobilepopup.destroy(),this.mobilepopup=null},showInvite:function(t){this.mobilepopup.showInvite(t)},showSmartInvite:function(t){this.invitManager.showSmartInvite(t)},setSmartInvite:function(t){this.invitManager.setSmartInvite(t)},saveCData:function(t){var e=this.getCData()||{},n=Object.assign(e,t);localStorage&&localStorage.setItem(this.cdataKey,o.JSON.stringify(n))},getCData:function(t){if(localStorage){var e=localStorage.getItem(this.cdataKey);return(e=o.JSON.parse(e))?t?e[t]||null:e:null}return null}}),t.exports=l},function(t,e){function n(t,e){var n={iframe:{padding:"0",margin:"0",width:"100%",height:"100%",border:"none"},popup:{width:"100%",height:"100%",display:"flex",backgroundColor:"#f8f8f8",overflow:"hidden",borderRadius:"12px 12px 0 0",fontSize:0,lineHeight:"0","flex-direction":"column"},popupTitle:{height:"56px",borderRadius:"12px 12px 0 0",backgroundColor:"#fff",overflow:"hidden",backgroundImage:"linear-gradient(180deg, #FFF 0%, #fefefe 24%, #f9f9f9 100%)"},popupOuter:{width:"100%",height:"80%",display:"block",overflow:"hidden",borderRadius:"12px 12px 0 0",fontSize:0,lineHeight:"0","box-shadow":"0 -2px 6px 0 rgba(0, 0, 0, .06)"},popupContent:{flex:"1",overflow:"hidden",position:"relative"},backLayer:{zIndex:"9999",position:"fixed",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, .55)",left:"0",top:"0",display:"none"},dragLine:{margin:"6px auto 0 auto",height:"4px",width:"44px",backgroundColor:"#C6C5C3",borderRadius:"2px"},titleTextArea:{height:"46px",width:"100%",padding:"0 8px 0 27px",display:"flex","box-sizing":"border-box","flex-direction":"row"},titleText:{height:"36px",lineHeight:"36px",overflow:"hidden",fontSize:"17px",textAlign:"center",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:"1"},titleClose:{width:"12px",height:"100%",padding:"0 5px",background:"url(https://imlp-static.cdn.bcebos.com/xcx/img/764bbc7fb8b755921c0fc3b2aa5fc8c0.png) no-repeat center 12px",backgroundSize:"12px",boxSizing:"content-box"},bottomOuter:{position:"fixed",width:"100%",left:"0",bottom:"0",fontSize:"0",height:"0",overflow:"visible",transform:"translate(0,0)",transition:"transform .2s linear",lineHeight:"0",zIndex:"9999"}};return n[t]}function i(t,e){var n={transform:["-webkit-transform"],animation:["-webkit-animation"],transition:["-webkit-transition"],flex:["-webkit-flex"],"flex-direction":["-webkit-flex-direction"],flexDirection:["-webkit-flex-direction"],"justify-content":["-webkit-justify-content"],"backface-visibility":["-webkit-backface-visibility"],"animation-fill-mode":["-webkit-animation-fill-mode"],"animation-iteration-count":["-webkit-animation-iteration-count"],"animation-delay":["-webkit-animation-delay"],"box-shadow":["-webkit-box-shadow"],"box-sizing":["-webkit-box-sizing"]},i={flex:["-webkit-flex","-webkit-box"]};for(var o in e){var a=e[o];r(t,n[o],a),s(t,o,i[a]),t.style[o]=a}function r(t,e,n){if(e)for(var i=0;i<e.length;i++){var o=e[i];t.style[o]=n}}function s(t,e,n){if(n)for(var i=0;i<n.length;i++){var o=n[i];t.style[e]=o}}}t.exports=function(t){var e={},o={},a={},r={popupState:null},s=null;!function(){var t=document.documentElement.clientWidth||document.body.clientWidth,e=document.documentElement.clientHeight||document.body.clientHeight;M(null,"windowSizeChange",{windowWidth:t,windowHeight:e})}();var c=k(null,null,n("backLayer")),l=k(null,null,n("bottomOuter")),p=k(l,null,n("popupOuter")),u=k(p,null,n("popup")),d=k(u,null,n("popupTitle")),h=k(u,null,n("popupContent"));k(d,null,n("dragLine"));var f=k(d,null,n("titleTextArea")),m=k(f,null,n("titleText")),g=k(f,null,n("titleClose")),v=k(m,"span"),w=k(m,"span",{display:"none"}),b=function(){var t={container_layer:{position:"absolute",left:"0",top:"0",zIndex:"10000",width:"100%",bottom:"56px"},flexcolumn:{display:"flex","flex-direction":"column"},flexrow:{display:"flex","flex-direction":"row"},flex1:{flex:"1"},message_container_event:{width:"100%"},input_event:{padding:"0 10px",width:"100%",height:"0","box-sizing":"border-box"},input_phone:{height:"56px",width:"23px",marginRight:"7px"},input_morebtn:{height:"56px",width:"23px",marginRight:"10px"},input_input:{padding:"0 4px"},input_face:{height:"56px",width:"20px",marginRight:"7px"},input_sendbtn:{height:"56px",width:"52px",marginLeft:"10px"},new_message:{display:"inline-block",position:"absolute",zIndex:"6",right:"0",top:"17px",overflow:"hidden"}},e={};function n(t){t.stopPropagation(),t.preventDefault();var n=(t.target||t.srcElement).getAttribute("data-type");if(n){var i=t.type,o=t.changedTouches[0]||{},a=o.clientY||0;if("touchstart"===i)e.startType=n,e.start=a,e.end=a;else if("touchend"===i){e.end=a||0;var r=Math.abs(a-e.start),s=e.startType;if(e.start=0,e.end=0,e.startType="",s!==n)return;if(r<5)return void M(null,"popupClick",n);"messageContainer"===n&&r>10&&M(null,"popupClick",{type:n,trigger:"touch"})}else"touchcancel"===i&&(e.start=0,e.end=0,e.startType="");return!1}}var i=C(['<div class="container_layer flexcolumn">','<div data-type="messageContainer" class="message_container_event flex1"></div>','<div class="input_event flexrow">','<div data-type="inputPhone" class="input_phone"></div>','<div data-type="inputMore" class="input_morebtn"></div>','<div class="input_input flex1 flexrow">','<div data-type="inputFocus" class="flex1"></div>','<div data-type="faceClick" class="input_face"></div>',"</div>",'<div data-type="sendClick" class="input_sendbtn"></div>',"</div>","</div>"].join(""),t);return i.addEventListener("touchstart",n),i.addEventListener("touchmove",n),i.addEventListener("touchend",n),i.addEventListener("touchcancel",n),i}();h.appendChild(b);var y=C(['<div class="background">','<div class="dialog">','<div data-title class="title">提示</div>','<div data-content class="content">内容</div>','<div data-button-group class="buttonGroup">','<div data-cancel class="button">取消</div>','<div data-confirm class="button confirmBtn">重新连接</div>',"</div>","</div>","</div>"].join(""),{background:{display:"none",position:"fixed",left:"0",top:"0",width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,.5)",zIndex:"10001"},dialog:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"331px",backgroundColor:"#FFF",borderRadius:"3px",maxWidth:"80%",textAlign:"center"},title:{fontSize:"24px",lineHeight:"62px",color:"#000",marginTop:"9px"},content:{fontSize:"16px",lineHeight:"26px",color:"#999",margin:"0 28px 23px 28px"},buttonGroup:{fontSize:"18px",lineHeight:"48px",color:"#000",display:"flex"}}),I=b.querySelector('[data-type="inputPhone"]'),x=new function(t){var e={},o=(t=t||{}).url,a=document.createElement("iframe");a.src=o||"about:blank",i(a,n("iframe")),window.addEventListener("message",function(t){var n=t.data;n.type&&function(t,n){e.iframeEvent&&e.iframeEvent(t,n)}(n.type,n.data)}),this.getIFrame=function(){return a},this.changeSrc=function(t){a.src=t},this.emitImlpEvent=function(t,e){var n=a.contentWindow;n&&n.postMessage({type:t,data:e},"*")},this.on=function(t,n){e[t]=n},this.destroy=function(){e={},a.src="about:blank"}},P=x.getIFrame();function k(t,e,n){var o=document.createElement(e||"div");return i(o,n),t&&t.appendChild(o),o}h.appendChild(P),x.on("iframeEvent",function(t,e){if("imlpLifetime"===t){for(var n in s=e,a)_(n,a[n]);a={}}M("imlpEvent",t,e)}),document.body.appendChild(c),document.body.appendChild(l),document.body.appendChild(y),function(){window.addEventListener("resize",function(){}),g.addEventListener("click",function(t){M(null,"changePopupStateByEventType","close"),t.stopPropagation()}),d.addEventListener("click",function(t){M(null,"changePopupStateByEventType","clickTitle")});var t=0;d.addEventListener("touchstart",function(e){var n=e.changedTouches[0];t=n.clientY}),d.addEventListener("touchmove",function(t){t.stopPropagation(),t.preventDefault()}),d.addEventListener("touchend",function(e){if(0!==t){var n=e.changedTouches[0],i=n.clientY,o=i-t;t=0,o>10?M(null,"changePopupStateByEventType","touchDown"):o<-10&&M(null,"changePopupStateByEventType","touchUp")}}),d.addEventListener("touchcancel",function(e){t=0}),y.addEventListener("click",function(t){var e=t.target,n=this.getAttribute("data-id"),o=e.getAttribute("data-type");_("dialogButtonClick",{dialogId:n,buttonType:o}),i(this,{display:"none"})}),c.addEventListener("click",function(t){M(null,"backgroundLayerClick")})}();var S=0;function _(t,e){s?x.emitImlpEvent(t,e):a[t]=e}function M(t,n,i){var a=e[t=t||"popupUIEvent"];a?a({type:n,data:i}):(o[t]=o[t]||[],o[t].push({type:n,data:i}))}function C(t,e){var n=document.createElement("div");n.innerHTML=t;for(var o=n.querySelectorAll("div"),a=0;a<o.length;a++){var r=o[a];((r.className||"").split(/\s+/)||[]).forEach(function(t){e[t]&&i(r,e[t])}),r.className=""}return n.firstChild}function T(t){if(t)try{var e=t.parentNode;if(!e)return;e.removeChild(t)}catch(t){}}this.on=function(t,n){e[t]=n,o[t]&&o[t].forEach(function(t){n(t)})},this.emitImlpEvent=_,this.setData=function(t,e){if("imlpHeight"===t)i(u,{height:e+"px"});else if("popupHeight"===t)i(p,{height:e+"px"});else if("popupState"===t)i(b,"small"===e?{display:"flex"}:{display:"none"}),i(c,"open"===e?{display:"block"}:{display:"none"}),r.popupData=e;else if("transformTop"===t)i(l,{transform:"translate(0,"+e+"px)"});else if("zIndex"===t)i(c,{zIndex:e}),i(l,{zIndex:e}),i(y,{zIndex:e});else if("imlpInitData"===t)!function(t){var e=t.pageParams;x.changeSrc(e.url)}(e);else if("topNewMessage"===t);else if("pageTitle"===t)v.innerHTML=e||"";else if("dialog"===t)!function(t,e){var n={flex:1,borderTop:"1px solid #e0e0e0"},o={color:"#3998fc"},a={width:"2px",background:"#E0E0E0",fontSize:"0",height:"49px"};t.setAttribute("data-id",e.id);var r=t.querySelector("[data-title]"),s=t.querySelector("[data-content]"),c=t.querySelector("[data-button-group]");c.innerHTML="",r.innerHTML=e.title,s.innerHTML=e.desc;for(var l=e.buttons||[],p=0;p<l.length;p++){var u=l[p],d=k(c,null,n);d.innerHTML=u.text,d.setAttribute("data-type",u.type),"confirm"===u.type&&i(d,o),p<l.length-1&&k(c,null,a)}}(y,e),i(y,{display:"block"});else if("kefuInputStatus"===t)!function(t){var e=0,n=[".","..","..."];t?(clearInterval(S),i(w,{display:"inline"}),i(v,{display:"none"}),S=setInterval(function(){w.innerHTML="客服正在输入中"+n[e],e++,e%=n.length},300)):(clearInterval(S),i(w,{display:"none"}),i(v,{display:"inline"}))}(e);else if("tel"===t)e||i(I,{display:"none"});else if("popupStateChangeAnimate"===t)if(e){var o=n("popupOuter");i(p,{transition:o.transition})}else i(p,{transition:""});else"changePageParams"===t?_(t,e):"visible"===t&&(i(c,{display:"none"}),i(l,{display:"none"}),r.visible=e)},this.destroy=function(){e={},x.destroy(),T(c),T(l),T(y)}}},function(t,e,n){var i=n(11);t.exports=function(t,e){var n=new(0,(e=e||{}).EventEmitter),o=new t(this),a=this,r=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),s=16;function c(t,e,n){if(e){clearTimeout(a.myData.initPopupKey);var i=(n=n||{}).stateConfig||{};a.myData.stateConfig=i;var o=n.initState,r=n.zIndex;n.switch,"small"===o&&a.setPopupType("close_small_open"),n.popupType&&a.setPopupType(n.popupType),i.close&&(a.setPositionOffset("close",i.close.bottom||0),i.close.disable?(a.myData.positionOffset.close=0,a.setStateHeight("close",a.getStateHeight("open"))):a.setStateHeight("close",s)),i.small&&a.setPositionOffset("small",i.small.bottom||0),i.open&&a.setPositionOffset("open",i.open.bottom||0),a.setStateHeight("open",a.getStateHeight("open")-a.getPositionOffset("open")),"number"==typeof r&&a.setData("zIndex",r);var c=a.getData("imlpInitData");c?"openIM"===t&&n.multiIM&&a.setData("changePageParams",e.pageParams):a.setData("imlpInitData",e),"initPopup"===t&&!c&&o?a.changePopupState(o,{trigger:"initPopup",target:""}):"openIM"===t&&setTimeout(function(){a.changePopupState("open",{trigger:"openIM",target:""})},50);var l=n.connectType||0;a.setMyData("connectType",l)}}function l(t){var e=a.getData("popupType"),n=a.getData("popupState"),i={},o=null;"close"===t?(o="close",i={target:"close",trigger:"click"}):"backgroundLayerClick"===t?(o="close_small_open"===(e=this.getData("popupType"))?"small":"close",i={target:"layer",trigger:"click"}):"clickTitle"!==t||n&&"close"!==n&&"small"!==n?"clickTitle"===t&&"open"===n?(o="close_small_open"===(e=this.getData("popupType"))?"small":"close",i={target:"title",trigger:"click"}):"touchDown"===t&&"open"===n?(o="small",i={target:"title",trigger:"touch"}):"touchDown"===t&&"small"===n?(o="close",i={target:"title",trigger:"touch"}):"touchUp"!==t||n&&"close"!==n?"touchUp"===t&&"small"===n&&(o="open",i={target:"title",trigger:"touch"}):(o="open",i={target:"title",trigger:"touch"}):(o="open",i={target:"title",trigger:"click"}),"close_open"===e&&"small"===o&&"touchDown"===t&&"open"===n&&(o="close"),this.changePopupState(o,i)}function p(t){var e="";"object"==typeof t&&(e=t.trigger,t=t.type);var n=0;if("closePopup"!==t)if("openPopup"!==t){if("inputMore"===t||"faceClick"===t||"inputFocus"===t||"topNewMessage"===t||"messageContainer"===t)n=300,this.changePopupState("open",{target:t,trigger:e||"click"});else if("inputPhone"===t);else if("sendClick"===t){var i=a.getData("imlpPageInfo")||{};!i.presetMessage&&i.inputText,this.changePopupState("open",{target:t,trigger:"click"}),n=300}"topNewMessage"===t&&a.setData("topNewMessage",null),setTimeout(function(){o.emitImlpEvent("emitImlpClick",t)},n)}else this.changePopupState("open",{target:"title",trigger:"click"});else this.changePopupState("close",{target:"close",trigger:"click"})}function u(t,e){if("pageInfo"!==t)if("showDialog"!==t){if("unreadMessage"===t);else if("imlpState"===t)a.setMyData("imlpState",e);else{if("imlpLifetime"===t){var n=a.getData("popupState"),r=a.getData("connectType");return o.emitImlpEvent("setConnectType",r),void("open"===n&&a.changePopupState("open",{trigger:"imlpLifetime",target:""}))}if("inputFocus"===t)return i.activeBody(e),void("open"!==(n=a.getData("popupState"))&&e&&a.changePopupState("open",{trigger:"click",target:"inputFocus"}));if("inputTouchStart"===t)return e&&d(1e3),void(e?i.open():i.close());if("inputClickNoFocus"===t)return void a.changePopupState("open",{target:"input",trigger:"click"})}a.emitEvent&&a.emitEvent(t,e)}else a.setData("dialog",e);else{var s=function(t,e){var n={};if(t)for(var i in e){var o=e[i];t[i]!==o&&(t[i]=o,n[i]=o)}else a.setMyData("imlpPageInfo",e),n=e;return n}(a.getData("imlpPageInfo"),e);for(var c in s){var l=s[c];"pageTitle"===c?a.setData("pageTitle",l||""):"topNewMessage"===c?a.setData("topNewMessage",{count:l,text:l+"条新消息"}):"kefuInputStatus"===c?a.setData("kefuInputStatus",l):"contactNumber"===c&&a.setData("tel",l)}}}function d(t){t=t||400,a.setData("popupStateChangeAnimate",!1),setTimeout(function(){a.setData("popupStateChangeAnimate",!0)},t)}this.myData={isIOS:r,windowSize:{windowWidth:0,windowHeight:0},stateHeight:{open:0,small:0,close:0},positionOffset:{small:0,open:0,close:0},popupType:"close_open",stateConfig:{},initPopupKey:0,connectType:0},this.data={popupState:null,pageTitle:"客服在线为您服务",kefuInputStatus:0,transformTop:0,imlpHeight:0,popupHeight:0,imlpInitData:null,zIndex:1e4,topNewMessage:{},dialog:null,visible:!0},o.on("popupUIEvent",function(t){var e=t.type,n=t.data;"popupClick"===e?p.call(a,n):"changePopupStateByEventType"===e?l.call(a,n):"windowSizeChange"===e?function(t){var e=t.windowHeight,n=t.windowWidth,i=.86*e,o=s,a=.363*e,r=.5*e;this.myData.windowSize.windowWidth=n,this.myData.windowSize.windowHeight=e,this.myData.stateHeight.open=i,this.myData.stateHeight.small=a,this.myData.stateHeight.close=o,this.myData.stateHeight.openKeyboard=r,this.data.openHeight=i}.call(a,n):"backgroundLayerClick"===e&&l.call(a,e)}),o.on("imlpEvent",function(t){u(t.type,t.data)}),o.setData("pageTitle",this.data.pageTitle),o.setData("isIOS",this.myData.isIOS),this.setData=function(t,e){this.data[t]!==e&&(this.data[t]=e,o.setData(t,e))},this.setPopupPosition=function(t){var e=-(a.getPositionOffset(t)+a.getStateHeight(t)),n=a.myData.stateConfig||{};"close"===t&&n.close&&n.close.disable&&(e=10),a.setData("transformTop",e)},this.changePopupState=function(t,e){clearTimeout(a.myData.initPopupKey);var n=a.getData("imlpInitData"),r=a.getData("popupState");if(n&&(r||"close"!==t)){if("openKeyboard"===t)return d(),a.setPopupPosition(t),void a.setPopupSize(t);a.setData("imlpHeight",a.getStateHeight("open")),a.setData("popupHeight",a.getStateHeight("open")),t&&a.setData("popupState",t);var s=a.getStateHeight(t)||0,c=a.getData("windowHeight")-a.getPositionOffset(t)-a.getStateHeight(t);if("open"===t?i.open():i.close(),t){(e=e||{}).from=r||"",e.to=t;var l={state:t,rect:{width:a.getData("windowWidth"),height:s,left:0,top:c},ext:e};this.emitEvent("popupStateChange",l),this.setPopupPosition(t),setTimeout(function(){"open"!==t&&a.setPopupSize(t),o.emitImlpEvent("popupChangeStateEnd",l)},300)}else d(),setTimeout(function(){a.setPopupSize(r),a.setPopupPosition(r)},50)}},this.emitEvent=function(t,e){n.emit("imlpPopupEvent",[{type:t,data:e}])},this.setPopupSize=function(t){t&&("close"===t?(a.setData("imlpHeight",a.getStateHeight("open")),a.setData("popupHeight",a.getStateHeight("close"))):"small"===t?(a.setData("imlpHeight",a.getStateHeight("small")),a.setData("popupHeight",a.getStateHeight("small"))):"open"===t?(a.setData("imlpHeight",a.getStateHeight("open")),a.setData("popupHeight",a.getStateHeight("open"))):"openKeyboard"===t&&(a.setData("imlpHeight",a.getStateHeight(t)),a.setData("popupHeight",a.getStateHeight(t))))},this.openIM=function(t,e){a.setData("visible",!0),c("openIM",t,e)},this.initPopup=function(t,e){var n=(e=e||{}).initDelay;clearTimeout(a.myData.initPopupKey),n&&"number"==typeof n?a.myData.initPopupKey=setTimeout(function(){c("initPopup",t,e)},n):c("initPopup",t,e)},this.changePopupStateByEventType=l,this.popupClick=p,this.showInvite=function(t){"close_small_open"===a.getData("popupType")&&o.emitImlpEvent("popupShowInvite",t)},this.imlpEvent=u,this.on=function(t,e){n.on(t,e)},this.getPositionOffset=function(t){return this.myData.positionOffset[t]||0},this.getStateHeight=function(t){return this.myData.stateHeight[t]||0},this.setPositionOffset=function(t,e){this.myData.positionOffset[t]=e||0},this.setStateHeight=function(t,e){this.myData.stateHeight[t]=e||0},this.setPopupType=function(t){this.myData.popupType=t},this.setMyData=function(t,e){this.myData[t]=e},this.getData=function(t){var e=this.data,n=this.myData,i=n.stateHeight,o=n.windowSize;return{popupType:1,imlpPageInfo:1,connectType:1}[t]?n[t]:{popupState:1,imlpInitData:1}[t]?e[t]:{openHeight:1,closeHeight:1,smallHeight:1}[t]?i[t]:{windowWidth:1,windowHeight:1}[t]?o[t]:void 0},this.setPopupVisible=function(t){(t=!!t)||clearTimeout(a.myData.initPopupKey),a.setData("visible",t)},this.destroy=function(){clearTimeout(a.myData.initPopupKey),n.offAll(),o.destroy(),i.destroy()}}},function(t,e){function n(){this.isOpen=!1,this.defStyle=null,this.lockState=!1}n.prototype.open=function(){this.isOpen||(this.isOpen=!0,this.lock())},n.prototype.close=function(){this.isOpen=!1,this.unlock()},n.prototype.lock=function(){if(!this.lockState){this.lockState=!0,this.defStyle=function(t){var e={};return["position","overflow","width","top","minHeight"].forEach(function(n){var i=t.style[n];e[n]=i}),e}(document.body);var t=document.body.style,e={position:"fixed",overflow:"hidden",width:"100%",minHeight:"100%"};for(var n in this.scrollTop=document.scrollingElement.scrollTop,e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.top=-this.scrollTop+"px"}},n.prototype.activeBody=function(t){if(!t){var e=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),n=navigator.userAgent&&navigator.userAgent.indexOf("baiduboxapp")>-1;e&&n&&this.isOpen&&window.scrollTo(0,0)}},n.prototype.unlock=function(){if(this.lockState){this.lockState=!1;var t=document.body.style,e=this.defStyle;for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);document.scrollingElement.scrollTop=this.scrollTop}},n.prototype.destroy=function(){this.close()};for(var i=new n,o=["open","close","activeBody","destroy"],a={},r=0;r<o.length;r++){var s=o[r];i[s]&&(a[s]=i[s].bind(i))}t.exports=a},function(t,e){try{t.exports=function(){var t={};this.on=function(e,n){e&&n&&(t[e]=t[e]||[],t[e].push(n))},this.emit=function(e,n){var i=t[e];if(i)for(var o=0;o<i.length;o++)i[o].apply(null,n)},this.off=function(e,n){var i=t[e];if(i)for(var o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)},this.offAll=function(e){e?t[e]=null:t={}},this.getEvents=function(e){return t[e]}}}catch(t){}},function(t,e){function n(t){this.init(t)}n.prototype={init:function(t){this.sdk=t,this.sdk.on("imlpState",this.getImlpState.bind(this));var e=this;this.sdk.on("popupStateChange",function(t){e.popupState=t.state})},setSmartInvite:function(t){this.smartInviteData=t,this.checkInite()},getImlpState:function(t){this.imlpState=t,2===t&&this.checkInite()},checkInite:function(){!this.smartInviteStarted&&this.smartInviteData&&2===this.imlpState&&this.startSmartInvite()},showSmartInvite:function(t){this.smartInviteData||this.smartInviteToPopup(t)},startSmartInvite:function(){var t=this.smartInviteData.list||[],e=this.smartInviteData.config||{},n=e.rollInterval,i=e.startInterval,o=n;void 0===this.smartInviteRollIndex&&(o=i,this.smartInviteRollIndex=0),this.smartInviteStarted=!0;var a=this;this.smartInviteHandle=setTimeout(function(){var e=a.smartInviteRollIndex;e>=t.length||(a.smartInviteToPopup(t[e].text),a.startSmartInvite(),a.smartInviteRollIndex+=1)},1e3*o)},smartInviteToPopup:function(t){var e={type:"smart",content:t||""};this.inviteToPopup(e)},getInviteMessage:function(t){this.smartInviteHandle&&clearTimeout(this.smartInviteHandle),this.inviteToPopup(t),this.needEmitPopupToC()&&this.sdk.emit("inviteMessage",[t])},inviteToPopup:function(t){this.needInviteToPopup()&&this.sdk.showInvite(t)},needInviteToPopup:function(){return 2===this.imlpState},needEmitPopupToC:function(){return!this.sdk.hasPopup||"close"===this.popupState&&2===this.imlpState}},t.exports=n},,function(t,e,n){var i=n(8),o=n(3),a=window.ImlpSdk;a||(a=o(new i),window.ImlpSdk=a),t.exports=a}])},function(t,e){t.exports=__mipComponentsWebpackHelpers__["@babel/runtime/helpers/esm/possibleConstructorReturn"]},function(t,e){t.exports=__mipComponentsWebpackHelpers__["@babel/runtime/helpers/esm/inherits"]},function(t,e,n){"use strict";n.r(e);n(93),n(91),n(4),n(10);var i=n(25),o=n.n(i),a=n(24),r=n.n(a),s=n(53),c=n.n(s),l=n(52),p=n.n(l),u=n(36),d=n.n(u),h=n(51),f=n.n(h),m=(n(18),n(1)),g=n.n(m);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}var w="xyl_cip",b="cip",y="bdxd",I=function(t){if(!t)return{};var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},t);if(15===e.appid)e.appid=w;else{if(e.appid===y)return e;e.appid=b}return e},x="mip-sjh-common",P={UTILS:"".concat(x,"-utils")},k=("".concat(x,"-event-cache"),"".concat(x,"-download-appData"),"".concat(x,"-download-process"),function(){return window.MIP.sandbox.MIP.getData("env")&&"editor"===window.MIP.sandbox.MIP.getData("env").platform}),S=k,_=(n(73),n(71),n(70),n(9),function(t){var e={};if(!t)return e;var n=t;return t.indexOf("?")>-1&&(n=t.split("?")[1]),n.split("&").forEach(function(t){var n=t.split("=");e[n[0]]=n[1]}),e}),M=(n(15),n(62),n(61),n(60),function(){for(var t=1e7*Math.random();t<1e7;)t<<=1;return t});function C(t){var e=window.MIP.sandbox.MIP.getData("siteConfig");return e&&e.pageStyle&&e.pageStyle.theme?e.pageStyle.theme[t]:null}n(14);var T=n(35),O=n.n(T),E=(n(59),n(50)),D=n.n(E),j=function(t){for(var e=[],n=0;n<t;n++)e.push("0123456789abcdef".charAt(Math.floor(16*Math.random())));return e.join("")},H=(n(37),function(t){var e,n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=new RegExp("(^|/?|&)"+t+"=([^&]*)(&|$)","i");try{e=window.MIP.sandbox.window.top.location.search.substr(1).match(n)||window.MIP.sandbox.window.top.location.hash.substr(1).match(i)}catch(t){e=window.MIP.sandbox.window.location.search.substr(1).match(n)||window.MIP.sandbox.window.location.hash.substr(1).match(i)}return null!=e?unescape(e[2]):null});var L=function(t,e,n){return window.MIP.sandbox.MIP.Services.getServicePromise(P.UTILS).then(function(i){return i.sdk.mAjax(t,e,n)})};function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var B={0:"hao",1:"hao",2:"hao",3:"feed",4:"fc",5:"baiyi",6:"feed",7:"other",255:"other"},N="xyl_cip",U="cip",F=(window.MIP.sandbox.MIP.getData("pageid"),function(t){return t.indexOf("urlType")>-1||t.indexOf("ada.baidu.com")>-1}),W=function(t,e){var n=_(decodeURIComponent(window.MIP.sandbox.window.location.search)),i=JSON.parse(n.cWParams||"{}")||{},o=i.path,a=i.scene,r=i.indexPath,s=window.MIP.sandbox.MIP.getData("pageid"),c="".concat(window.MIP.sandbox.window.location.origin).concat(window.MIP.sandbox.window.location.pathname),l="".concat(o,"?pageId=").concat(s,"&url=").concat(encodeURIComponent(c)),p=window.MIP.sandbox.MIP.getData("pageInfo"),u={appKey:p?p.xcxAppKey:"",scene:a,path:encodeURIComponent(l),indexPath:r};return fetch("/tpsp-gtr/rest/shopInfo",{method:"POST",body:JSON.stringify({shopId:t,ucId:e}),headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){return t.json()}).then(function(t){var e=t.data.appInfo||{},n=e.title,i=void 0===n?"":n,o=e.pic,a=void 0===o?"":o,r=e.ucPhone,s=void 0===r?"":r,c=e.ucLandPage,l=void 0===c?"":c;return u=A(A({},u),{},{title:i,landPageUrl:l,contactNumber:s,logo:a})}).catch(function(){return u=A(A({},n),{},{title:"",landPageUrl:"",contactNumber:"",logo:""})})},K=function(){var t=D()(O.a.mark(function t(e,n){var i,o,a,r,s,c,l,p,u,d,h,f,m,g,v,w,b,y,I,x;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=window.MIP.sandbox.MIP.getData("pageInfo")&&window.MIP.sandbox.MIP.getData("pageInfo").llp||0,o=0,a=n||{},r=270,s=287,c=269,l=e.split("?")[0],p=e.split("?")[1],u=_(p),d=(new Date).getTime()+j(23),h=l+"?imid="+u.imid,f=window.MIP.sandbox.MIP.getData("appid"),m=window.MIP.sandbox.MIP.getData("userid"),g=window.MIP.sandbox.MIP.getData("pageid"),v=a.shopid,w=_(location.search),b=w.ch,y={level1:u.exUserId,level2:u.siteId,level3:u.groupId,adviceType:u.adviceType,im_type:u.adviceType,imlpAccessId:d,channel:b?B[b]||"other":"",imUrl:h,appid:f,ucid:m,fid:w.fid||"",ch:w.ch||""},f!==r&&f!==s&&(f!==c||+i===o)||!v){t.next=27;break}return t.next=21,W(v,m);case 21:return(I=t.sent).shopid=v,I.clientSource=g,I.pageId=g,y.setting=I,t.abrupt("return",Promise.resolve(y));case 27:if(b){t.next=30;break}return x={stat:H("stat")||"",path:"/cip-golfr/ChannelService/getChannelValue"},t.abrupt("return",L("/cip-golfr/ChannelService/getChannelValue",{method:"POST",query:x,timer:2e3},{cache:"no-cache"}).then(function(t){if(200===t.status&&t.data){var e=t.data.channelType;y.channel=void 0!==e?B[e]||"other":""}return y}).catch(function(t){return console.error("get channel error: ",t),y}));case 30:return t.abrupt("return",Promise.resolve(y));case 31:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(window.MIP.sandbox.this(this),arguments)}}(),z=function(t){if(!t)return{};var e=A({},t);return 15===e.appid?e.appid=N:e.appid=U,e},X=function(){var t=window.MIP.sandbox.window.document.referrer.match(/^https:\/\/m.baidu.com\/baidu.php\?[sc.|url=].*/i),e=H("bd_vid");if(t)return localStorage.removeItem("imChannel"),localStorage.setItem("imChannel","fc"),"fc";var n=localStorage.getItem("imChannel");return e?"fc":n||"other"},J=function(t){window.MIP.sandbox.MIP.Services.getServicePromise(P.UTILS).then(function(e){var n=e.getIsHitExp;t((void 0===n?function(){return!1}:n)("59100-1","layerUpgrade","59100_params"))}).catch(function(){t(!1)})},q=function(){return!(void 0===window.MIP.sandbox.window||!window.MIP.sandbox.window)&&(window.MIP.sandbox.window.location.href.indexOf("baiduApp")>-1||window.MIP.sandbox.window.navigator.userAgent.indexOf("baidu")>-1)};function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var $="is-default-consult",G="isDefaultConsult",Q="small",Z="close",tt={HALF_SCREEN:"half_screen",NEW_PAGE:"new_page"},et={HALF_SCREEN:"jmy-half-screen",NEW_PAGE:"jmy-new-page"},nt={thirdTrack:!0,pageId:window.MIP.sandbox.MIP.getData("pageid")},it={type:1,zIndex:1e5,multiIM:!0,switch:{phoneLayer:!1,unreaessage:!1}},ot={close:{disable:!0,bottom:0},small:{disable:!0,bottom:0},open:{disable:!0,bottom:0}},at=function(t){var e;return e={},g()(e,Z,Y(Y({},it),{},{initState:Z,stateConfig:ot})),g()(e,Q,Y(Y({},it),{},{initDelay:t,initState:Q,stateConfig:ot})),g()(e,"open",Y(Y({},it),{},{initState:"open",stateConfig:ot})),e},rt=function(){var t=window.MIP.sandbox.MIP.getData("extData");return t&&t.consultStyle},st={ROOT:"imlp-consult-blank-black-blank-root",CONTENT:"imlp-consult-blank-black-blank-content",CLOSE:"imlp-consult-blank-black-blank-close"},ct={BLACK_BLANK:{CLOSE:"sjh-consult-black-notice-close",SHOW:"sjh-consult-black-notice-show",AUTO_HIDDEN:"sjh-consult-black-notice-auto-hidden"},IMLP:{CONSULT_CLICK:"sjh-consult-blank-imlp-consult-click",NOTICE_CLICK:"sjh-consult-blank-imlp-black-notice-click",SCREEN:"sjh-consult-blank-imlp-half-screen-interaction"},HALF_SCREEN_INTERACTIVE:{OPEN:"sjh-consult-blank-imlp-half-scree-open",CLOSE:"sjh-consult-blank-imlp-half-scree-close",SMALL:"sjh-consult-blank-imlp-half-scree-small"},AUTO_HALF_SCREEN:"sjh-consult-blank-imlp-auto-half-screen"},lt=window.MIP.sandbox.MIP.Services.getServicePromise(P.UTILS),pt=3e3,ut=5e3,dt=0,ht=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.imUrl,n=_(void 0===e?"":e);return!!(t.imid||n.imid)};!function(){function t(e){o()(window.MIP.sandbox.this(this),t);var n=rt()||e.pcImlpOptions,i=n.type,a=n.autoOpen,r=n.stayTime,s=M(),c=0,l=et.NEW_PAGE;i===tt.HALF_SCREEN&&(l=et.HALF_SCREEN,c=a?at(1e3*r)[Q]:at(0)[Z]);var p={root:"".concat(st.ROOT),content:"".concat(st.CONTENT),close:"".concat(st.CLOSE)};window.MIP.sandbox.this(this).options=Object.assign(nt,{openType:c,jointExpTag:l,theme:C("--groot-ui-color-brand-6")?{wholeColor:C("--groot-ui-color-brand-6")}:void 0}),window.MIP.sandbox.this(this).bingEventFlag=!1,window.MIP.sandbox.this(this).linkOpen=!1,window.MIP.sandbox.this(this).currentConsult={},window.MIP.sandbox.this(this).imParams={},window.MIP.sandbox.this(this).defaultConsult=e.defaultConsult||{},window.MIP.sandbox.this(this).randomNum=s,window.MIP.sandbox.this(this).blackBlankFlag={root:{class:p.root,selector:".".concat(p.root)},content:{class:p.content,selector:".".concat(p.content)},close:{class:p.close,selector:".".concat(p.close)}},window.MIP.sandbox.this(this).blackBlankContent={stack:[],timer:{open:null,close:null,all:null,quit:!1}},window.MIP.sandbox.this(this).closeBlackBlankTime={user:0},window.MIP.sandbox.this(this).initErrorLogStatus=!1}r()(t,[{key:"imlpInitSdk",value:function(t){var e=window.MIP.sandbox.this(this);try{window.MIP.sandbox.window.ImlpSdk.on("ready",function(){var n=e.defaultConsult.imParamKey;n?window.MIP.sandbox.window.ImlpSdk.init(t,e.options,String(n)):window.MIP.sandbox.window.ImlpSdk.init(t,e.options),e.bingEventFlag||(e.bingEventFlag=!0,e.bindImlpEventListeners())})}catch(e){if(window.MIP.sandbox.this(this).initErrorLogStatus)return;window.MIP.sandbox.this(this).initErrorLogStatus=!0;var n=window.MIP.sandbox.this(this).defaultConsult.generalParams,i=!!window.MIP.sandbox.window.ImlpSdk;lt.then(function(e){e.sdk.logActions.addCustomErrorLog(Y(Y({},n),{},{errorKey:"consult-imlp-init-error",userExtra:{imData:t,imlpSdkOnReady:i}}))}),console.error("imlpInit Error: ",e)}}},{key:"imlpInit",value:function(t){var e=window.MIP.sandbox.this(this),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;if(F(t)){var o=String(i);K(t,n).then(function(t){e.imParams[o]=t;var n=g()({},o,{imParam:z(t)});e.imlpInitSdk(n)})}}},{key:"multiImlpInit",value:function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n],o=i.imParam,a=i.options;window.MIP.sandbox.this(this).imParams[n]=o,e[n]={imParam:z(o),options:a}}window.MIP.sandbox.this(this).imlpInitSdk(e)}},{key:"getImParam",value:function(t){return window.MIP.sandbox.this(this).imParams[t]||{}}},{key:"getDefaultConsult",value:function(){return window.MIP.sandbox.this(this).defaultConsult}},{key:"getDefaultConsultDomInfo",value:function(t){var e={};["url","guide","guideShow","__id__","__type__","__name__","__title__","solution-id","solution-type"].forEach(function(n){var i=n.replace(/-|_/g,"");e[i]=t.getAttribute(n)});var n=e.url,i=void 0===n?"":n,o=e.guide,a=void 0===o?{}:o,r=e.guideShow,s=void 0!==r&&r,c=e.id,l=void 0===c?"":c,p=e.type,u=void 0===p?"":p,d=e.name,h=void 0===d?"":d,f=e.title,m=void 0===f?"":f,g=e.solutionid,v=void 0===g?"":g,w=e.solutiontype,b=void 0===w?"":w;return{url:i,guide:JSON.parse(a)||{},guideShow:s,generalParams:{id:l,type:u,name:h,title:m},solutionId:v,solutionType:b}}},{key:"setDefaultConsult",value:function(){var t=window.MIP.sandbox.this(this),e=window.MIP.sandbox.document.getElementsByTagName("mip-sjh-consult-blank"),n=window.MIP.sandbox.document.getElementsByTagName("mip-sjh-trans-fixed-bar-blank-common"),i=window.MIP.sandbox.document.getElementsByTagName("mip-sjh-clue-bar"),o={},a=window.MIP.sandbox.this(this).randomNum;[].slice.call(e).forEach(function(e){"true"===e.getAttribute($)&&(o=Y(Y({},t.getDefaultConsultDomInfo(e)),{},{imParamKey:a}))}),Object.keys(o).length||(n&&n.length?[].slice.call(n).forEach(function(t){JSON.parse(t.getAttribute("consult")||[]).forEach(function(t,e){t[G]&&(o=Y(Y({},t),{},{guide:{show:t.guideShow,text:""},imParamKey:"".concat(a,"-").concat(e)}))})}):i&&i.length&&[].slice.call(i).forEach(function(t,e){var n=JSON.parse(t.getAttribute("datasource")||[]).filter(function(t){return function(t){return"consult"===t.type&&t.data[G]}(t)});if(n&&n.length){var i=n[0].data;o=Y(Y({},i),{},{guide:{show:i.guideShow,text:""},imParamKey:"".concat(a,"-").concat(e)})}})),window.MIP.sandbox.this(this).defaultConsult=o}},{key:"initDefaultConsult",value:function(){0===Object.keys(window.MIP.sandbox.this(this).defaultConsult).length&&window.MIP.sandbox.this(this).setDefaultConsult();var t=window.MIP.sandbox.this(this).getDefaultConsult(),e=t.url,n=t.imParamKey,i=t.guide,o=void 0===i?{}:i,a=o.show,r=o.text;window.MIP.sandbox.this(this).currentConsult=Y({},window.MIP.sandbox.this(this).getDefaultConsult()),a&&r&&window.MIP.sandbox.this(this).pushBlankContentStack(r),window.MIP.sandbox.this(this).imlpInit(e,{},n),window.MIP.sandbox.this(this).blackBlanktTimeStrategies(pt)}},{key:"tranToclient",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1242;return window.MIP.sandbox.document.body.clientWidth*t/e}},{key:"getFixDomBottom",value:function(t){var e=t.querySelector("mip-sjh-module");if(e){var n=JSON.parse(e&&e.getAttribute("fixed-child-properties")||{});if(n&&n.fixed)return window.MIP.sandbox.this(this).tranToclient(n.fixed.bottom,375)}return 0}},{key:"getFixBottomDomSpacing",value:function(){var t=window.MIP.sandbox.this(this).tranToclient(240);if(S())return"80px";var e=window.MIP.sandbox.document.getElementsByClassName("iphonex-adaper-content mip-element");if(e&&e[0]){var n=e[0].offsetHeight;t=window.MIP.sandbox.this(this).getFixDomBottom(e[0])+n+window.MIP.sandbox.this(this).tranToclient(60)}return"".concat(t,"px")}},{key:"bindBlackBlankEvent",value:function(){var t=window.MIP.sandbox.this(this),e=window.MIP.sandbox.this(this).blackBlankFlag,n=e.content,i=e.close;window.MIP.sandbox.document.querySelector(n.selector).addEventListener("click",function(){t.closeBackBlank();var e=Y(Y({},t.currentConsult),{},{compTargetId:ct.IMLP.NOTICE_CLICK});t.callImlp(e)}),window.MIP.sandbox.document.querySelector(i.selector).addEventListener("click",function(){var e=Y(Y({},t.currentConsult),{},{compTargetId:ct.BLACK_BLANK.CLOSE});t.closeBlackBlankTime.user+=1,t.commonComClickLog(e),t.closeBackBlank(ct.BLACK_BLANK.CLOSE)})}},{key:"createBlackBlank",value:function(){var t=window.MIP.sandbox.this(this).getFixBottomDomSpacing(),e=window.MIP.sandbox.this(this).blackBlankFlag,n=e.content,i=e.close,o=e.root,a='\n            <div\n                class="'.concat(o.class,' iphonex-adaper-content"\n                style="position: fixed; bottom: ').concat(t,'; left: 0.97rem; display: none; z-index: 10000"\n            >\n                <div\n                    style="display: flex; align-items: center; background: rgba(0, 0, 0, .8);\n                    color: #fff; height: 2.72rem; width: 21.52rem;\n                    border-radius: 0.32rem; box-shadow: 0 0.04rem 0.56rem 0 rgba(0,0,0,0.30);"\n                >\n                    <span\n                        class="icon iconfont iconkefu"\n                        style="padding-left: 0.78rem; width: 1.05rem; height: 1.13rem"\n                    ></span>\n                    <span\n                        class="').concat(n.class,'"\n                        style="padding-left: 0.56rem; width: 16.87rem; font-size: 0.85rem;\n                        white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"\n                    ></span>\n                    <span\n                        class="').concat(i.class,' icon iconfont iconguanbi4"\n                        style="font-size: 0.65rem; opacity: 0.7; padding-left: 0.68rem"\n                    ></span>\n                </div>\n            </div>\n        '),r=window.MIP.sandbox.document.createElement("div");r.innerHTML=a,S()?window.MIP.sandbox.document.querySelector(".canvas-module_edit-area").appendChild(r):(window.MIP.sandbox.document.body.appendChild(r),window.MIP.sandbox.this(this).bindBlackBlankEvent())}},{key:"setBlackBlankContent",value:function(t){var e=window.MIP.sandbox.document.querySelector(window.MIP.sandbox.this(this).blackBlankFlag.content.selector);e&&(e.innerHTML=t)}},{key:"closeBackBlank",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=window.MIP.sandbox.document.querySelector(window.MIP.sandbox.this(this).blackBlankFlag.root.selector);if(n&&"block"===n.style.display&&(n.style.display="none",e&&J(function(t){t&&(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];window.MIP.sandbox.MIP.Services.getServicePromise("LAYER_CONTROLLER").then(function(i){i.closeGlobalModal(t,e,n)})}(),function(t){window.MIP.sandbox.MIP.Services.getServicePromise("LAYER_CONTROLLER").then(function(e){e.releaseLayerLock(t)})}("consult-black-message"))})),t){var i=Y(Y({},window.MIP.sandbox.this(this).currentConsult),{},{compTargetId:t});window.MIP.sandbox.this(this).commonComClickLog(i)}}},{key:"showBlackBlank",value:function(t){var e=window.MIP.sandbox.this(this),n=S()?t:window.MIP.sandbox.this(this).blackBlankContent.stack.pop(),i=window.MIP.sandbox.this(this).closeBlackBlankTime.user;if(n&&!(i>2)){!window.MIP.sandbox.document.querySelector(window.MIP.sandbox.this(this).blackBlankFlag.root.selector)&&window.MIP.sandbox.this(this).createBlackBlank(),window.MIP.sandbox.this(this).blackBlankContent.stack=[],window.MIP.sandbox.this(this).setBlackBlankContent(n);var o=Y(Y({},window.MIP.sandbox.this(this).currentConsult),{},{compTargetId:ct.BLACK_BLANK.SHOW});window.MIP.sandbox.this(this).commonComClickLog(o),J(function(t){var i=window.MIP.sandbox.document.querySelector(e.blackBlankFlag.root.selector);t&&i&&"block"!==i.style.display?q()?i&&(i.style.display="block")&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.MIP.sandbox.MIP.Services.getServicePromise("LAYER_CONTROLLER").then(function(e){e.appendToLayer(t)})}({dom:i,level:4}):window.MIP.sandbox.MIP.Services.getServicePromise("LAYER_CONTROLLER").then(function(t){if(t.checkShowMipLayer())i&&i.style&&(i.style.display="block",function(t){window.MIP.sandbox.MIP.Services.getServicePromise("LAYER_CONTROLLER").then(function(e){e.lockLayer(t)})}(),t.appendToLayer({dom:i,level:4}));else{e.pushBlankContentStack(n);var o=e.blackBlankContent.timer,a=o.open,r=o.close;e.blackBlankContent.timer.open=clearTimeout(a),e.blackBlankContent.timer.close=clearTimeout(r)}}):i&&(i.style.display="block")})}}},{key:"commonComClickLog",value:function(t){var e=t.url,n=t.generalParams,i=t.compTargetId;lt.then(function(t){var o=t.sdk,a=o.configOfLogAction.actionIdForDeveloper,r=Y(Y({},n),{},{actionId:a.SITE_COMP_CLICK,compTargetId:i});e&&(r.userExtra={target_info:e}),o.logActions.addUserDefinedLog(r)})}},{key:"imlpLinkLog",value:function(t){var e=t.url,n=t.solutionId,i=t.solutionType,o=t.imParamKey,a=t.generalParams,r=t.compTargetId;if(e){if(F(e)){var s=window.MIP.sandbox.this(this).getImParam(o),c=s.adviceType,l=s.imlpAccessId;if(!l)return;return void lt.then(function(t){t.sdk.logActions.addImlpLog(Y(Y({},a),{},{target:e,solutionId:n,solutionType:i,compTargetId:r,adviceType:c,imlpId:l}))})}var p={url:e,generalParams:a,compTargetId:"sjh-consult-blank-link"};window.MIP.sandbox.this(this).commonComClickLog(p)}}},{key:"callImlp",value:function(t){var e=window.MIP.sandbox.this(this),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};try{var i=_(location.search).xst||window.MIP.sandbox.MIP.getData("xstAdReferer"),o={ext:{url:location.href,title:window.MIP.sandbox.document.title},xst:i};window.MIP.sandbox.window.ImlpSdk.on("ready",function(){var i=e.getImParam(t.imParamKey);if(i.channel||(i.channel=X()),ht(i)){var a=JSON.parse(localStorage.getItem("userTrack"))||{};window.MIP.sandbox.window.ImlpSdk.track(a,!0),e.currentConsult=Object.assign({},t),e.imlpLinkLog(t),window.MIP.sandbox.window.ImlpSdk.openIM(i,o,e.options)}else n()})}catch(t){n(),console.error("callImlp Error: ",t)}}},{key:"releaseUnReadInfo",value:function(t){var e=window.MIP.sandbox.this(this);lt.then(function(n){var i=n.eventManager,o={countNume:t>99?"99+":String(t),imParamKey:e.currentConsult.imParamKey};i.trigger("unreadSubscription",o)})}},{key:"pushBlankContentStack",value:function(t){window.MIP.sandbox.this(this).blackBlankContent.stack=window.MIP.sandbox.this(this).blackBlankContent.stack.concat(t)}},{key:"blackBlanktTimeStrategies",value:function(t,e){var n=window.MIP.sandbox.this(this);if(S())window.MIP.sandbox.this(this).showBlackBlank(e);else{var i=window.MIP.sandbox.this(this).blackBlankContent.timer,o=i.open,a=i.close;window.MIP.sandbox.this(this).blackBlankContent.timer.open=clearTimeout(o),window.MIP.sandbox.this(this).blackBlankContent.timer.close=clearTimeout(a),window.MIP.sandbox.this(this).blackBlankContent.timer.quit||(window.MIP.sandbox.this(this).blackBlankContent.timer.open=setTimeout(function(){n.showBlackBlank(),n.blackBlankContent.timer.close=setTimeout(function(){n.closeBackBlank(ct.BLACK_BLANK.AUTO_HIDDEN),n.blackBlanktTimeStrategies(5e3)},ut)},t))}}},{key:"clearPushInfo",value:function(){window.MIP.sandbox.this(this).linkOpen&&(window.MIP.sandbox.this(this).blackBlankContent.stack=[]),window.MIP.sandbox.this(this).blackBlankContent.timer.open=clearTimeout(window.MIP.sandbox.this(this).blackBlankContent.timer.open),window.MIP.sandbox.this(this).blackBlankContent.timer.close=clearTimeout(window.MIP.sandbox.this(this).blackBlankContent.timer.close),window.MIP.sandbox.this(this).closeBackBlank("",!1),window.MIP.sandbox.this(this).releaseUnReadInfo(0)}},{key:"bindImlpEventListeners",value:function(){var t=window.MIP.sandbox.this(this);window.MIP.sandbox.window.ImlpSdk.on("imlpState",function(e){4===e&&(t.linkOpen=!0,t.clearPushInfo())}),window.MIP.sandbox.window.ImlpSdk.on("unreadMessage",function(e){var n=e.count,i=void 0===n?0:n,o=e.unread,a=void 0===o?[]:o;t.releaseUnReadInfo(i);var r=a.map(function(t){var e=t.content;return"image"===t.content_type&&(e="[图片]"),e});t.pushBlankContentStack(r),t.blackBlankContent.timer.close&&t.blackBlanktTimeStrategies(dt)}),window.MIP.sandbox.window.ImlpSdk.on("inviteMessage",function(e){t.inviteMessage=e&&e.content,e&&e.content&&t.pushBlankContentStack(e.content)}),window.MIP.sandbox.window.ImlpSdk.on("popupStateChange",function(e){var n=Y({},t.currentConsult);if(e.state===Q&&(n.compTargetId=ct.HALF_SCREEN_INTERACTIVE.SMALL,t.clearPushInfo()),"open"===e.state&&(n.compTargetId=ct.HALF_SCREEN_INTERACTIVE.OPEN,t.clearPushInfo()),e.state===Z&&(t.blackBlanktTimeStrategies(ut),n.compTargetId=ct.HALF_SCREEN_INTERACTIVE.CLOSE),"initPopup"===e.trigger)return n.compTargetId=ct.IMLP.SCREEN,void t.imlpLinkLog(n);t.commonComClickLog(n)}),q()||lt.then(function(e){e.eventManager.addHandler("release_lock",function(e){"consult-black-message"!==e&&setTimeout(function(){t.blackBlanktTimeStrategies(dt)},1e3)})})}},{key:"clearAllTimer",value:function(){var t=window.MIP.sandbox.this(this);window.MIP.sandbox.this(this).blackBlankContent.timer.all=setTimeout(function(){var e=t.blackBlankContent.timer,n=e.open,i=e.close,o=e.all;clearTimeout(n),clearTimeout(i),clearTimeout(o),t.blackBlankContent.timer.quit=!0},18e5)}}])}();function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}var mt=window.MIP.sandbox.MIP.Services.getServicePromise(P.UTILS),gt=function(t){var e=t.imid,n=t.level1,i=void 0===n?"":n,o=t.level2,a=void 0===o?"":o,r=t.level3,s=void 0===r?"":r,c=t.im_type,l=void 0===c?"":c;return[e||_(t.imUrl).imid||"",i,a,s,l].join("_")},vt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.imUrl,n=_(void 0===e?"":e);return t.imid||n.imid},wt=function(t){var e=t.compTargetId,n=t.userExtra;return mt.then(function(t){var i=t.sdk,o=i.configOfLogAction.actionIdForDeveloper;i.logActions.addUserDefinedLog({id:"mip-sjh-imlp-sdk",name:"mip-sjh-imlp-sdk",type:"mip-sjh-imlp-sdk",title:"imlp-sdk",actionId:o.SITE_REQ_RECV,compTargetId:e,userExtra:n})})},bt=function(t){var e=t.compTargetId,n=t.imParams,i=t.extData;Object.values(n).forEach(function(t){var n=t.imParam;wt({compTargetId:e,userExtra:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({imid:vt(n),imParam:n},i)})})};function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=d()(t);if(e){var o=d()(window.MIP.sandbox.this(this)).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(window.MIP.sandbox.this(this),arguments);return p()(window.MIP.sandbox.this(this),n)}}n.d(e,"default",function(){return xt});var It=window.MIP.sandbox.MIP.Services.getServicePromise(P.UTILS);var xt=function(t){c()(n,t);var e=yt(n);function n(){return o()(window.MIP.sandbox.this(this),n),e.apply(window.MIP.sandbox.this(this),arguments)}return r()(n,[{key:"build",value:function(){window.MIP.sandbox.window.ImlpSdk||(window.MIP.sandbox.window.ImlpSdk=f.a,It.then(function(t){t.eventManager.trigger("imlp-sdk-init")})),window.MIP.sandbox.window.ImlpSdk.tempInit||(window.MIP.sandbox.window.ImlpSdk.tempOpenIM=window.MIP.sandbox.window.ImlpSdk.openIM,window.MIP.sandbox.window.ImlpSdk.openIM=function(t,e,n){window.MIP.sandbox.window.ImlpSdk.tempOpenIM(I(t),e,n)},window.MIP.sandbox.window.ImlpSdk.tempInit=window.MIP.sandbox.window.ImlpSdk.init,window.MIP.sandbox.window.ImlpSdk.init=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(Object.keys(t||{}).length){!function(t){window.MIP.sandbox.MIP.Services.getServicePromise(P.UTILS).then(function(e){var n=e.sdk,i=e.clientPrerender;if(window.MIP.sandbox.MIP.getData("clientPrerenderSmFlow"))i.pageActivePromise().then(function(){t&&t()});else if(n.prerender.globalData.isInSm){var o=n.prerender,a=o.isPrerendering,r=o.isPageShow;a()?window.MIP.sandbox.window.addEventListener("message",function(e){r(e)&&t&&t()}):t&&t()}else t&&t()})}(function(){e.xst=e.xst||window.MIP.sandbox.MIP.getData("xstAdReferer")||"",(k()||0===window.MIP.sandbox.window.location.host.indexOf("preview-sjh"))&&(e.preview=1),window.MIP.sandbox.window.ImlpSdk.tempInit(t,e,n),function(t){if(!S())for(var e in t)if(t.hasOwnProperty(e)){var n=t[String(e)].imParam;if(!ht(n))return;var i=gt(n),o=window.MIP.sandbox.MIP.getData("IMLPSDK_INIT_KEY")||[];if(o.includes(i))return;o.push(i),window.MIP.sandbox.MIP.setData({IMLPSDK_INIT_KEY:o}),wt({compTargetId:"imlp-sdk-init",userExtra:{imid:vt(n),imParam:n}})}}(t)})}},window.MIP.sandbox.window.ImlpSdk.on("ready",function(){window.MIP.sandbox.MIP.getData("ENTRY_SITE_LISTENER_STATUS")||(window.MIP.sandbox.MIP.setData({ENTRY_SITE_LISTENER_STATUS:!0}),window.MIP.sandbox.window.ImlpSdk.on("entrySiteSuccess",function(t){bt({compTargetId:"imlp-entry-site-success",imParams:t})}))})),window.MIP.sandbox.window.top||(window.MIP.sandbox.window.top={},window.MIP.sandbox.window.top.location=window.MIP.sandbox.window.location)}}]),n}(window.MIP.sandbox.MIP.CustomElement)},function(t,e,n){"use strict";var i=n(12),o=n(8),a=n(5),r=n(2)("species");t.exports=function(t){var e=i[t];a&&e&&!e[r]&&o.f(e,r,{configurable:!0,get:function(){return this}})}},function(t,e){if(void 0===__mipComponentsWebpackHelpers__["core-js/modules/_ctx"]){var n=new Error("Cannot find module '__mipComponentsWebpackHelpers__['core-js/modules/_ctx']'");throw n.code="MODULE_NOT_FOUND",n}t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_ctx"]},function(t,e,n){var i=n(11),o=n(0),a=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(56)(Function.call,n(40).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:a}},function(t,e,n){var i=n(11),o=n(57).set;t.exports=function(t,e,n){var a,r=e.constructor;return r!==n&&"function"==typeof r&&(a=r.prototype)!==n.prototype&&i(a)&&o&&o(t,a),t}},function(t,e){t.exports=__mipComponentsWebpackHelpers__["regenerator-runtime/runtime"]},function(t,e,n){"use strict";n(38)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";var i=n(0),o=n(42),a=n(20),r=n(33),s=n(27),c=n(17),l=Math.max,p=Math.min,u=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g,f=function(t){return void 0===t?t:String(t)};n(16)("replace",2,function(t,e,n,m){return[function(i,o){var a=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,a,o):n.call(String(a),i,o)},function(t,e){var o=m(n,t,this,e);if(o.done)return o.value;var u=i(t),d=String(this),h="function"==typeof e;h||(e=String(e));var v=u.global;if(v){var w=u.unicode;u.lastIndex=0}for(var b=[];;){var y=c(u,d);if(null===y)break;if(b.push(y),!v)break;""===String(y[0])&&(u.lastIndex=s(d,a(u.lastIndex),w))}for(var I="",x=0,P=0;P<b.length;P++){y=b[P];for(var k=String(y[0]),S=l(p(r(y.index),d.length),0),_=[],M=1;M<y.length;M++)_.push(f(y[M]));var C=y.groups;if(h){var T=[k].concat(_,S,d);void 0!==C&&T.push(C);var O=String(e.apply(void 0,T))}else O=g(k,d,S,_,C,e);S>=x&&(I+=d.slice(x,S)+O,x=S+k.length)}return I+d.slice(x)}];function g(t,e,i,a,r,s){var c=i+t.length,l=a.length,p=h;return void 0!==r&&(r=o(r),p=d),n.call(s,p,function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(c);case"<":s=r[o.slice(1,-1)];break;default:var p=+o;if(0===p)return n;if(p>l){var d=u(p/10);return 0===d?n:d<=l?void 0===a[d-1]?o.charAt(1):a[d-1]+o.charAt(1):n}s=a[p-1]}return void 0===s?"":s})}})},function(t,e,n){"use strict";n(38)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var i=n(26);n(3)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},function(t,e,n){var i=n(34),o=n(2)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:a?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var i=n(33),o=n(13);t.exports=function(t){return function(e,n){var a,r,s=String(o(e)),c=i(n),l=s.length;return c<0||c>=l?t?"":void 0:(a=s.charCodeAt(c))<55296||a>56319||c+1===l||(r=s.charCodeAt(c+1))<56320||r>57343?t?s.charAt(c):a:t?s.slice(c,c+2):r-56320+(a-55296<<10)+65536}}},function(t,e,n){var i=n(0),o=n(30),a=n(2)("species");t.exports=function(t,e){var n,r=i(t).constructor;return void 0===r||void 0==(n=i(r)[a])?e:o(n)}},function(t,e,n){var i=n(2)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var i=n(28),o=n(13);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},function(t,e,n){"use strict";var i=n(3),o=n(69);i(i.P+i.F*n(68)("includes"),"String",{includes:function(t){return!!~o(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var i=n(3),o=n(46)(!0);i(i.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(45)("includes")},function(t,e,n){var i=n(5),o=n(48),a=n(6),r=n(39).f;t.exports=function(t){return function(e){for(var n,s=a(e),c=o(s),l=c.length,p=0,u=[];l>p;)n=c[p++],i&&!r.call(s,n)||u.push(t?[n,s[n]]:s[n]);return u}}},function(t,e,n){var i=n(3),o=n(72)(!1);i(i.S,"Object",{values:function(t){return o(t)}})},function(t,e,n){"use strict";var i=n(8),o=n(29);t.exports=function(t,e,n){e in t?i.f(t,e,o(0,n)):t[e]=n}},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_ie8-dom-define"]},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_to-primitive"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(41),o=n(77),a=n(0),r=n(12).Reflect;t.exports=r&&r.ownKeys||function(t){var e=i.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(21),o=n(42),a=n(32)("IE_PROTO"),r=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),i(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?r:null}},function(t,e,n){"use strict";var i=n(49),o=n(29),a=n(43),r={};n(19)(r,n(2)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(r,{next:o(1,n)}),a(t,e+" Iterator")}},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_library"]},function(t,e,n){"use strict";var i=n(81),o=n(3),a=n(22),r=n(19),s=n(44),c=n(80),l=n(43),p=n(79),u=n(2)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,f,m,g,v){c(n,e,f);var w,b,y,I=function(t){if(!d&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",P="values"==m,k=!1,S=t.prototype,_=S[u]||S["@@iterator"]||m&&S[m],M=_||I(m),C=m?P?I("entries"):M:void 0,T="Array"==e&&S.entries||_;if(T&&(y=p(T.call(new t)))!==Object.prototype&&y.next&&(l(y,x,!0),i||"function"==typeof y[u]||r(y,u,h)),P&&_&&"values"!==_.name&&(k=!0,M=function(){return _.call(this)}),i&&!v||!d&&!k&&S[u]||r(S,u,M),s[e]=M,s[x]=h,m)if(w={values:P?M:I("values"),keys:g?M:I("keys"),entries:C},v)for(b in w)b in S||a(S,b,w[b]);else o(o.P+o.F*(d||k),e,w);return w}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){"use strict";var i=n(30),o=n(11),a=n(84),r=[].slice,s={};t.exports=Function.bind||function(t){var e=i(this),n=r.call(arguments,1),c=function(){var i=n.concat(r.call(arguments));return this instanceof c?function(t,e,n){if(!(e in s)){for(var i=[],o=0;o<e;o++)i[o]="a["+o+"]";s[e]=Function("F,a","return new F("+i.join(",")+")")}return s[e](t,n)}(e,i.length,i):a(e,i,t)};return o(e.prototype)&&(c.prototype=e.prototype),c}},function(t,e,n){var i=n(12).document;t.exports=i&&i.documentElement},function(t,e){t.exports=__mipComponentsWebpackHelpers__["core-js/modules/_dom-create"]},function(t,e,n){var i=n(33),o=Math.max,a=Math.min;t.exports=function(t,e){return(t=i(t))<0?o(t+e,0):a(t,e)}},function(t,e,n){var i=n(34);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(8),o=n(0),a=n(48);t.exports=n(5)?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),s=r.length,c=0;s>c;)i.f(t,n=r[c++],e[n]);return t}},function(t,e,n){var i=n(3),o=n(49),a=n(30),r=n(0),s=n(11),c=n(7),l=n(85),p=(n(12).Reflect||{}).construct,u=c(function(){function t(){}return!(p(function(){},[],t)instanceof t)}),d=!c(function(){p(function(){})});i(i.S+i.F*(u||d),"Reflect",{construct:function(t,e){a(t),r(e);var n=arguments.length<3?t:a(arguments[2]);if(d&&!u)return p(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(l.apply(t,i))}var c=n.prototype,h=o(s(c)?c:Object.prototype),f=Function.apply.call(t,h,e);return s(f)?f:h}})},function(t,e,n){n(5)&&"g"!=/./g.flags&&n(8).f(RegExp.prototype,"flags",{configurable:!0,get:n(23)})},function(t,e,n){"use strict";n(92);var i=n(0),o=n(23),a=n(5),r=/./.toString,s=function(t){n(22)(RegExp.prototype,"toString",t,!0)};n(7)(function(){return"/a/b"!=r.call({source:"a",flags:"b"})})?s(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?o.call(t):void 0)}):"toString"!=r.name&&s(function(){return r.call(this)})}]);t.__esModule&&(t=t.default),t&&MIP.registerElement("mip-sjh-imlp-sdk",t)}});